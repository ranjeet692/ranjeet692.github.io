var vertexShaderText=["precision mediump float;","","attribute vec3 vertPosition;","attribute vec3 vertColor;","varying vec3 fragColor;","uniform mat4 mWorld;","uniform mat4 mView;","uniform mat4 mProj;","","void main()","{","  fragColor = vertColor;","  gl_Position = mProj * mView * mWorld * vec4(vertPosition, 1.0);","}"].join("\n"),fragmentShaderText=["precision mediump float;","","varying vec3 fragColor;","void main()","{","  gl_FragColor = vec4(fragColor, 1.0);","}"].join("\n"),CameraTest=function(){var e=sender.getID();this.begin=function(t,i,r){var a=getGL(t);a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.enable(a.DEPTH_TEST),a.enable(a.CULL_FACE),a.frontFace(a.CCW),a.cullFace(a.BACK);var n=a.createShader(a.VERTEX_SHADER),o=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(n,vertexShaderText),a.shaderSource(o,fragmentShaderText),a.compileShader(n),a.getShaderParameter(n,a.COMPILE_STATUS)&&(a.compileShader(o),a.getShaderParameter(o,a.COMPILE_STATUS))){var s=a.createProgram();if(a.attachShader(s,n),a.attachShader(s,o),a.linkProgram(s),a.getProgramParameter(s,a.LINK_STATUS)&&(a.validateProgram(s),a.getProgramParameter(s,a.VALIDATE_STATUS))){var l=[0,1,2,0,2,3,5,4,6,6,4,7,8,9,10,8,10,11,13,12,14,15,14,12,16,17,18,16,18,19,21,20,22,22,20,23],c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,-1,.1,.1,.1,-1,1,1,.8,.5,.3,1,1,1,.2,.4,.7,1,1,-1,.1,.9,.6,-1,1,1,.75,.25,.5,-1,-1,1,.1,.25,.85,-1,-1,-1,.9,.12,.53,-1,1,-1,.3,.4,.7,1,1,1,.25,.25,.2,1,-1,1,.52,.24,.75,1,-1,-1,.1,.26,.75,1,1,-1,.9,.95,.75,1,1,1,.4,0,.7,1,-1,1,.98,0,.54,-1,-1,1,1,5.3,.34,-1,1,1,.2,.5,.9,1,1,-1,.34,.3,.34,1,-1,-1,.78,.76,.56,-1,-1,-1,.3,1,.67,-1,1,-1,.1,1,.2,-1,-1,-1,.5,.8,.8,-1,-1,1,.3,.7,.1,1,-1,1,.6,.6,.5,1,-1,-1,.8,.4,.2]),a.STATIC_DRAW);var h=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),a.STATIC_DRAW);var u=a.getAttribLocation(s,"vertPosition"),d=a.getAttribLocation(s,"vertColor");a.vertexAttribPointer(u,3,a.FLOAT,a.FALSE,6*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(d,3,a.FLOAT,a.FALSE,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(u),a.enableVertexAttribArray(d),a.useProgram(s);var p=a.getUniformLocation(s,"mWorld"),m=a.getUniformLocation(s,"mView"),f=a.getUniformLocation(s,"mProj"),E=new Float32Array(16),g=new Float32Array(16),T=new Float32Array(16);mat4.identity(E),mat4.lookAt(g,[-1,-4,-10],[0,0,0],[0,1,0]),mat4.perspective(T,glMatrix.toRadian(45),t.width/t.height,.1,1e3),a.uniformMatrix4fv(p,a.FALSE,E),a.uniformMatrix4fv(m,a.FALSE,g),a.uniformMatrix4fv(f,a.FALSE,T);var v=new Float32Array(16),M=new Float32Array(16),S=0,y=0,R=new Float32Array(16);mat4.identity(R),y=19,S=0;var x=function(){var t=requestAnimationFrame(x);S=y++/20,mat4.rotate(M,R,S,[0,1,0]),mat4.rotate(v,R,S/4,[1,0,0]),mat4.mul(E,M,v),a.uniformMatrix4fv(p,a.FALSE,E),a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT),a.drawElements(a.TRIANGLES,l.length,a.UNSIGNED_SHORT,0),20==y&&(sender.getData(a,e),cancelAnimationFrame(t),i(r))};requestAnimationFrame(x)}}}},CanvasTest=function(){return canvasData="Not supported",canvas=$("<canvas height='60' width='400'></canvas>")[0],canvasContext=canvas.getContext("2d"),canvas.style.display="inline",canvasContext.textBaseline="alphabetic",canvasContext.fillStyle="#f60",canvasContext.fillRect(125,1,62,20),canvasContext.fillStyle="#069",canvasContext.font="11pt no-real-font-123",canvasContext.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",2,15),canvasContext.fillStyle="rgba(102, 204, 0, 0.7)",canvasContext.font="18pt Arial",canvasContext.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",4,45),canvasData=canvas.toDataURL(),canvasData},CubeTest=(vertexShaderText=["precision mediump float;","","attribute vec3 vertPosition;","attribute vec3 vertColor;","varying vec3 fragColor;","uniform mat4 mWorld;","uniform mat4 mView;","uniform mat4 mProj;","","void main()","{","  fragColor = vertColor;","  gl_Position = mProj * mView * mWorld * vec4(vertPosition, 1.0);","}"].join("\n"),fragmentShaderText=["precision mediump float;","","varying vec3 fragColor;","void main()","{","  gl_FragColor = vec4(fragColor, 1.0);","}"].join("\n"),function(e){var t=sender.getID();this.begin=function(i,r,a){var n;"normal"==e?n=getGL(i):(i=getCanvas("can_aa"),n=getGLAA(i)),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(n.BACK);var o=n.createShader(n.VERTEX_SHADER),s=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(o,vertexShaderText),n.shaderSource(s,fragmentShaderText),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)&&(n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS))){var l=n.createProgram();if(n.attachShader(l,o),n.attachShader(l,s),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)&&(n.validateProgram(l),n.getProgramParameter(l,n.VALIDATE_STATUS))){var c=[0,1,2,0,2,3,5,4,6,6,4,7,8,9,10,8,10,11,13,12,14,15,14,12,16,17,18,16,18,19,21,20,22,22,20,23],h=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,h),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,1,-1,.1,.1,.1,-1,1,1,.8,.5,.3,1,1,1,.2,.4,.7,1,1,-1,.1,.9,.6,-1,1,1,.75,.25,.5,-1,-1,1,.1,.25,.85,-1,-1,-1,.9,.12,.53,-1,1,-1,.3,.4,.7,1,1,1,.25,.25,.2,1,-1,1,.52,.24,.75,1,-1,-1,.1,.26,.75,1,1,-1,.9,.95,.75,1,1,1,.4,0,.7,1,-1,1,.98,0,.54,-1,-1,1,1,5.3,.34,-1,1,1,.2,.5,.9,1,1,-1,.34,.3,.34,1,-1,-1,.78,.76,.56,-1,-1,-1,.3,1,.67,-1,1,-1,.1,1,.2,-1,-1,-1,.5,.8,.8,-1,-1,1,.3,.7,.1,1,-1,1,.6,.6,.5,1,-1,-1,.8,.4,.2]),n.STATIC_DRAW);var u=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,u),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),n.STATIC_DRAW);var d=n.getAttribLocation(l,"vertPosition"),p=n.getAttribLocation(l,"vertColor");n.vertexAttribPointer(d,3,n.FLOAT,n.FALSE,6*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(p,3,n.FLOAT,n.FALSE,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),n.enableVertexAttribArray(d),n.enableVertexAttribArray(p),n.useProgram(l);var m=n.getUniformLocation(l,"mWorld"),f=n.getUniformLocation(l,"mView"),E=n.getUniformLocation(l,"mProj"),g=new Float32Array(16),T=new Float32Array(16),v=new Float32Array(16);mat4.identity(g),mat4.lookAt(T,[0,0,-5],[0,0,0],[0,1,0]),mat4.perspective(v,glMatrix.toRadian(45),i.width/i.height,.1,1e3),n.uniformMatrix4fv(m,n.FALSE,g),n.uniformMatrix4fv(f,n.FALSE,T),n.uniformMatrix4fv(E,n.FALSE,v);var M=new Float32Array(16),S=new Float32Array(16),y=0,R=0,x=new Float32Array(16);mat4.identity(x),R=19,y=0;var b=function(){var e=requestAnimationFrame(b);y=R++/20,mat4.rotate(S,x,y,[0,1,0]),mat4.rotate(M,x,y/4,[1,0,0]),mat4.mul(g,S,M),n.uniformMatrix4fv(m,n.FALSE,g),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT),n.drawElements(n.TRIANGLES,c.length,n.UNSIGNED_SHORT,0),20==R&&(sender.getData(n,t),cancelAnimationFrame(e),r(a))};requestAnimationFrame(b)}}}});function audioFingerPrinting(){try{var e=new(window.AudioContext||window.webkitAudioContext),t=(e.createOscillator(),e.createAnalyser(),e.createGain(),e.createScriptProcessor(4096,1,1),e.destination);return e.sampleRate.toString()+"_"+t.maxChannelCount+"_"+t.numberOfInputs+"_"+t.numberOfOutputs+"_"+t.channelCount+"_"+t.channelCountMode+"_"+t.channelInterpretation}catch(e){return"not supported"}}(function(){var e,t,i,r,a,n,o,s,l,c,h,u,d,p,m={}.hasOwnProperty;h=Math.PI,l=(u=2*h)/360,r=function(){function e(e){this.data=e,null==this.data&&(this.data=new Float32Array(9)),this.ident()}return e.prototype.ident=function(){var e;return(e=this.data)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},e.prototype.transpose=function(){var e,t,i,r;return e=(r=this.data)[1],t=r[2],i=r[5],r[1]=r[3],r[2]=r[6],r[3]=e,r[5]=r[7],r[6]=t,r[7]=i,this},e.prototype.mulVec3=function(e,t){return null==t&&(t=e),this.mulVal3(e.x,e.y,e.z,t),t},e.prototype.mulVal3=function(e,t,i,r){var a;return r=r.data,a=this.data,r[0]=a[0]*e+a[3]*t+a[6]*i,r[1]=a[1]*e+a[4]*t+a[7]*i,r[2]=a[2]*e+a[5]*t+a[8]*i,this},e.prototype.rotatex=function(e){var t,i;return i=Math.sin(e*l),t=Math.cos(e*l),this.amul(1,0,0,0,t,i,0,-i,t)},e.prototype.rotatey=function(e){var t,i;return i=Math.sin(e*l),t=Math.cos(e*l),this.amul(t,0,-i,0,1,0,i,0,t)},e.prototype.rotatez=function(e){var t,i;return i=Math.sin(e*l),t=Math.cos(e*l),this.amul(t,i,0,-i,t,0,0,0,1)},e.prototype.amul=function(e,t,i,r,a,n,o,s,l,c,h,u){var d,p,m,f,E,g,T,v,M,S;return p=(d=this.data)[0],E=d[1],v=d[2],m=d[3],g=d[4],M=d[5],f=d[6],T=d[7],S=d[8],d[0]=p*e+m*t+f*i,d[1]=E*e+g*t+T*i,d[2]=v*e+M*t+S*i,d[3]=p*r+m*a+f*n,d[4]=E*r+g*a+T*n,d[5]=v*r+M*a+S*n,d[6]=p*o+m*s+f*l,d[7]=E*o+g*s+T*l,d[8]=v*o+M*s+S*l,this},e.prototype.fromMat4Rot=function(e){return e.toMat3Rot(this)},e.prototype.log=function(){var e;return e=this.data,console.log("%f, %f, %f,\n%f, %f, %f, \n%f, %f, %f, ",e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},e}(),a=function(){function e(e){this.data=e,null==this.data&&(this.data=new Float32Array(16)),this.ident()}return e.prototype.ident=function(){var e;return(e=this.data)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},e.prototype.zero=function(){var e;return(e=this.data)[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=0,this},e.prototype.copy=function(e){var t,i;return i=this.data,(t=e.data)[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],e},e.prototype.toMat3=function(e){var t,i;return i=this.data,(t=e.data)[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[4],t[4]=i[5],t[5]=i[6],t[6]=i[8],t[7]=i[9],t[8]=i[10],e},e.prototype.toMat3Rot=function(e){var t,i,r,a,n,o,s,l,c,h,u,d,p,m,f;return p=e.data,t=(f=this.data)[0],i=f[1],r=f[2],a=f[4],n=f[5],o=f[6],s=f[8],l=f[9],m=1/(t*(h=(c=f[10])*n-o*l)+i*(u=-c*a+o*s)+r*(d=l*a-n*s)),p[0]=h*m,p[3]=(-c*i+r*l)*m,p[6]=(o*i-r*n)*m,p[1]=u*m,p[4]=(c*t-r*s)*m,p[7]=(-o*t+r*a)*m,p[2]=d*m,p[5]=(-l*t+i*s)*m,p[8]=(n*t-i*a)*m,e},e.prototype.perspective=function(e){var t,i,r,a,n,o,s,l,c;return null==(n=e.fov)&&(n=60),null==(t=e.aspect)&&(t=1),null==(s=e.near)&&(s=.01),null==(a=e.far)&&(a=100),this.zero(),r=this.data,o=-(l=(c=s*Math.tan(n*Math.PI/360))*t),i=-c,r[0]=2*s/(l-o),r[5]=2*s/(c-i),r[8]=(l+o)/(l-o),r[9]=(c+i)/(c-i),r[10]=-(a+s)/(a-s),r[11]=-1,r[14]=-2*a*s/(a-s),this},e.prototype.inversePerspective=function(e,t,i,r){var a,n,o,s,l;return this.zero(),n=this.data,o=-(s=(l=i*Math.tan(e*Math.PI/360))*t),a=-l,n[0]=(s-o)/(2*i),n[5]=(l-a)/(2*i),n[11]=-(r-i)/(2*r*i),n[12]=(s+o)/(2*i),n[13]=(l+a)/(2*i),n[14]=-1,n[15]=(r+i)/(2*r*i),this},e.prototype.ortho=function(e,t,i,r,a,n){var o,s,l;return null==e&&(e=-1),null==t&&(t=1),null==i&&(i=-1),null==r&&(r=1),null==a&&(a=-1),null==n&&(n=1),s=n-a,l=i-r,o=t-e,this.set(2/s,0,0,-(a+n)/s,0,2/l,0,-(i+r)/l,0,0,-2/o,-(t+e)/o,0,0,0,1)},e.prototype.inverseOrtho=function(e,t,i,r,a,n){var o,s,l,c,h,u;return null==e&&(e=-1),null==t&&(t=1),null==i&&(i=-1),null==r&&(r=1),null==a&&(a=-1),null==n&&(n=1),o=(n-a)/2,s=(n+a)/2,l=(i-r)/2,c=(i+r)/2,h=(t-e)/-2,u=(e+t)/2,this.set(o,0,0,s,0,l,0,c,0,0,h,u,0,0,0,1)},e.prototype.fromRotationTranslation=function(e,t){var i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g,T;return c=(s=e.x)*(l=s+s),h=s*(p=(d=e.y)+d),u=s*(g=(E=e.z)+E),m=d*p,f=d*g,T=E*g,a=(r=e.w)*l,n=r*p,o=r*g,(i=this.data)[0]=1-(m+T),i[1]=h+o,i[2]=u-n,i[3]=0,i[4]=h-o,i[5]=1-(c+T),i[6]=f+a,i[7]=0,i[8]=u+n,i[9]=f-a,i[10]=1-(c+m),i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},e.prototype.trans=function(e,t,i){var r,a,n,o,s,l,c,h,u,d,p,m,f;return r=(f=this.data)[0],a=f[1],n=f[2],o=f[3],s=f[4],l=f[5],c=f[6],h=f[7],u=f[8],d=f[9],p=f[10],m=f[11],f[12]=r*e+s*t+u*i+f[12],f[13]=a*e+l*t+d*i+f[13],f[14]=n*e+c*t+p*i+f[14],f[15]=o*e+h*t+m*i+f[15],this},e.prototype.rotatex=function(e){var t,i,r,a,n,o,s,l,c,h,d,p;return h=this.data,d=u*(e/360),p=Math.sin(d),c=Math.cos(d),t=h[4],i=h[5],r=h[6],a=h[7],n=h[8],o=h[9],s=h[10],l=h[11],h[4]=t*c+n*p,h[5]=i*c+o*p,h[6]=r*c+s*p,h[7]=a*c+l*p,h[8]=t*-p+n*c,h[9]=i*-p+o*c,h[10]=r*-p+s*c,h[11]=a*-p+l*c,this},e.prototype.rotatey=function(e){var t,i,r,a,n,o,s,l,c,h,d,p;return h=this.data,d=u*(e/360),p=Math.sin(d),c=Math.cos(d),t=h[0],i=h[1],r=h[2],a=h[3],n=h[8],o=h[9],s=h[10],l=h[11],h[0]=t*c+n*-p,h[1]=i*c+o*-p,h[2]=r*c+s*-p,h[3]=a*c+l*-p,h[8]=t*p+n*c,h[9]=i*p+o*c,h[10]=r*p+s*c,h[11]=a*p+l*c,this},e.prototype.rotatez=function(e){var t,i,r,a,n,o,s,l,c,h,d,p;return h=this.data,d=u*(e/360),p=Math.sin(d),c=Math.cos(d),t=h[0],i=h[1],r=h[2],a=h[3],n=h[4],o=h[5],s=h[6],l=h[7],h[0]=t*c+n*p,h[1]=i*c+o*p,h[2]=r*c+s*p,h[3]=a*c+l*p,h[4]=t*-p+n*c,h[5]=i*-p+o*c,h[6]=r*-p+s*c,h[7]=a*-p+l*c,this},e.prototype.scale=function(e){var t,i,r,a,n,o,s,l,c,h,u,d,p;return t=(p=this.data)[0],i=p[1],r=p[2],a=p[3],n=p[4],o=p[5],s=p[6],l=p[7],c=p[8],h=p[9],u=p[10],d=p[11],p[0]=t*e,p[1]=i*e,p[2]=r*e,p[3]=a*e,p[4]=n*e,p[5]=o*e,p[6]=s*e,p[7]=l*e,p[8]=c*e,p[9]=h*e,p[10]=u*e,p[11]=d*e,this},e.prototype.mulMat4=function(e,t){var i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x;return null==t&&(t=this),y=t.data,R=this.data,x=e.data,i=R[0],r=R[1],a=R[2],n=R[3],o=R[4],s=R[5],l=R[6],c=R[7],h=R[8],u=R[9],d=R[10],p=R[11],m=R[12],f=R[13],E=R[14],g=R[15],T=x[0],v=x[1],M=x[2],S=x[3],y[0]=T*i+v*o+M*h+S*m,y[1]=T*r+v*s+M*u+S*f,y[2]=T*a+v*l+M*d+S*E,y[3]=T*n+v*c+M*p+S*g,T=x[4],v=x[5],M=x[6],S=x[7],y[4]=T*i+v*o+M*h+S*m,y[5]=T*r+v*s+M*u+S*f,y[6]=T*a+v*l+M*d+S*E,y[7]=T*n+v*c+M*p+S*g,T=x[8],v=x[9],M=x[10],S=x[11],y[8]=T*i+v*o+M*h+S*m,y[9]=T*r+v*s+M*u+S*f,y[10]=T*a+v*l+M*d+S*E,y[11]=T*n+v*c+M*p+S*g,T=x[12],v=x[13],M=x[14],S=x[15],y[12]=T*i+v*o+M*h+S*m,y[13]=T*r+v*s+M*u+S*f,y[14]=T*a+v*l+M*d+S*E,y[15]=T*n+v*c+M*p+S*g,t},e.prototype.mulVec3=function(e,t){return null==t&&(t=e),this.mulVal3(e.x,e.y,e.z,t)},e.prototype.mulVal3=function(e,t,i,r){var a;return r=r.data,a=this.data,r[0]=a[0]*e+a[4]*t+a[8]*i,r[1]=a[1]*e+a[5]*t+a[9]*i,r[2]=a[2]*e+a[6]*t+a[10]*i,r},e.prototype.mulVec4=function(e,t){return null==t&&(t=e),this.mulVal4(e.x,e.y,e.z,e.w,t)},e.prototype.mulVal4=function(e,t,i,r,a){var n;return a=a.data,n=this.data,a[0]=n[0]*e+n[4]*t+n[8]*i+n[12]*r,a[1]=n[1]*e+n[5]*t+n[9]*i+n[13]*r,a[2]=n[2]*e+n[6]*t+n[10]*i+n[14]*r,a[3]=n[3]*e+n[7]*t+n[11]*i+n[15]*r,a},e.prototype.invert=function(e){var t,i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B,L,A,w,_,C;if(null==e&&(e=this),C=this.data,w=e.data,t=C[0],i=C[1],r=C[2],a=C[3],n=C[4],o=C[5],s=C[6],l=C[7],c=C[8],h=C[9],u=C[10],d=C[11],p=C[12],m=C[13],f=C[14],0!=(A=(g=t*o-i*n)*(L=u*(E=C[15])-d*f)-(T=t*s-r*n)*(B=h*E-d*m)+(v=t*l-a*n)*(H=h*f-u*m)+(M=i*s-r*o)*(b=c*E-d*p)-(S=i*l-a*o)*(x=c*f-u*p)+(y=r*l-a*s)*(R=c*m-h*p)))return _=1/A,w[0]=(o*L-s*B+l*H)*_,w[1]=(-i*L+r*B-a*H)*_,w[2]=(m*y-f*S+E*M)*_,w[3]=(-h*y+u*S-d*M)*_,w[4]=(-n*L+s*b-l*x)*_,w[5]=(t*L-r*b+a*x)*_,w[6]=(-p*y+f*v-E*T)*_,w[7]=(c*y-u*v+d*T)*_,w[8]=(n*B-o*b+l*R)*_,w[9]=(-t*B+i*b-a*R)*_,w[10]=(p*S-m*v+E*g)*_,w[11]=(-c*S+h*v-d*g)*_,w[12]=(-n*H+o*x-s*R)*_,w[13]=(t*H-i*x+r*R)*_,w[14]=(-p*M+m*T-f*g)*_,w[15]=(c*M-h*T+u*g)*_,e},e.prototype.set=function(e,t,i,r,a,n,o,s,l,c,h,u,d,p,m,f){var E;return(E=this.data)[0]=e,E[4]=t,E[8]=i,E[12]=r,E[1]=a,E[5]=n,E[9]=o,E[13]=s,E[2]=l,E[6]=c,E[10]=h,E[14]=u,E[3]=d,E[7]=p,E[11]=m,E[15]=f,this},e}(),o=function(){var e;function t(e,t){var i,r,a;this.framework=e,i=t.common,a=t.vertex,r=t.fragment,this.gl=this.framework.gl,this.program=this.gl.createProgram(),this.vs=this.gl.createShader(this.gl.VERTEX_SHADER),this.fs=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.attachShader(this.program,this.vs),this.gl.attachShader(this.program,this.fs),null==i&&(i=""),this.compileShader(this.vs,[i,a].join("\n")),this.compileShader(this.fs,[i,r].join("\n")),this.link(),this.uniformCache={},this.attributeCache={},this.samplers={},this.unitCounter=0}return e="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp int;\n    precision highp float;\n#else\n    precision mediump int;\n    precision mediump float;\n#endif\n#define PI 3.141592653589793\n#define TAU 6.283185307179586\n#define PIH 1.5707963267948966",t.prototype.compileShader=function(t,i){var r,a,n;if(i=[e,i].join("\n"),i=(n=this.preprocess(i))[0],a=n[1],this.gl.shaderSource(t,i),this.gl.compileShader(t),!this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS))throw r=this.gl.getShaderInfoLog(t),this.translateError(r,a)},t.prototype.preprocess=function(e){var t,i,r,a,n,o,s,l,c;for(o=[],c=[],t="no file",n=1,i=0,r=(l=e.split("\n")).length;i<r;i++)(s=(a=l[i]).match(/#line (\d+) (.*)/))?(n=parseInt(s[1],10)+1,t=s[2]):(o.push({source:a,lineno:n,filename:t}),c.push(a),n+=1);return[c.join("\n"),o]},t.prototype.translateError=function(e,t){var i,r,a,n,o,s,l,c,h,u;for(h=["Shader Compile Error"],i=r=0,a=(c=e.split("\n")).length;r<a;i=++r)(s=(n=c[i]).match(/ERROR: \d+:(\d+): (.*)/))?(o=parseFloat(s[1])-1,l=s[2],u=t[o],h.push('File "'+u.filename+'", Line '+u.lineno+", "+l),h.push("   "+u.source)):h.push(n);return h.join("\n")},t.prototype.link=function(){if(this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw"Shader Link Error: "+this.gl.getProgramInfoLog(this.program)},t.prototype.attributeLocation=function(e){var t;return void 0===(t=this.attributeCache[e])&&(t=this.attributeCache[e]=this.gl.getAttribLocation(this.program,e)),t},t.prototype.uniformLocation=function(e){var t;return void 0===(t=this.uniformCache[e])&&(t=this.uniformCache[e]=this.gl.getUniformLocation(this.program,e)),t},t.prototype.use=function(){return this.framework.currentShader!==this&&(this.framework.currentShader=this,this.gl.useProgram(this.program)),this},t.prototype.draw=function(e){return e.setPointersForShader(this).draw(),this},t.prototype.int=function(e,t){var i;return(i=this.uniformLocation(e))&&this.gl.uniform1i(i,t),this},t.prototype.sampler=function(e,t){var i;return void 0===(i=this.samplers[e])&&(i=this.samplers[e]=this.unitCounter++),t.bind(i),this.int(e,i),this},t.prototype.vec2=function(e,t,i){var r;return(r=this.uniformLocation(e))&&this.gl.uniform2f(r,t,i),this},t.prototype.vec3=function(e,t,i,r){var a;return(a=this.uniformLocation(e))&&this.gl.uniform3f(a,t,i,f),this},t.prototype.mat4=function(e,t){var i;return(i=this.uniformLocation(e))&&(t instanceof a?this.gl.uniformMatrix4fv(i,this.gl.FALSE,t.data):this.gl.uniformMatrix4fv(i,this.gl.FALSE,t)),this},t.prototype.mat3=function(e,t){var i;return(i=this.uniformLocation(e))&&(t instanceof r?this.gl.uniformMatrix3fv(i,this.gl.FALSE,t.data):this.gl.uniformMatrix3fv(i,this.gl.FALSE,t)),this},t.prototype.float=function(e,t){var i;return(i=this.uniformLocation(e))&&this.gl.uniform1f(i,t),this},t}(),t=function(){var e;function t(e,t){var i,r,a,n,o;for(this.framework=e,this.pointers=t.pointers,o=t.vertices,this.mode=t.mode,this.gl=this.framework.gl,this.buffer=this.gl.createBuffer(),null==this.mode&&(this.mode=this.gl.TRIANGLES),this.vertexSize=0,i=0,r=(n=this.pointers).length;i<r;i++)a=n[i],this.vertexSize+=a.size;this.upload(o)}return e=Float32Array.BYTES_PER_ELEMENT,t.prototype.upload=function(e){var t;return t=e instanceof Array?new Float32Array(e):e,this.size=t.length/this.vertexSize,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,t,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)},t.prototype.setPointer=function(t,i,r){var a,n;return(a=t.attributeLocation(i.name))>=0&&((n=this.framework.vertexUnits[a]).enabled||(n.enabled=!0,this.gl.enableVertexAttribArray(a)),n.drawable===this&&n.idx===r||(n.idx=r,n.drawable=this,this.gl.vertexAttribPointer(a,i.size,this.gl.FLOAT,!1,i.stride*e,i.offset*e))),this},t.prototype.setPointersForShader=function(e){var t,i,r,a,n;for(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),t=i=0,r=(n=this.pointers).length;i<r;t=++i)a=n[t],this.setPointer(e,a,t);return this},t.prototype.draw=function(e,t,i){return null==e&&(e=0),null==t&&(t=this.size),null==i&&(i=this.mode),this.gl.drawArrays(i,e,t),this},t}(),s=function(){function e(e,t){var i,r;this.framework=e,null==t&&(t={}),this.gl=this.framework.gl,this.channels=this.gl[(null!=(i=t.channels)?i:"rgb").toUpperCase()],"number"==typeof t.type?this.type=t.type:this.type=this.gl[(null!=(r=t.type)?r:"unsigned_byte").toUpperCase()],this.target=this.gl.TEXTURE_2D,this.handle=this.gl.createTexture()}return e.prototype.destroy=function(){return this.gl.deleteTexture(this.handle)},e.prototype.bind=function(e){if(null==e&&(e=0),e>15)throw"Texture unit too large: "+e;return this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.target,this.handle),this},e.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.gl.texImage2D(this.target,0,this.channels,this.width,this.height,0,this.channels,this.type,null),this},e.prototype.linear=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this},e.prototype.nearest=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this},e.prototype.clampToEdge=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this},e.prototype.repeat=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this},e}(),i=function(){function e(e){this.framework=e,this.gl=this.framework.gl,this.buffer=this.gl.createFramebuffer(),this.ownDepth=!1}return e.prototype.destroy=function(){return this.gl.deleteFRamebuffer(this.buffer)},e.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.buffer),this},e.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},e.prototype.check=function(){switch(this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER)){case this.gl.FRAMEBUFFER_UNSUPPORTED:throw"Framebuffer is unsupported";case this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw"Framebuffer incomplete attachment";case this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw"Framebuffer incomplete dimensions";case this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw"Framebuffer incomplete missing attachment"}return this},e.prototype.color=function(e){return this.colorTexture=e,this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.colorTexture.target,this.colorTexture.handle,0),this.check(),this},e.prototype.depth=function(e){if(this.depthBuffer=e,void 0===this.depthBuffer){if(void 0===this.colorTexture)throw"Cannot create implicit depth buffer without a color texture";this.ownDepth=!0,this.depthBuffer=this.framework.depthbuffer().bind().setSize(this.colorTexture.width,this.colorTexture.height)}return this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer.id),this.check(),this},e.prototype.destroy=function(){if(this.gl.deleteFramebuffer(this.buffer),this.ownDepth)return this.depthBuffer.destroy()},e}(),n=function(){function e(e){this.framework=e,this.gl=this.framework.gl,this.id=this.gl.createRenderbuffer()}return e.prototype.bind=function(){return this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.id),this},e.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.bind(),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl[this.format],this.width,this.height),this.unbind()},e.prototype.unbind=function(){return this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this},e.prototype.destroy=function(){return this.gl.deleteRenderbuffer(this.id)},e}(),e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)m.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n),t.prototype.format="DEPTH_COMPONENT16",t}(),window.raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame,window.caf=window.cancelAnimationFrame||window.mozcancelAnimationFrame||window.webkitcancelAnimationFrame||window.ocancelAnimationFrame,window.performance.now=performance.now||performance.mozNow||performance.webkitNow||performance.oNow||Date.now,window.WebGLFramework=function(){function n(e,t){var i,r;this.canvas=e,this.animationInterval=function(e,t){return function(){return e.apply(t,arguments)}}(this.animationInterval,this);try{if(this.gl=this.canvas.getContext("webgl",t),null===this.gl&&(this.gl=this.canvas.getContext("experimental-webgl",t),null===this.gl))throw"WebGL not supported"}catch(e){throw"WebGL not supported"}for(this.textureUnits=[],i=0;i<16;++i)this.textureUnits.push(null);for(this.vertexUnits=[],r=0;r<16;++r)this.vertexUnits.push({enabled:!1,drawable:null,idx:null});this.currentShader=null}return n.prototype.shader=function(e){return new o(this,e)},n.prototype.drawable=function(e){return new t(this,e)},n.prototype.texture=function(e){return new s(this,e)},n.prototype.framebuffer=function(){return new i(this)},n.prototype.depthbuffer=function(){return new e(this)},n.prototype.mat3=function(e){return new r(e)},n.prototype.mat4=function(e){return new a(e)},n.prototype.clearColor=function(e,t,i,r){return null==e&&(e=0),null==t&&(t=0),null==i&&(i=0),null==r&&(r=1),this.gl.clearColor(e,t,i,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this},n.prototype.clearDepth=function(e){return null==e&&(e=1),this.gl.clearDepth(e),this.gl.clear(this.gl.DEPTH_BUFFER_BIT),this},n.prototype.adjustSize=function(){var e,t;return t=this.canvas.width,e=this.canvas.height,this.width===t&&this.height===e||(this.canvas.width=t,this.canvas.height=e,this.width=t,this.height=e,this.aspect=this.width/this.height),this},n.prototype.viewport=function(e,t,i,r){return null==e&&(e=0),null==t&&(t=0),null==i&&(i=this.width),null==r&&(r=this.height),this.gl.viewport(e,t,i,r),this},n.prototype.depthTest=function(e){return null==e&&(e=!0),e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this},n.prototype.animationInterval=function(e){var t;return t=function(){var i;if(i=raf(t),e)return e(i)},raf(t)},n.prototype.now=function(){return performance.now()/1e3},n.prototype.getExt=function(e,t){var i;if(null==t&&(t=!0),!(i=this.gl.getExtension(e))&&t)throw"WebGL Extension not supported: "+e;return i},n.prototype.requestFullscreen=function(e){return null==e&&(e=this.canvas),e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.oRequestFullScreen&&e.oRequestFullScreen(),this},n.prototype.isFullscreen=function(){var e,t;return e=c(document,"fullscreenElement"),t=c(document,"fullScreenElement"),!(!e&&!t)},n.prototype.onFullscreenChange=function(e){var t,i,r,a,n;for(n=this,t=function(){return e(n.isFullscreen())},i=0,r=p.length;i<r;i++)a=p[i],document.addEventListener(a+"fullscreenchange",t,!1);return this},n.prototype.exitFullscreen=function(){return document.cancelFullscreen(),this},n.prototype.toggleFullscreen=function(e){return null==e&&(e=this.canvas),this.isFullscreen()?this.exitFullscreen():this.requestFullscreen(e)},n.prototype.getFloatExtension=function(e){return this.gl.getFloatExtension(e)},n.prototype.cullFace=function(e){return null==e&&(e="back"),e?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl[e.toUpperCase()])):this.gl.disable(this.gl.CULL_FACE),this},n.prototype.getContext=function(){return this.gl},n}(),p=[null,"webkit","apple","moz","o","xv","ms","khtml","atsc","wap","prince","ah","hp","ro","rim","tc"],d=function(e,t){return null===t?e:t+e[0].toUpperCase()+e.substr(1)},c=function(e,t,i){var r,a,n,o;if(e)for(a=0,n=p.length;a<n;a++)if(o=p[a],void 0!==(r=e[d(t,o)]))return r;return i},document.fullscreenEnabled=c(document,"fullscreenEnabled"),document.cancelFullscreen=c(document,"cancelFullScreen")}).call(this),function(){var e;e=[{name:"position",size:3,offset:0,stride:6},{name:"normal",size:3,offset:3,stride:6}],window.meshes={quad:{pointers:[{name:"position",size:2,offset:0,stride:2}],vertices:[-1,-1,1,-1,1,1,-1,1,-1,-1,1,1]},plane:function(t){return{pointers:e,vertices:[-t,0,-t,0,1,0,-t,0,t,0,1,0,t,0,t,0,1,0,t,0,-t,0,1,0,-t,0,-t,0,1,0,t,0,t,0,1,0]}},cube:{pointers:e,vertices:[-1,-1,-1,0,0,-1,-1,1,-1,0,0,-1,1,1,-1,0,0,-1,1,-1,-1,0,0,-1,-1,-1,-1,0,0,-1,1,1,-1,0,0,-1,1,1,1,0,0,1,-1,1,1,0,0,1,-1,-1,1,0,0,1,1,1,1,0,0,1,-1,-1,1,0,0,1,1,-1,1,0,0,1,-1,1,-1,0,1,0,-1,1,1,0,1,0,1,1,1,0,1,0,1,1,-1,0,1,0,-1,1,-1,0,1,0,1,1,1,0,1,0,1,-1,1,0,-1,0,-1,-1,1,0,-1,0,-1,-1,-1,0,-1,0,1,-1,1,0,-1,0,-1,-1,-1,0,-1,0,1,-1,-1,0,-1,0,-1,-1,-1,-1,0,0,-1,-1,1,-1,0,0,-1,1,1,-1,0,0,-1,1,-1,-1,0,0,-1,-1,-1,-1,0,0,-1,1,1,-1,0,0,1,1,1,1,0,0,1,-1,1,1,0,0,1,-1,-1,1,0,0,1,1,1,1,0,0,1,-1,-1,1,0,0,1,1,-1,1,0,0]}}}.call(this),function(){window.ShadowTest=function(){function e(){this.id=sender.getID()}return e.prototype.begin=function(e,t){var i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B,L;this.cb=t;try{g=new WebGLFramework(e,{antialias:!1,preserveDrawingBuffer:!0,willReadFrequently:!1,depth:!0}).depthTest(),E=g.getFloatExtension({require:["renderable","filterable"],prefer:["single","half"]}),g.getExt("OES_standard_derivatives")}catch(e){return}return s=g.drawable(meshes.cube),H=g.drawable(meshes.plane(50)),B=g.drawable(meshes.quad),c=g.shader({common:"//essl\nvarying vec3 vWorldNormal; varying vec4 vWorldPosition;\nuniform mat4 camProj, camView;\nuniform mat4 lightProj, lightView; uniform mat3 lightRot;\nuniform mat4 model;",vertex:"//essl\nattribute vec3 position, normal;\n\nvoid main(){\n    vWorldNormal = normal;\n    vWorldPosition = model * vec4(position, 1.0);\n    gl_Position = camProj * camView * vWorldPosition;\n}",fragment:"//essl\nuniform sampler2D sLightDepth;\n\nfloat linstep(float low, float high, float v){\n    return clamp((v-low)/(high-low), 0.0, 1.0);\n}\n\nfloat VSM(sampler2D depths, vec2 uv, float compare){\n    vec2 moments = texture2D(depths, uv).xy;\n    float p = smoothstep(compare-0.02, compare, moments.x);\n    float variance = max(moments.y - moments.x*moments.x, -0.001);\n    float d = compare - moments.x;\n    float p_max = linstep(0.2, 1.0, variance / (variance + d*d));\n    return clamp(max(p, p_max), 0.0, 1.0);\n}\n\nfloat attenuation(vec3 dir){\n    float dist = length(dir);\n    float radiance = 1.0/(1.0+pow(dist/10.0, 2.0));\n    return clamp(radiance*10.0, 0.0, 1.0);\n}\n\nfloat influence(vec3 normal, float coneAngle){\n    float minConeAngle = ((360.0-coneAngle-10.0)/360.0)*PI;\n    float maxConeAngle = ((360.0-coneAngle)/360.0)*PI;\n    return smoothstep(minConeAngle, maxConeAngle, acos(normal.z));\n}\n\nfloat lambert(vec3 surfaceNormal, vec3 lightDirNormal){\n    return max(0.0, dot(surfaceNormal, lightDirNormal));\n}\n\nvec3 skyLight(vec3 normal){\n    return vec3(smoothstep(0.0, PI, PI-acos(normal.y)))*0.4;\n}\n\nvec3 gamma(vec3 color){\n    return pow(color, vec3(2.2));\n}\n\nvoid main(){\n    vec3 worldNormal = normalize(vWorldNormal);\n\n    vec3 camPos = (camView * vWorldPosition).xyz;\n    vec3 lightPos = (lightView * vWorldPosition).xyz;\n    vec3 lightPosNormal = normalize(lightPos);\n    vec3 lightSurfaceNormal = lightRot * worldNormal;\n    vec4 lightDevice = lightProj * vec4(lightPos, 1.0);\n    vec2 lightDeviceNormal = lightDevice.xy/lightDevice.w;\n    vec2 lightUV = lightDeviceNormal*0.5+0.5;\n\n    // shadow calculation\n    float lightDepth2 = clamp(length(lightPos)/40.0, 0.0, 1.0);\n    float illuminated = VSM(sLightDepth, lightUV, lightDepth2);\n\n    vec3 excident = (\n        skyLight(worldNormal) +\n        lambert(lightSurfaceNormal, -lightPosNormal) *\n        influence(lightPosNormal, 55.0) *\n        attenuation(lightPos) *\n        illuminated\n    );\n    gl_FragColor = vec4(gamma(excident), 1.0);\n}"}),y=g.shader({common:"//essl\nvarying vec3 vWorldNormal; varying vec4 vWorldPosition;\nuniform mat4 lightProj, lightView; uniform mat3 lightRot;\nuniform mat4 model;",vertex:"//essl\nattribute vec3 position, normal;\n\nvoid main(){\n    vWorldNormal = normal;\n    vWorldPosition = model * vec4(position, 1.0);\n    gl_Position = lightProj * lightView * vWorldPosition;\n}",fragment:"//essl\n#extension GL_OES_standard_derivatives : enable\nvoid main(){\n    vec3 worldNormal = normalize(vWorldNormal);\n    vec3 lightPos = (lightView * vWorldPosition).xyz;\n    float depth = clamp(length(lightPos)/40.0, 0.0, 1.0);\n    float dx = dFdx(depth);\n    float dy = dFdy(depth);\n    gl_FragColor = vec4(depth, pow(depth, 2.0) + 0.25*(dx*dx + dy*dy), 0.0, 1.0);\n}"}),T=g.texture({type:E.type,channels:"rgba"}).bind().setSize(1024,1024).linear().clampToEdge(),v=g.framebuffer().bind().color(T).depth().unbind(),i=function(){function e(e,t){this.size=e,this.output=g.texture({type:E.type,channels:"rgba"}).bind().setSize(this.size,this.size).linear().clampToEdge(),this.framebuffer=g.framebuffer().bind().color(this.output).unbind(),this.shader=g.shader({common:"//essl\nvarying vec2 texcoord;",vertex:"//essl\nattribute vec2 position;\n\nvoid main(){\n    texcoord = position*0.5+0.5;\n    gl_Position = vec4(position, 0.0, 1.0);\n}",fragment:"//essl\nuniform vec2 viewport;\nuniform sampler2D source;\n\nvec3 get(float x, float y){\n    vec2 off = vec2(x, y);\n    return texture2D(source, texcoord+off/viewport).rgb;\n}\nvec3 get(int x, int y){\n    vec2 off = vec2(x, y);\n    return texture2D(source, texcoord+off/viewport).rgb;\n}\nvec3 filter(){\n    "+t+"\n}\nvoid main(){\n    gl_FragColor = vec4(filter(), 1.0);\n}"})}return e.prototype.bind=function(e){return this.output.bind(e)},e.prototype.apply=function(e){return this.framebuffer.bind(),g.viewport(0,0,this.size,this.size),this.shader.use().vec2("viewport",this.size,this.size).sampler("source",e).draw(B),this.framebuffer.unbind()},e}(),u=new i(512,"//essl\nreturn get(0.0, 0.0);"),h=new i(256,"//essl\nreturn get(0.0, 0.0);"),r=new i(256,"//essl\nvec3 result = vec3(0.0);\nfor(int x=-1; x<=1; x++){\n    for(int y=-1; y<=1; y++){\n        result += get(x,y);\n    }\n}\nreturn result/9.0;"),a=g.mat4(),n=g.mat4(),M=g.mat4().perspective({fov:60},1,{near:.01,far:100}),R=g.mat4().trans(0,0,-6).rotatex(30).rotatey(110),S=g.mat3().fromMat4Rot(R),x=g.mat4(),o=.1*-Math.PI,b=0,l=0,f=function(e){return e.mat4("model",x.ident().trans(0,0,0)).draw(H).mat4("model",x.ident().trans(0,1+b,0)).draw(s).mat4("model",x.ident().trans(5,1,-1)).draw(s)},m=function(){return v.bind(),g.viewport(0,0,T.width,T.height).clearColor(1,1,1,1).clearDepth(1).cullFace("back"),y.use().mat4("lightView",R).mat4("lightProj",M).mat3("lightRot",S),f(y),v.unbind(),u.apply(T),h.apply(u),r.apply(h)},p=function(){return g.adjustSize().viewport().cullFace("back").clearColor(0,0,0,0).clearDepth(1),a.perspective({fov:60,aspect:g.aspect,near:.01,far:100}),n.ident().trans(0,-1,-10).rotatex(41).rotatey(55),c.use().mat4("camProj",a).mat4("camView",n).mat4("lightView",R).mat4("lightProj",M).mat3("lightRot",S).sampler("sLightDepth",r),f(c)},(d=function(){return m(),p()})(),g.animationInterval((L=this,function(e){if(b=1+Math.sin(o),o+=.1,d(),5==l++)return caf(e),sender.getData(g.getContext(),L.id),L.cb()}))},e}()}.call(this),function(){var e,t,i,r,a=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};null!=window.WebGLRenderingContext&&(r=["WEBKIT","MOZ","MS","O"],i=/^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/,e=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(t){var a,n,o,s,l;if(null!==(s=t.match(i))&&(t=s[1]),null===(a=e.call(this,t))){for(n=0,o=r.length;n<o;n++)if(l=r[n],null!==(a=e.call(this,l+"_"+t)))return a;return null}return a},t=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e,r,n,o,s,l;for(s=[],r=0,n=(l=t.call(this)).length;r<n;r++)null!==(o=(e=l[r]).match(i))&&(e=o[1]),a.call(s,e)<0&&s.push(e);return s})}.call(this),function(){var e,t,i,r,a,n,o,s,l,c,h,u,d,p,m=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};if((a=function(){var e,t,i;return(e=document.createElement("canvas")).width=2,e.height=2,(i=(t=e.getContext("2d")).getImageData(0,0,2,2)).data.set(new Uint8ClampedArray([0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255])),t.putImageData(i,0,0),e})(),t=function(e,t){var i,r,n,o,s,l,c,h,u,d,p,m,f,E;if(l=e.createProgram(),f=e.createShader(e.VERTEX_SHADER),e.attachShader(l,f),e.shaderSource(f,"attribute vec2 position;\nvoid main(){\n    gl_Position = vec4(position, 0.0, 1.0);\n}"),e.compileShader(f),!e.getShaderParameter(f,e.COMPILE_STATUS))throw e.getShaderInfoLog(f);if(n=e.createShader(e.FRAGMENT_SHADER),e.attachShader(l,n),e.shaderSource(n,"uniform sampler2D source;\nvoid main(){\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\n}"),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw e.getShaderInfoLog(n);if(e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw e.getProgramInfoLog(l);return e.useProgram(l),r=function(){return e.deleteShader(n),e.deleteShader(f),e.deleteProgram(l),e.deleteBuffer(i),e.deleteTexture(u),e.deleteTexture(m),e.deleteFramebuffer(o),e.bindBuffer(e.ARRAY_BUFFER,null),e.useProgram(null),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},m=e.createTexture(),e.bindTexture(e.TEXTURE_2D,m),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),o=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0),d=a(),u=e.createTexture(),e.bindTexture(e.TEXTURE_2D,u),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,t,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),E=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,E,e.STATIC_DRAW),s=e.getAttribLocation(l,"position"),p=e.getUniformLocation(l,"source"),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.uniform1i(p,0),e.drawArrays(e.TRIANGLES,0,6),c=new Uint8Array(16),e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,c),h=Math.abs(c[0]-127)<10,r(),h},r=function(e,t){var i;return i=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,null),0===e.getError()?(e.deleteTexture(i),!0):(e.deleteTexture(i),!1)},e=function(e,t){var i,r,a;return a=e.createTexture(),e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,null),r=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),i=e.checkFramebufferStatus(e.FRAMEBUFFER),e.deleteTexture(a),e.deleteFramebuffer(r),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),i===e.FRAMEBUFFER_COMPLETE},h=[],u={},d=[],i=function(){var i,a,n,o,s;i=document.createElement("canvas"),a=null;try{null===(a=i.getContext("experimental-webgl"))&&(a=i.getContext("webgl"))}catch(e){}if(null!=a&&(null===a.getExtension("OES_texture_float")?r(a,a.FLOAT)?(s=!0,h.push("OES_texture_float"),u.OES_texture_float={shim:!0}):(s=!1,d.push("OES_texture_float")):r(a,a.FLOAT)?(s=!0,h.push("OES_texture_float")):(s=!1,d.push("OES_texture_float")),s&&(null===a.getExtension("WEBGL_color_buffer_float")?e(a,a.FLOAT)?(h.push("WEBGL_color_buffer_float"),u.WEBGL_color_buffer_float={shim:!0,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):d.push("WEBGL_color_buffer_float"):e(a,a.FLOAT)?h.push("WEBGL_color_buffer_float"):d.push("WEBGL_color_buffer_float"),null===a.getExtension("OES_texture_float_linear")?t(a,a.FLOAT)?(h.push("OES_texture_float_linear"),u.OES_texture_float_linear={shim:!0}):d.push("OES_texture_float_linear"):t(a,a.FLOAT)?h.push("OES_texture_float_linear"):d.push("OES_texture_float_linear")),null===(n=a.getExtension("OES_texture_half_float"))?r(a,36193)?(o=!0,h.push("OES_texture_half_float"),n=u.OES_texture_half_float={HALF_FLOAT_OES:36193,shim:!0}):(o=!1,d.push("OES_texture_half_float")):r(a,n.HALF_FLOAT_OES)?(o=!0,h.push("OES_texture_half_float")):(o=!1,d.push("OES_texture_half_float")),o))return null===a.getExtension("EXT_color_buffer_half_float")?e(a,n.HALF_FLOAT_OES)?(h.push("EXT_color_buffer_half_float"),u.EXT_color_buffer_half_float={shim:!0,RGBA16F_EXT:34842,RGB16F_EXT:34843,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):d.push("EXT_color_buffer_half_float"):e(a,n.HALF_FLOAT_OES)?h.push("EXT_color_buffer_half_float"):d.push("EXT_color_buffer_half_float"),null===a.getExtension("OES_texture_half_float_linear")?t(a,n.HALF_FLOAT_OES)?(h.push("OES_texture_half_float_linear"),u.OES_texture_half_float_linear={shim:!0}):d.push("OES_texture_half_float_linear"):t(a,n.HALF_FLOAT_OES)?h.push("OES_texture_half_float_linear"):d.push("OES_texture_half_float_linear")},null!=window.WebGLRenderingContext){for(i(),p={},s=0,l=d.length;s<l;s++)c=d[s],p[c]=!0;n=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(e){var t;return void 0===(t=u[e])?p[e]?null:n.call(this,e):t},o=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e,t,i,r,a,n,s;for(n=[],t=0,r=(s=o.call(this)).length;t<r;t++)e=s[t],void 0===p[e]&&n.push(e);for(i=0,a=h.length;i<a;i++)e=h[i],m.call(n,e)<0&&n.push(e);return n},WebGLRenderingContext.prototype.getFloatExtension=function(e){var t,i,r,a,n,o,s,l,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B;for(null==e.prefer&&(e.prefer=["half"]),null==e.require&&(e.require=[]),null==e.throws&&(e.throws=!0),H=this.getExtension("OES_texture_float"),o=this.getExtension("OES_texture_half_float"),x=this.getExtension("WEBGL_color_buffer_float"),a=this.getExtension("EXT_color_buffer_half_float"),b=this.getExtension("OES_texture_float_linear"),n=this.getExtension("OES_texture_half_float_linear"),R={texture:null!==H,filterable:null!==b,renderable:null!==x,score:0,precision:"single",half:!1,single:!0,type:this.FLOAT},r={texture:null!==o,filterable:null!==n,renderable:null!==a,score:0,precision:"half",half:!0,single:!1,type:null!=(v=null!=o?o.HALF_FLOAT_OES:void 0)?v:null},i=[],R.texture&&i.push(R),r.texture&&i.push(r),y=[],h=0,d=i.length;h<d;h++){for(t=i[h],B=!0,u=0,p=(M=e.require).length;u<p;u++)!1===t[c=M[u]]&&(B=!1);B&&y.push(t)}for(E=0,m=y.length;E<m;E++)for(t=y[E],s=g=0,f=(S=e.prefer).length;g<f;s=++g)T=S[s],l=Math.pow(2,e.prefer.length-s-1),t[T]&&(t.score+=l);if(y.sort((function(e,t){return e.score===t.score?0:e.score<t.score?1:e.score>t.score?-1:void 0})),0===y.length){if(e.throws)throw"No floating point texture support that is "+e.require.join(", ");return null}return{filterable:(y=y[0]).filterable,renderable:y.renderable,type:y.type,precision:y.precision}}}}.call(this),function(){$((function(){return $("<div id='ad'/>").appendTo($("body"))}))}.call(this),function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=t,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}return function t(i){function r(t,a,n){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(n=e({path:"/"},r.defaults,n)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*n.expires),n.expires=s}try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}return a=i.write?i.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,n.expires&&"; expires="+n.expires.toUTCString(),n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var u=l[h].split("="),d=u.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=u[0].replace(c,decodeURIComponent);if(d=i.read?i.read(d,p):i(d,p)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(e){}if(t===p){o=d;break}t||(o[p]=d)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r(e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,i){r(t,"",e(i,{expires:-1}))},r.withConverter=t,r}((function(){}))}));var font_list=["Segoe WP","FreeMono","Heiti TC Light","VNI-Kun","Liberation Serif","Dotum","ML-TTVeenaHeavy","Brandon Grotesque Light","Adobe Hebrew Italic","MMa Etc Bold","Toledo","Ubuntu Mono derivative Powerline","Hannotate TC Regular","Droid Sans Thai","Cambria Italic","Abadi MT Condensed Extra Bold","Barrio","ML-TTVishu","MMa VariableB S","BurigangaSushreeOMJ","Pegypta","Avenir Next Condensed","TitilliumText22L-Bold","Corbel Bold Italic",".VnCourier New","Trajan Pro 3 Bold","Futura LT Condensed Light","FML-TTAmbili","dbldwrsw","PingFang HK Light","Soho Gothic Pro Italic","Tele-Marines","Cronos Pro","Noto Sans Brahmi","HANA","VNI Times","Rakesly El","WP MultinationalA Roman","HGSHeiseiKakugothictaiW5","Avenir Next W1G Medium","Segoe UI Semibold","Cambria Bold Italic","Futura Std Book","New Renex Terminal","HGSHeiseiKakugothictaiW9","KufiStandardGK Regular","VNI-Bodon-Poster","eurb9","MrsEavesRoman","WP Greek Century","STIXNonUnicode","Songti SC Bold","Kaushan Script","OpenSymbol","FML-TTJyotsna","EngraverTime","Charter Black Italic","Arno Pro","Tahoma Negreta","Century Schoolbook L","Circular Std Book Italic","Tall Boy 3D","Egyptian710 BT","ML-NILA03","ML-NILA02","ML-NILA01","Petrucci","Waseem Regular","ML-NILA06","ML-NILA05","NORMAL","eusm8","Z@R120A.tmp","Gulim","cmtcsc10","Merriweather Italic",".VnSouthernH","Lantinghei TC Heavy","Bangla Sangam MN","C-Medium","Nightclub BTN UltraCn","GoraiOMJ","Avenir Next Ultra Light","Myanmar Sangam MN","Matisse ITC","Droid Sans Mono Dotted for Powerline","Optima Italic","TitilliumText22L-Regular","Sketch Rockwell","MelodBold","cmsl10","Zapfino","cmsl12","Linux Libertine Display O","Manorama","DecoType Naskh Special","Caviar Dreams Bold Italic","Sauce Code Powerline","Courier New CE","BurigangaSushreeMJ","Aileron","Hiragino Sans","Smooth","MMCenturyOldGreek","Microsoft NeoGothic","Atzur","GLYPHICONS Halflings","Trattatello","LT-TM-Lakshman","Playbill","TeX Gyre Chorus","Myriad Pro SemiCondensed","Marlett","Open Sans Extrabold","Chaparral Pro Bold","GrilledCheese BTN Cn","Bitstream Charter","Noto Sans Tai Viet","Georgia Pro SemiBold","Rotis Sans Serif Std 56 Italic","ITF Devanagari Marathi Demi","Avenir Next W1G Thin","Priori Serif OT","Times Bold Italic","BurigangaKamalaOMJ","Literation Mono Powerline Italic","Quickpen","AR BONNIE","Caviar Dreams","Avenir Roman","Pujeeta","Deepak","cmmi12","FML-TTSankara","Bookman Old Style Italic",".VnArial","Antonio","Linowrite","GFS Gazis","FordLineDraw","ConcursoItalian BTN Wide","MMa CenturySS","Laksaman","Segoe Marker","Monotype Sorts","Bienhoa","Noto Sans Syriac Eastern","Caviar Dreams Bold","MMa Arrow Bold Italic","Diavlo Black","Garamond","Proxima Nova","BhairabOMJ","WP Phonetic","Myriad Pro","VNI-Fato","Myriad Pro Bold","MMVariableF Bold","Julius Sans One","EuroRoman","cmcsc9","cmcsc8","LaurenScript","VNI-Commerce","Freebooter Script","Math5","Party LET",".VnHelvetIns","American Typewriter","Roboto Mono Bold Italic for Powerline","Vineta BT","ML-TTPooram","MMa Extra Bold","Quangngai","MT Extra","TAM","Terminal Greek 737 (437G)","TITUS Cyberbit Basic","Kalakaumudi","Adobe Gurmukhi","HanziPen SC","cmff10","Praxis","FML-TTVishu","Microsoft MHei","VNI Greece","Sukhumvit Set Semi Bold","Swiss 721 Roman","Soho Gothic Pro Ultra Italic","STLiti","Marquisette BTN Light","Arimo Bold Italic for Powerline","ML-TTJaya","eusm9","Simplified Arabic","Kohinoor Devanagari Light","MS PMincho","Century Gothic Italic","HariSree","MyriadPro-Semibold","IPAexGothic","MS Reference Serif","eusm7","HelveticaNeueLT Pro 97 BlkCn","Quicksand Bold","Yu Mincho","VNI-Murray","ChandrabatiMJ","Sitka Banner","MMCenturyOldGreek Italic",".VnCommercial ScriptH","Interstate-Regular","Arimo Bold Italic","Latienne Pro","TAC-Valluvar","FML-Nanditha","MMa VariableF Bold","Tekton Pro Bold","Noto Serif","AmdtSymbols","Euclid Symbol","Songti SC Regular","Cambria Bold","Leelawadee","Meslo LG S DZ Regular for Powerline","Nexa Light","Party LET Plain:1.0","Minion Pro SmBd","AV-Font-Kan1","Clarendon Cn BT","Yu Mincho Demibold","Hypatia Sans Pro Semibold","Consolas","Seravek Bold Italic","Nightclub BTN Cn","Myriad Arabic Italic","Charter Roman","spinwerad","Gill Sans Nova Cond Ultra Bold","KG Corner of the Sky","DecoType Naskh Extensions","MLB-TTAmbili","YuMincho ","Futura LT Light","Latin Modern Roman","Gotham Narrow Black Italic","DIN-Light","VNI-Top","DotumChe","Giolinh","Muna Black","Apple Boy BTN","Clarendon BT","DINPro-Light","Playfair Display SC Black","Quixley LET","MMa Pascal Bold","Interstate-Light","American Typewriter Condensed Bold","Skia Condensed","Latienne Pro Bold","lcircle10","ML-IndulekhaHeavy","Source Serif Pro Semibold","Tamburo","Halong","Normande Italic","VNI-Book","MMa Extra Italic","Heavy","MMBinary","PondAllRounder","Euphemia UCAS Bold","Avenir Book Oblique","HP Simplified Light","HGSHeiseiKakugothictaiW3","Gill Sans Light","VNI-Garam","AlekyaMedium","Hebar","Stone Sans Sem ITC TT","DV1-TTYogesh","Adobe Arabic","Rosewood Std Regular","Marquisette BTN Lined","Gotham Book","Sukhumvit Set Medium",".VnTeknicalH","Z@R1762.tmp","MMa Gauss Bold","Avenir Next Condensed Demi Bold","Trebuchet MS Bold Italic","TlwgMono","Avenir Next W1G Bold","Flubber","Opus Figured Bass","Futura LT Heavy Oblique","Hiragino Mincho ProN","Nova Oval","Bangla MN","Opus Function Symbols","Microsoft JhengHei Light","STIXSizeOneSym","Magic School Two","Type Embellishments One LET Embellishments One LET Plain:1.0","Avenir Next Heavy","Sylfaen","Palatino Bold","Rockwell Extra Bold","Candara Italic","Gujarati MT Bold","Vinhan",".VnBahamasBH","SaiVrishin","AR ESSENCE","Frankfurter Venetian TT","Gillius ADF Cd","Mishafi Gold","System Font Medium","Roboto Mono Medium for Powerline","SF Distant Galaxy","Monotype.com","MMTextBook Bold","Gill Sans MT Italic","Tlwg Typewriter","Soho Gothic Pro ExtraBold","Gill Sans Ultra Bold","STIXSizeTwoSym-Bold","BaluBrush","System Font Bold","Roboto Light Italic","Times New Roman (Arabic)","Maestro Wide","Bickham Script Pro 3 Semibold","STXingkai","Annie BTN","AtraiOMJ","Aileron SemiBold","cmsy7","Bookshelf Symbol 3","Orator Std","Swis721 BdCnOul BT","Proxima Nova Bold","Shree Devanagari 714 Bold Italic","WP MultinationalA Helve","Noto Sans","Lucida Sans Italic","Phosphate Solid","Damascus","DengXian Light","Notram","Bordeaux Roman Bold LET Plain","Lantinghei SC Heavy","MMa CenturyS Italic","Noto Sans Phoenician","System Font","ADMUI3Sm","Shree Devanagari 714 Italic","kroeger 06","Belfast Light SF","KacstBook","PingFang SC Thin","Humanst521 BT","Futura Condensed Medium","WP Japanese","Hiragino Kaku Gothic Std W8","GaneshBold","Open Sans Italic","Aileron Bold","Euphemia UCAS",".VnFreeH","Swis721 BlkOul BT",".VnRevueH","Freehand521 BT","MMa Arrow Italic","Opus Chords Sans Condensed","OR-TTSarala","Montserrat Black","VNI-Avo","System Font Medium P4","VNI-GlabXb","HarvestItal","MMa VariableA S","Segoe WP Black","Courier10 BT",".VnLincolnH","eusb5","Marker Felt Thin","KacstTitleL","HelveticaNeueLT Pro 107 XBlkCn","IBM3270","MLB-TTIndulekha","PujeetaItalic","Bookman Old Style Bold","Latin Modern Sans","ELEGANCE","GhorautraMJ","MMExtra Bold","Rockwell Nova Cond","Minion Pro Cond","Brandon Grotesque Medium","HGHeiseiKakugothictaiW9","Euphemia UCAS Italic",".VnUniverseH","Avenir Book","ZapfHumnst Ult BT","Diwani Simple Striped","Myriad Pro Bold SemiCondensed","Raleway SemiBold Italic","Z@R1751.tmp","Hypatia Sans Pro Black","linew10",".VnCooperH","Adobe Ming Std","BlairMdITC TT Medium","Levenim MT","Ravie","FML-TTIndulekhaHeavy","Ruach LET","ML-TTJyothy","Brush Script MT","Latin Modern Mono Prop","ML-NILA04","TeX Gyre Pagella","Roboto Slab","eurb7","PFFuelPro-Regular","eurb5","MMGreek Bold","Oswald Stencil Bold","Georgia Bold","Noto Serif Thai","Selena","Perpetua Titling MT Bold","ColdSpaghetti BTN","Courier Oblique","Dosis Medium","Canter Bold Shadow","St Marie Thin","FML-TTGopika","STIXIntegralsSm-Bold","MMEtc Italic","CHANL","Yu Gothic UI","KacstNaskh","VNI-Palatin","GFS Porson","ML-TTAswathi","Myriad Pro Condensed Italic","Avenir Next Italic","WP ArabicScript Sihafa","Euclid Symbol Bold","Myriad Pro Semibold Condensed","PT Bold Broken","Goudy Old Style Bold","Racing Sans One","Bentham","Gotham Book Italic","Asimov","Avenir Next W1G Light","Ashwariya","Berlin Sans FB Demi","Myriad Pro Light Italic","VNI Helve Condense","Songti TC Regular","Verdana Italic","Nexa XBold Italic","Source Sans Pro","Dingbats","Synchro LET","OCR-A II","Deneane","MMExtra Bold Italic","Wellfleet","Jazz LET Plain:1.0","STIXIntegralsSm-Regular","MMa CenturyK","Javanese Text","Nova Script","Arial Hebrew Bold","PCMyungjo Regular","Bhuma","MMa CenturyS","Quicksand Dash","Gloucester MT Extra Condensed","Montserrat Bold","Jokerman Alts LET","Floraless","SF Compact Rounded Semibold","URW Gothic L","BadaBoom BB","Microsoft YaHei","Cantarell Oblique","Brush Script MT Italic","Raanana Bold",".VnArialH","IPAPGothic","BN-TTDurga","Times New Roman","WP MultinationalB Courier","Germanica","Paralucent Demi Bold Italic","Proxima Nova Soft Medium","Myriad Hebrew Bold","Telugu MN Bold","WP MathA","Proxima Nova Condensed Light Italic","IDAutomationPDF417n5","Algerian","Times New Roman Greek","FML-TTKaumudi","SF Compact Rounded Bold","Tinos Bold Italic for Powerline","Lantinghei TC","Stylus BT","Soho Gothic Pro Medium","Microsoft Tai Le","Broken Planewing","MMa Relation Bold Italic","MMCenturyNew Bold Italic","Droid Sans Ethiopic","3M Circular TT Bold","IDAutomationPDF417n2","Lato Black Italic","Liberation Sans","Sofia","Paralucent Light Italic","Geeza Pro","Dancing Script","DholeshwariMJ","eufm10","Century Schoolbook","Palatino Linotype Bold","Candy Round BTN","12x10","Rupee Foradian","SchoolHouse Cursive B","Stone Sans Sem ITC TT Semi","Coda","Sneakerhead BTN Condensed","Merriweather Light Italic","Academy Engraved LET","System Font Ultralight","Akshar Unicode","Helvetica","Lato Italic","Kohinoor Bangla Medium","ChandrabatiMatraOMJ","Futura LT Bold","Helvetica Bold","Batang","Arvo","Coolvetica","Gill Sans MT Ext Condensed Bold","AR BLANCA","PingFang HK Regular","Arial Narrow Italic","cmtex9","cmtex8","Chalkboard SE","Fren","MMa Negate S","Minion Pro Medium Italic","Meiryo UI","SWED","ITF Devanagari Marathi Light","athletic","Pointedly Mad","Farsi Simple Outline","Yuppy TC","Noto Sans Lao UI",".VnShelley Allegro","Quinhon","Courier Bold","Carrois Gothic SC","FangSong","PT Serif Bold Italic","ML-TTKanika","Avenir Next W1G Regular","GrilledCheese BTN Toasted","QuiverItal","Kanalisirung","FML-TTJaya","HelveticaNeueLT Pro 53 Ex","Cut Me Out","Khmer MN Bold","Skia Light","Garamond Italic","GothicG","Autour One","Opus PlainChords","Symbol Tiger","Lucida Fax Demibold","Athelas","Linux Libertine Initials O","STIXIntegralsUp-Bold","MMa VariableD SS","VNI-Aztek","MLW-TTKarthika","ML-TTChithira","Superclarendon Regular","Z@R185D.tmp",".VnPresent","Snell Roundhand","MMa Etc Italic","ADMUI3Lg","Brandon Grotesque Black","Avenir Next Condensed Italic","Circular Std Black","Futura LT Extra Bold Oblique","KanchanOMJ","cmcsc10",".VnCommercial Script","Segoe UI","Mathilde","GangaSagarMJ","Nunito Light","Code39AzaleaRegular3","Code39AzaleaRegular2","MMa Variable","STIXSizeTwoSym-Regular","Arabic Transparent","Kufi Extended Outline","Myriad Pro Bold SemiExtended Italic","Titillium Thin Italic","Aileron Heavy","Noto Serif Lao","Web Serveroff","Gautami","Sauce Code Powerline Bold","Yuanti TC Bold","Noto Sans Bamum","Calisto MT Italic","Myriad Arabic Bold Italic","uni 05","Noto Sans Runic","Sue Ellen Francisco","Hiragino Mincho Pro","GENUINE","FML-TTVarsha","Lucida Grande","Playfair Display SC Black Italic","Avenir Heavy Oblique","GaneshExtraBold","MMa CenturySS Bold","STIXSizeThreeSym-Bold","Kozuka Gothic Pro","KalegongaMJ","Lucida Sans Typewriter Regular","Judson","YuMincho  36p Kana Demibold","FML-TTVisakham","Trade Gothic LT Std Condensed No. 18 Oblique","Myriad Pro Semibold SemiCondensed","Segoe UI Emoji","Ubuntu Mono","Traditional Arabic","ChitraOMJ","DejaVu Sans Mono Bold Oblique for Powerline","Noto Sans Avestan","Piranesi It BT","PrimaSans BT","Mshtakan Oblique","Adamsky SF","Roboto Thin","Reklame Script Regular","Lato Regular","Myriad Arabic","Vollkorn Bold","New Peninim MT Inclined","HGHangle","Desdemona","KievitPro-Regular","Arno Pro Smbd SmText","Rotis Sans Serif Std 55 Regular","SimSun","Gill Sans Bold","Euclid Bold","Charter Black",".VnMysticalH","Rakesly Ul","Vogue-ExtraBold","ITAN","Mishafi Regular",".VnRevue","Mishafi","Old Antic Decorative","Sukhumvit Set Light","Photoshop Small","Pristina","TAU-Kambar","Magic School One","Trajan Pro 3","Corbel","Rage Italic LET","Constantia","Gill Sans MT Condensed","cmfib8","Xirod","Euphemia","Nimbus Sans L","Sacred Geometry","ELANGO-TML-Panchali-Normal","Georgia","Gill Sans MT Bold","Droid Sans Hebrew","CL","MMa Extra SS","HelveticaNeueLT Pro 75 BdOu","FML-TTAswathi","NATURALBORN","Pleasantly Plump","Blackletter686 BT","Bodoni MT Poster Compressed","Yuppy SC Regular","Arno Pro Smbd","Engl","Times New Roman Cyr","Gill Sans MT Bold Italic","Myriad Pro Light SemiCondensed","YuMincho Demibold","Canter Light","Broadway Copyist Text Ext","Marquisette BTN","Nova Cut","Rumburak","PT Bold Heading","TeX Gyre Termes","Dollar","System Font Regular","SWItalc","Noto Sans Devanagari","AV-Font-Hin1","DejaVu Sans Condensed","Huxley Titling","Roboto Bold","Noto Sans Cypriot","HelveticaNeueLT Pro 25 UltLt","Distant Galaxy","Nueva Std Italic","SWItalt","HELTERSKELTER","Adobe Gothic Std","Avenir Next W1G Italic","KacstTitle","Symap","Utsaah","Ancuu","cmmib7","Chaparral Pro Italic","STIXGeneral-BoldItalic","MMNegate Bold Italic","Birch Std","Silom","Futura Light BT","Felix Titling","Leelawadee UI","Proxy 7","Proxy 6","Proxy 5","Proxy 4","Proxy 3","MT Extra Tiger","Proxy 1","Clarendon Hv BT","Lantinghei TC Demibold","Stone Sans ITC TT Bold","Accord SF","Book Antiqua Italic","ML-TTNarmadaExBold","Proxy 9","Proxy 8","Bodoni MT","Bookman Old Style","Futura Medium BT","YuMincho","Lucida Blackletter","Noto Sans Gujarati","Z@R13D5.tmp","Belfast SF","Yu Gothic UI Light","Noto Sans Linear B","kroeger 05","Myriad Pro Semibold Condensed Italic","Futura Condensed ExtraBold","Roboto Regular","Broadway BT","LeviBrush","Verdana Pro Cond Black","Segoe Script","Bebas Neue Light","Yuanti SC","Futura Std Medium Condensed","Diwan Thuluth","EngraverTextH","cmmi10","HelveticaNeueLT Pro 47 LtCn","Verdana Bold Italic","Proxima Nova Rg","Lucida Fax Regular","System Font Medium Italic","Didot Bold","Hack Bold Italic","Segoe UI Light","Lucida Fax","HelveticaNeueLT Std","Segoe WP Semibold","Constantia Bold","Futura LT Medium Oblique","VNI-Univer","TAM-Shree800","EngraverTextT","Baby Kruffy","David Transparent","Calibri","HGSHeiseiMinchotaiW3","Fira Mono Medium for Powerline","Perpetua Titling MT","PT Sans Narrow Bold","header 08","Mesquite Std","HucklebuckJF","MANDELA","KacstArt","MMa Arrow S","Gridnik","Adobe Gurmukhi Bold","Noto Sans Lao","cmsy10orig","Asana Math","Adobe Caslon Pro Semibold Italic",".VnPresentH",".VnClarendonH","Lao MN Bold","Titillium Thin","Vivian","RomanD","ISOCP2","Logo3Mv3tt","MS Gothic","QTOptimum Bold","Baghdad","Cantarell Bold","Myriad Pro SemiExt","American Typewriter Light","Avenir Next W1G Thin Italic","Libian SC","Sitka Small","Noto Sans Saurashtra","Averia Sans","Interstate-Bold","Tw Cen MT Bold","wgl4","Bank Gothic","eusb10","AlekyaThin","Gujarati Sangam MN","HelveticaNeueLT Pro 65 Md","SaiIndira","Gill Sans","IrisUPC","RomanS","MMa CenturyKS Bold Italic","58","VNtimes new roman","MMa Binary Italic","55","Holiday Springs BTN","57","Roboto Mono Thin for Powerline","51","Adobe Gothic Std B","52","HelveticaNeueLT Std Cn","Noto Sans Gurmukhi","PT Mono Bold","Bastion","FML-TTChithira","54","Lohit Tamil","Yellowtail","VNI-Helve","Diwani Simple Outline 2","ML-TTIndulekha","Incised901 Ct BT","Verona","56","Calligraffitti","Eurostile Bold","Rockwell Nova Extra Bold","Gill Sans Italic","Nyala","SF Compact Rounded Regular","System","SWMeteo","GothicI","Chewy","53","Lato Thin","TeX Gyre Bonum","URW Bookman L","Hannotate SC Regular","ElegantIcons","MMa CenturyK Italic","GROBOLD","Bookshelf Symbol 2","PingFang TC Light","Playfair Display SC","Century Schoolbook Bold","Apple SD Gothic Neo UltraLight","Napa SF","cnefonts","STIXIntegralsUp","Corsiva Hebrew Bold","Zapfino Extra LT Ligatures","Stencil Std","Type Embellishments One LET","Iowan Old Style Bold","Lucida Sans Typewriter Bold Oblique","Myriad Pro Regular","Bell Gothic Std Bold","Bodoni 72 Oldstyle Bold","IchamotiOMJ","AV-Font-Ben1","STIXGeneral","Gujarati Sangam MN Bold","Adobe Caslon Pro Semibold","Mallige","VNI-Bazooka","Perpetua Bold","Roboto Condensed Italic","MMa Etc Bold Italic","Avenir Black Oblique","Muli Light Italic","Padauk Book","PT Mono","Museo Sans 300","Browallia New","Code39AzaleaRegular1","STIXSizeOneSym-Bold","MMExtra Italic","Rundkursiv","Times New Roman Bold Italic","Calisto MT","OldDreadfulNo7 BT","Bitstream Vera Serif","Cousine Italic for Powerline","Freehand","Roboto Italic","Droid Serif","Lato Thin Italic","MMCenturyOld","VAGRounded BT","Digital Readout Upright","Noto Sans Glagolitic","Old Antic Outline","Bickham Script Pro 3 Bold","AlternateGothic2 BT","Enliven","Kohinoor Telugu Medium","ESTO","Noto Sans Lisu","Smarty Pants BTN","Syastro","Microsoft JhengHei","WP TypographicSymbols","Kristi","Hoefler Text Ornaments","Courier New CYR","Albany AMT","Granjon Bold","Inconsolata","Sorts Mill Goudy","MMa VariableC S","cmbsy6","Noto Sans Osmanya","Farsi Simple Bold","GreekS","cmbsy7",".VnKoalaH","DhonooOMJ","Niagara Solid","cmbsy8","Euclid Math One Bold","Swiss 721","Ubuntu","GreekC","VNI-Bandit","URW Palladio L","YuMincho  36p Kana","Sanpya","MMa GreekSS","eufm9","AvantGarde Md BT","Weibei TC","Myriad Pro Black SemiExtended Italic","Bebas Neue Book","Menlo Bold Italic","eufm5","Soho Gothic Pro Thin Italic","NBP Informa FiveThree","Noto Serif Armenian","DejaVu Sans Mono Bold for Powerline","Trade Gothic LT Std Oblique",".VnBook-Antiqua","Humanst521 XBd BT","Diavlo Bold","WP CyrillicA","WP CyrillicB","ITF Devanagari Medium","Franklin Gothic Medium","FML-TTChithiraHeavy","ML-TTDevika","Superclarendon Light","balonez fantasia","Sitka Text","Tw Cen MT Condensed Extra Bold","Skia Black","cmbx12","ML-TTKamini","Alegreya Sans SC","Linux Libertine Display G","Italic","PT Sans Bold","Opus Special Extra","Ebrima","Gurmukhi Sangam MN","FML-TTOnam","ML-TTRevathi","Hiragino Mincho Pro W3","BongshaiMJ","Adobe Hebrew","Heiti SC","Optima ExtraBlack","Hiragino Mincho Pro W6","Kundli English","Luminari"," 20","Courier MM Screenwriter Italic","HelveticaNeue MediumCond","Swiss 721 Extended","cmmi8","GFS Didot Classic","Myriad Pro Light Condensed","PoetsenOne","Helvetica Neue Light","monooge 05","cmmi7","cmmi6","cmmi5","Tiger Expert","Latin Modern Mono Caps","Learning Curve Pro","RamuScriptMedium","Source Sans Pro Semibold Italic","cmmib10","KabinLightDB Bold","ParvathiThin","Belwe Bd BT","DV-TTYogesh","Russel Write TT","DINPro-Black","GaneshBlack","Carbon Block","Romantic","Valerie Hand","Harrington Bold","Bauer Bodoni Std 1 Roman","AV-Font-Symbol","Papyrus","Palatino Bold Italic","Nanum Brush Script","Noto Sans Egyptian Hieroglyphs","Paralucent ExtraLight Italic","Proxima Nova Semibold","SF Slapstick Comic Shaded Oblique","Prestige Elite Std Bold","FML-TTVaisali","ITF Devanagari Marathi Medium","Arial Hebrew Scholar","Lohit Gujarati","FML-TTChandrika","Calisto MT Bold Italic","SignPainter-HouseScript Semibold","MS Serif","Nirmala UI","Hiragino Kaku Gothic ProN W6","HelveticaNeueLT Pro 57 Cn","Hiragino Kaku Gothic ProN W3","Skia Light Condensed","LT-ET-Ramya","WenQuanYi Micro Hei Mono","ML-TTAshtamudi","Bank Gothic Light","EngraverFontExtras","Swiss 721 Condensed","PT Sans Caption","Georgia Pro Cond Black","Noto Sans Tifinagh","Latin Modern Roman Demi","News Gothic MT","Open Sans Semibold Italic","Snell Roundhand Bold","VNI-Stylus","GaneshNarrow","Gotham","DhorolaOMJ","Elephant","Seravek Bold","mixtapeMike","Pacifico","Perpetua Bold Italic","Gayathri","MMa Variable Bold","Kannada Sangam MN","croissant sandwich","TSCu","CSongGB18030C-Light","Nixie One","Myriad Pro Black Italic","TG Termes Math","Kaiti TC Regular","0","Bree Serif","C-MediumHWL","YuGothic Medium","System Font Bold Italic G3","ML-TTOnam","Trocchi","Noto Sans Kharoshthi","Gill Sans Nova Cond","Abril Fatface","36p Kana Medium","cmdunh10","Merriweather Bold","MMa Fermat Bold","MMa CenturyK Bold","TitilliumText22L-Thin","TLUrdu","MLB-TTAswathi","Rocket Arabic Fixed","American Typewriter Condensed Light","John Handy LET","Gill Sans SemiBold","Tuyenduc","System Font Semibold Italic","Nexa Thin Italic","MMExtra","VNI-Park","Gen W01 Light","Futura Heavy Oblique","SymbolProp BT","Cantarell Regular","FML-Leela","Avenir Next W1G Heavy","STIXIntegralsUpSm","KalindiMJ","Garamond Premr Pro","msam9","HelveticaNeueLT Std Blk Cn","Lato Hairline","KG Neatly Printed","Proxima Nova Semibold Italic","Gravur Condensed Light","Webdunia","msam7","Times New Roman TUR","msam5","SHELMAN","Banmai Times","Bodoni 72 Oldstyle Book","Dosis","Museo Sans 100","Roboto Slab Regular","Al Nile","Gravity","LT-TM-Barani","Cochin Bold Italic","Opus","ML-TTChithiraHeavy","Rockwell Italic","HanziPen TC Bold","A Sensible Armadillo","Hack Italic","Terminator Two","HelveticaNeueLT Std UltLt Cn","Noto Sans Cuneiform","Yu Mincho Light","Gill Sans MT","News Gothic MT Bold","Avenir Next Regular","Ubuntu Light","Rouge Script","SWLink","Kalinga","ML-TTGuruvayur","Lato Bold","IPAexMincho","Chalkboard Bold","ABSALOM","Sigmar","Museo 500 Regular","Stone Sans ITC TT","Franklin Gothic Medium Cond","Geeza Pro Bold","Ml","Khmer OS","Futura Std Medium","SC","HelveticaNeueLT Std UltLt Ext","Incised901 Nd BT","ML-TTMangalaExBold","Arial Nova Cond","Droid Sans Fallback","Noto Sans Carian","CommercialScript BT","Roboto Condensed","Kokonor Regular","Kievit Offc Pro","Arial Hebrew Scholar Bold","FML-TTGuruvayur","Nexa Black Italic","Garamond Premr Pro Smbd","ML-TTSruthy","WP MathExtendedA","PT Sans Bold Italic","CSongGB18030C-LightHWL","Finale Copyist Text Ext","Kohinoor Bangla Light","eusm6","Sinhala MN","Soho Gothic Pro Regular","Open Sans Bold Italic","eusm5","Herculanum","ML1-TTAswathi","BhagirathiOMJ","PilGi","Adobe Garamond Pro Bold","Titillium","DecoType Naskh Variants","Wawati TC","Kozuka Gothic Pro R","BaluBold","SketchFlow Print","Opus Percussion",".VnTeknical","Sniglet","Noto Sans Hanunoo","Lingoes Unicode","Sketch Block","Lato Semibold","Kozuka Gothic Pro B","Verdana Pro","Kozuka Gothic Pro M","Kozuka Gothic Pro L","Kozuka Gothic Pro H","Bodoni 72","VNI-Swiss-Condense","Book Antiqua","Roboto Mono for Powerline","SF Slapstick Comic Shaded","Mukti Narrow","Baskerville Bold Italic",".VnArial NarrowH","Opus Metronome","Xingkai SC Light","Gotham Bold","Tiger","VNI-Awchon","Accent SF","Baron Neue Italic","Boogaloo","Finale AlphaNotes","Optima Regular","Apple Braille Pinpoint 8 Dot","IPAPMincho","Blackout","Noto Sans Old Turkic","Calibri Italic","SWRomnt","Edwardian Script ITC","MaestroTimes","Open Sans Light","SWRomns","Tsukushi B Round Gothic Bold","NanumMyeongjo Bold","VNI-DesdemonaU","Avenir Next Demi Bold Italic","Telugu Sangam MN","MMSchoolRD Bold","SWRomnc","Baoli SC","Leitura Display Roman","Savoye LET Plain:1.0","DIN-RegularAlternate","Hiragino Kaku Gothic ProN","HeadLineA Regular","Charter","KacstPen","header 17","Hiragino Kaku Gothic Pro W3","Hiragino Maru Gothic ProN","Adobe Naskh","RUMA","Liberation Sans Narrow","Corbel Bold","Noto Sans Tai Le","Valluvan","Soho Gothic Pro Thin","Modena printed","News Gothic MT Alt 5","Avenir Next Condensed Bold Italic","VNI-Centur","Avenir Next Condensed Medium","Palatino Linotype","STIXSizeFourSym-Bold","TAMElango","cmsltt10","Letter Gothic Std Slanted","Noto Sans Coptic","Firenze SF","Six Caps","Fira Mono","MS Mincho","Malayalam Sangam MN","Kohinoor Devanagari Semibold","Rockwell Nova","Chalkboard","Biko","Gurmukhi MN Bold","IguanaLover BTN","Curlz MT","Induction","FML-TTNarmadaExBold","Walter","DokChampa","CAC Champagne","Ubuntu Mono derivative Powerline Italic",".VnVogueH","Myriad Pro Black","cnefont","Helvetica Neue Italic","Onyx","HERMAN","1","standard 07","Myanmar Text","Deepa","Shree Devanagari 714","Balthazar","Klee Demibold","standard 09","Geeza Pro Regular","Cinema Gothic BTN Shadow","PT Simple Bold Ruled","IRIS","Myriad Web Pro Condensed","VNI-Bauhaus","LuzSans-Light","Futura Medium Oblique","Kailasa Bold","Smudger Alts LET","Chiller","VNI-Standout","Noto Sans Thai UI","eurm10","MMa Etc S","Corporate","Detente","Oriya Sangam MN","Adobe Devanagari Bold Italic","Sinhala MN Bold","Linux Biolinum O","HelveticaNeueLT Pro 27 UltLtCn","Jazz LET","Linux Biolinum G","Airstream","AR DECODE","Alien Encounters","VNI-Wide Latin","Tlwg Mono","eurm8","fox in the snow","eurm6","eurm7","Euclid","eurm5","PMingLiU-ExtB","Noto Sans CJK SC","Perpetua Titling MT Light","Swis721 Ex BT","Roboto Mono Thin Italic for Powerline","Garamond Premier Pro","gargi","Futura Light Condensed BT","Museo 700 Regular","Placard MT Condensed","Euro Sign","Persia BT","Circular Std Medium","Nexa Book Italic","Hoefler Text","TakaoPGothic","Dutch 801 Roman","Waverly","ML-TTPeriyar","Trade Gothic LT Std Light Oblique","PT Bold Dusky","Ayuthaya","Tw Cen MT Bold Italic","GentiumAlt","Damascus Regular","Hiragino Mincho ProN W6","Shruti","Devanagari Sangam MN","Hiragino Mincho ProN W3","Z@R1774.tmp","Avenir Next Condensed Medium Italic","Opus Japanese Chords","Noto Sans Thai","Adobe Caslon Pro","Apple Chancery","Kannada MN",".VnVogue","Nobile","New Peninim MT Bold","Meiryo Italic","Roboto Mono Italic for Powerline","GFS Complutum","Verdana Pro Cond SemiBold","Augusta","Lucida Sans","Old Antic Outline Shaded","Harrington","Malayalam Sangam MN Bold","DS Crystal","Purisa","Adobe Hebrew Bold Italic","Iowan Old Style Black","Razer Header Regular","Monospac821 BT","Kohinoor Devanagari","Diwan Kufi Regular","Droid Sans Japanese","Lucida Fax Demibold Italic","Minion Pro Bold Italic","Marion Italic","Raleway ExtraLight","ArhialkhanMJ","Gungsuh","VNI-Souvir","Thonburi","Skia","Kaiti TC","Umpush","Candy Round BTN Cond Lt","ML-TTThunchan","BorhalMJ","PingFang TC Regular","Futura Medium","System Font Semibold","Roboto Slab Bold","Fanwood","Muli Light","Raisin des Sables","DFMaruGothic-Md","Al Bayan Bold","Noto Sans Mongolian","Apple Symbols","Muli Italic","Z@R1828.tmp","Source Sans Pro Bold","NanumGothic","MMRelation Italic","Noto Sans New Tai Lue","RaghuMalayalam","LetterOMatic!","Seravek Light","Baskerville Bold","MMGreek Bold Italic","QumpellkaNo12","GFS Olga","Times Italic","Futura Book BT","Glockenspiel","MS Reference Specialty","KanchanMJ","EngraverFontSet","MMa Binary","BN Jinx","Nova Flat","Yeseva One","Bauer Bodoni Std 1 Bold Italic","Kohinoor Telugu Semibold","TeX Gyre Heros","Georgia Pro Cond SemiBold","MMa Variable2 S","Inconsolata-g for Powerline","Simple Bold Jut Out","JLS Space GothicR NC","Circular Std Medium Italic","ML-TTAparna","Damascus Semi Bold","Opus Roman Chords","MS Dialog Light","MMa Negate","Chaparral Pro Light","Opus Note Names","Symbol Tiger Expert","SWComp","Cooper Std Black","JazzText","Langdon","FML-Mohini","Proxima Nova Regular Italic","Raleway ExtraBold Italic","cmtt12","DejaVu Sans Mono Oblique for Powerline","HUNTSON","Cantho","SWMusic","GENISO","Parchment","STHupo","Pricedown","Geotype TT","schoenecker 10","Photoshop Large","JACKIE","Averia","Granjon Roman","Bookshelf Symbol 7","Code39AzaleaNarrow1","Andong","Code39AzaleaNarrow3","Code39AzaleaNarrow2","Nexa Black","FML-TTPeriyar","Pirate","Formata Medium Condensed","Minerva","Futura LT Book","Kozuka Mincho Pro","LittleLordFontleroy","Tamil Sangam MN","Adobe Song Std L","SWIsop2","SWIsop3","STIXIntegralsSm","SWIsop1","Lao UI","Pothana2000","TAU-Valluvar","FML-TTLeela","BOUTON International Symbols","FontAwesome","Menlo Italic","MMa TextBook","Gothic720 BT","EucrosiaUPC","SF Slapstick Comic Bold","Gabriola","QuickType II Condensed","Bodoni 72 Oldstyle Book Italic",".Vn3DH","HelveticaNeueLT Std Bold Outln","Lohit Punjabi","Kaiti SC Black","HKSCS-ExtB","Modern No","Blackmoor LET Plain:2.0","MMa Century Bold Italic","Code39AzaleaWide3","Code39AzaleaWide2","Code39AzaleaWide1","19","Phatdiem","David","ML-TTAyilyamBold","Avinor","Adobe Devanagari","Al Tarikh Regular","Zolano Sans BTN","Drivebye 2","Drivebye 3","Ultra","Drivebye 1","Drivebye 4","Sneakerhead BTN Shadow","Songti SC Black","Radha","MMa Relation S","Ventilla Script","eufm8","Stone Sans OS ITC TT Bold","GFS Solomos",".VnCentury Schoolbook","Nexa Thin","Bordeaux Roman Bold LET Plain:1.0","Euclid Math Two","EngraverTextNCS","Meiryo Bold Italic","Cooper Std Black Italic","DynameBlackSSK","GaneshThin","LTHYSZK","Noto Sans Hebrew","AnjaliOldLipi","Meslo LG M Regular for Powerline","Silent Reaction","VNI-Free","Montserrat Extra Bold","Avenir Next","Apple Braille Pinpoint 6 Dot","CommercialPi BT","CopprplGoth BT","GJ-TTAvantika","monofur bold for Powerline","Arial (Arabic)","Courier Std","FML-TTSwathyBold","Avenir Oblique","eufm6","SuperFrench","Montserrat","Copperplate Gothic Bold","Gillius ADF No2 Cd","Lantinghei SC Demibold","Gill Sans Nova Light","HGHeiseiMinchotaiW3","Lato Black","Rod Transparent","Malayalam MN Bold","Euclid Fraktur Bold","VNI-Boston Black","ML-TTLeela","INSPECTIONXPERT GDT FRAMES","Bebas Neue Thin","mry","eufm7","SWMap","Proxima Nova Condensed Light","cmbxti10","Nexa Regular","Lucida Bright Demibold Italic","Optima LT Std","Georgia Pro Black","Titillium Semibold Italic","ParkAvenue BT","Franklin Gothic Medium Italic","PujeetaNarrow","Daclac","Xpress Heavy SF","Tibetan Machine Uni","DecoType Naskh Swashes","Arial Narrow","MMa TextBook Bold Italic","Titillium Thin Upright","Roland",".VnCooper","Stephen","Kino MT","HelvLight","Eurostile","Shonar Bangla","Helvetica Neue Thin","Orator Std Slanted","cmvtt10","MMCenturyNew Italic","DIN-Regular","Futura Book Oblique","Hack Regular","Nanum Gothic","SaiMeera","Apple SD Gothic Neo Thin","Source Code Pro ExtraLight","Myriad Pro Light SemiCond","Bank Gothic Medium","Swis721 Blk BT","Cambria Math","ChitraMJ","MS Dialog","Kokonor","ChitraSMJ","monofur for Powerline","Samathwa","Adobe Myungjo Std M","ML-TTVarsha","MMTextBookB Italic","AV-Font-Mal1","VN-NTime","MMa Extra Bold Italic","Paralucent Extra Light","Grand Hotel","MMRelation Bold","NanumMyeongjo","cmssdc10","Z@R183A.tmp","MMa Negate Italic","VNI-Harrington","Kruti Astro","DYMObvba","System Font Heavy","cmtt9","Avenir Next W1G Demi Italic",".VnBook-AntiquaH","La Bamba LET","Rage Italic","MMa Fraktur","Parisian BT","University Roman Alts LET","Lobster","Ideal Sans Book","Lucida Grande Bold","MMa VariableC Bold","MMa Binary Bold","Fixedsys","Adobe Naskh Medium","Vemana2000","Opus Special",".VnSouthern","Swis721 BT","ITF Devanagari Marathi","PT Sans Narrow","FML-TTRohini",".VnMemorandum","Siyam Rupali ANSI","Segoe UI Semilight","Rock Salt","Santa Fe LET Plain:1.0","ParvathiBold","Superclarendon","STIXIntegralsUpD-Regular","Salilam","Canter Bold","FML-TTBeckalBold","STIXIntegralsUp-Regular","MMCenturyNew","Georgia Pro Cond Light","Arial Italic","Nueva Std Bold Condensed","Latin Modern Math","FreeSans","SAS Monospace Bold","Tarzan","STIX","VnTimes","Typewriter","Arial TUR","Urvasi","Meslo LG L Regular for Powerline","Sans","cmr5","ML-TTSuparna","HelveticaNeueLT Pro 35 Th","Lato Medium","Futura Std Bold Condensed","Trade Gothic LT Std Bold Oblique","Thorndale AMT","Sitka Display","Complex","Bobcat","Kaiti TC Bold","Hansen","Rosewood Std","VNI-DOS Sample Font","Noto Sans Tagbanwa","Razer Header Light","MS Sans Serif","Maestro Percussion","Western Bang Bang","Shorelines Script Bold","Myriad Pro Bold Condensed Italic","Kohinoor Telugu Bold","SF Movie Poster","Harlow Solid Italic","Brandon Grotesque Bold","lettau 06","Z@R123A.tmp","Linux Libertine Mono O","Giadinh","Yuanti SC Bold","Rakesly Rg","Accanthis ADF Std No3","HooglyMJ","Nunito","HelveticaNeueLT Std Med","Helvetica Neue Condensed Bold","MMCenturyNew Bold","WP Arabic Sihafa","Archicoco","Realvirtue","MMa VariableA Bold","MMVariableA","Nimbus Roman No9 L","MMVariableC","MMVariableB","64","MMVariableD","66","MMVariableF","68","FML-TTAparna","ML-TTGauriHeavy","Chess Maya","Special Elite","Courier New TUR","Kozuka Mincho Pro L","Minion Pro Bold Cond Italic","VISCII Sample Font","Montserrat Semi Bold","BriLliant","LIVINGWELL","MMa Variable S","VNI-Jamai","FML-TTSabari","Binhlong","AtraiMJ","TeamViewer10","TeamViewer11","Broadway Copyist Text","GoraiMJ","American Typewriter Condensed","HGSHeiseiMinchotaiW9","Seravek Medium Italic","Belwe Cn BT","Abadi MT Condensed Light","Vanilla","WP Greek Helve","Trocchi Bold","Khmer MN","Roboto Condensed Regular","TitilliumText22L-Light","Nexa Bold Italic","cmss9","cmss8","IMG Symbols","ML-TTBhavana","Aldhabi","Weibei SC Bold","MMVariable2","AL Cinderella","Consolas Bold Italic","Monoton","Z@R16FD.tmp","Gill Sans Bold Italic","Khanhoa","MMVariableD Bold","Charter Bold Italic","AnandapatraCMJ","UniversalMath1 BT","Janaranjani","TeamViewer9","Days Regular","Times New Roman CE","Futura Bold Oblique","VNI-Korin","msbm5","HelveticaNeueLT Pro 23 UltLtEx","Spirituality","Sitka Heading","KasseFLF","TeX Gyre Heros Cn","GoudyHandtooled BT","Bebas Neue Bold","Henny Penny","JugantorMJ","Trebuchet MS Bold","Raleway Thin Italic","Lucida Bright Demibold","Prestige Elite Std","HGMinchoL","SonicCutThru Hv BT","BuiltTitlingRg-BoldItalic","Bickham Script Pro 3",".VnBodoni","Jazz","MYingHei","Muna","Lato","Minisystem","BurigangaMJ","Hoefler Text Black Italic","Andale Sans for VST","Diavlo Book",".VnArabia","Big Caslon Medium","Titillium Semibold","Mishafi Gold Regular","Qaskin Black Personal Use","cmssbx10","Oxygen","msbm7","cmmi9","Aileron Light","KacstOffice","Libian SC Regular","IMG Baby","Humanist","Montserrat Hairline","euex9","euex7","Courier 10 Pitch","ML-TTMadhaviExBold","AR DESTINE","Shree-Mal-0502","FML-TTAathira","cmbxsl10","FML-Indulekha","PingFang SC Ultralight","FML-Sruthy","FML-TTGauriHeavy","Adobe Fan Heiti Std B","Avenir Heavy","cmex8","Hiragino Sans GB W6","STIXIntegralsUpD","line10","Futura LT Condensed Bold Oblique","Admisi Display SSi","cmex7","Casual","CASMIRA",".VnLucida sans","STIXGeneral-Regular","Nueva Std Bold Condensed Italic","HGPHeiseiMinchotaiW9","Klee Medium","Accord Heavy SF","MMCenturyOld Italic","STIXNonUnicode-Italic","Fira Mono Bold for Powerline","Hadong","Apple Color Emoji","ML-TTAathira","3ds Light","AR DARLING","Bifurk","Palace Script MT","NanumGothic ExtraBold","Baghdad Regular","FML-TTThunchan","Vodafone Rg","GFS Neohellenic","Quicksand","Times New Roman Bold","PingFang TC Medium","Technic","Adobe Kaiti Std R","HGPHeiseiMinchotaiW3","Gen W01","HelveticaNeueLT Std Lt Ext",".VnPark","Avenir Next W1G Bold Italic","Roboto Black","New Renex Special Graphics","Brush Script Std","Segoe UI Historic","DejaVu Sans","Krungthep","ML-TTKala","Kohinoor Devanagari Demi","VNI-Hobo","GangaMJ","FML-TTRevathi","Sauce Code Powerline Semibold","Open Sans Bold","WP MultinationalA Courier","MMa CenturySS Bold Italic","Kohinoor Telugu","Bodoni 72 Smallcaps","VNI-StageCoach","HanziPen TC Regular","Agency FB","Reginet","Helvetica Neue Medium Italic","Helvetica Neue Condensed Black","ML-TTAnakha","Yuanti TC Light","65","Avenir Next Bold Italic","GF Zemen Unicode","Ice kingdom","Santa Fe LET","Gotham Narrow Book","Army","Latin Modern Sans Quotation","Moonbeam","67","Microsoft YaHei UI Light","Bell MT Italic","Myriad Arabic Bold","Lohit Bengali","Lato Hairline Italic","AppleGothic","Titan One","Lantinghei SC","Myriad Pro Black Condensed","Orator Std Medium","Kozuka Gothic Pro EL","Hollywood Hills","Tekton Pro Cond","Franklin Gothic Book Italic","ANDROID ROBOT","Diwan Kufi","Dutch801 Rm BT","future","Divya","Tlwg Typo","Xingkai SC","Open Sans","SutonnyMJ","Source Code Pro Semibold","Neo Sans Pro Light","FML-TTMalavika","Proxima Nova Condensed","Myriad Pro Black SemiExtended","cmtt8","Paralucent Demi Bold","3M Circular TT Light","VNI-Tubes","HelveticaNeueLT Pro 37 ThCn","Farah Regular","VNI-Duff","cmmib6","ML-TTChandrika","Amatic","Khalid Art bold","cmmib8","cmmib9","Ela Sans Light Caps","SF Compact Rounded Ultralight","Malgun Gothic Semilight","Latienne Pro Italic","Cortoba","Paralucent Heavy","VNI-Lithos","Shree-Tel-0900","MMGreek Italic","FML-TTJyothy","HelveticaNeueLT Pro 43 LtEx","Leitura Display Italic","Ostrich Sans",".VnBahamasB","Gill Sans UltraBold","FML-Padmanabha","Myriad Pro Light","PT Serif Italic","MMBinary Bold","Autumn","STIXVariants-Regular","Archive","Math3","Math2","Math1","FML-TTSarada","Euclid Math One","Futura LT Condensed Medium Oblique","Math4","Franklin Gothic Book","AR CARTER","Xpress SF","System Font Light","Literation Mono Powerline Bold Italic","Lato Semibold Italic","SymbolMono BT","HGPHeiseiKakugothictaiW5","HGPHeiseiKakugothictaiW3","Waree","PingFang TC Thin","Myriad Pro Black Cond","Adobe Heiti Std R","Learning Curve Dashed Pro","Smokum","Noto Sans Yi","HelveticaNeueLT Std Thin Cn","Mesquite Std Medium","Blackoak Std","kroeger 07","ML-TTNanditha","cmssi12","Avenir Medium","MS PGothic","Droid Sans","Finale Copyist Text","Merriweather UltraBold Italic","Kohinoor Devanagari Book","Reklame Script Black","System Font Regular G1","Sabrina","System Font Regular G3","System Font Regular G2","Arial Symbol","Lantinghei TC Extralight","cmbsy9","Kozuka Gothic Pr6N","Georgia Pro Light","Mangal","PT Bold Arch","JasmineUPC","Phosphate",".VnTifani Heavy","MMa CenturyKS","Logo3Mtt","STHeiti","MMNegate","AV-Web-Tel1","Opus Text","PingFang HK Thin","Century","Playfair Display SC Bold","Standard Symbols L","BhagirathiMJ","Bowlby One SC","mono 08","cmti7","DigifaceWide","PujeetaSpecial","Avenir Next W1G Medium Italic","Iowan Old Style Bold Italic","Italic Outline Art","cmu10","MMa Negate SS","Serifa Bold","mono 07","Dyuthi","Sauce Code Powerline ExtraLight","ae","kroeger 04","MMRelation","Arno Pro Smbd Display","MMRelation Bold Italic","Microsoft YaHei UI","Lucida Sans Regular","FML-TTThiruvathira","FREH","Nova Round","18030","SWGreks","PingFang SC Semibold","Adobe Heiti Std","Staccato222 BT","IDAutomationPDF417n4","cmssq8","Zapfino Extra LT Four","Verdana Pro Light","Euclid Fraktur","FlemishScript BT","AV-Font-Sin1","Monospace","Gotham Black Italic","Madre Script","Droid Sans Mono","TMBW-TTValluvar","cafeta","AR JULIAN","cmtex10","Oriya MN Bold","Buxton Sketch","HelveticaNeueLT Pro 45 Lt","Minion Pro Bold Cond","LiHei Pro","Raleway Light",".VnKoala","System Font Light Italic","Kiran","MingLiU-ExtB","Nueva Std Condensed Italic","Proxima Nova Soft Semibold","Circular Std Book","Beirut Regular","HelveticaNeueLT Pro 55 Roman","AR DELANEY","Candles","Lucida Sans Demibold Italic","Myriad Pro Bold Italic","Seravek Italic","Old English","Uttara","Formal436 BT","Latin Modern Roman Slanted","AcadEref","Soho Gothic Pro Light","Corbel Italic","Modern","Z@R277C.tmp","Microsoft JhengHei UI","Lato Heavy Italic","Comic Sans MS","Trade Gothic LT Std Light","Westwood LET","Old Antic Bold","Futura Std Heavy","DaunPenh","Euclid Symbol Italic","Noteworthy Bold","MMa CenturyKSS Bold","Year supply of fairy cakes","SutonnyOMJ","Open Sans Extrabold Italic","Tekton Pro Bold Condensed","Chancery Cursive","Quincho Script PERSONAL USE","Modern Antiqua","Verdana","System Font Thin","Merriweather Bold Italic","Gisha","Chaparral Pro Light Italic","MMa CenturyKS Bold","BolsterBold","AVGmdBU","Cir Arial","Lithos Pro Black","Papyrus Condensed","Seravek Medium","Chalkduster","Noto Sans CJK TC","MMa Greek Bold Italic","HeadLineA","MMVariableA Bold","Times New Roman Italic","Garuda","Permanent Marker","Yu Gothic UI Semilight","Myriad Pro Black SemiCondensed","Apple SD GothicNeo ExtraBold","Norasi","Arial Nova Light","PondFreeBoss","Avenir Light Oblique","Alice and the Wicked Monster","AvantGarde Bk BT","Arno Pro SmText","GungSeo","ori1Uni","HelveticaNeueLT Std Blk","DIN-LightAlternate","MMa CenturyKSS","MMa Relation SS","Andalus","VNI-Zap","BN Machine","Segoe MDL2 Assets","Rotis Sans Serif Std 45 Light",".VnGothicH","Proxima Nova Bold Italic","SAF","Futura Light Italic BT","Vivaldi",".VnCourier","Khmer Sangam MN","BorakOMJ","Roboto Mono Light Italic for Powerline","ML-TTTheyyam","Avenir Next Condensed Heavy Italic","Caladea","Noto Serif Georgian","Charlemagne Std Bold","HGHeiseiKakugothictaiW5","HGHeiseiKakugothictaiW3","BerlingRoman","Nadeem","Source Sans Pro Light Italic","Helvetica Neue UltraLight","stmary10","Impact","Sketch Match","Songti TC","Square721 BT","MMa VariableA SS","AV-Font-Guj1","Georgia Pro","DhorolaMJ","Yuanti SC Regular","Roboto Mono Light for Powerline","Poplar Std Black","Futura Light Oblique","Hypatia Sans Pro ExtraLight","ISOCPEUR","Alternate Gothic No2 D","Gillius ADF","copy 10","Noto Sans Ugaritic","Yuanti TC","Charlemagne Std","Reswysokr","ML-TTNila","Pamela want a Bike to Ride","Museo 100 Regular","Montserrat Ultra Light","System Font Bold G3","System Font Bold G2","System Font Bold G1","ChandrabatiMatraMJ","MingLiU","Noto Sans Tamil","NeueHaasGroteskText Pro","Savoye LET Plain CC.:1.0","classic 10","Droid Sans Georgian","Merriweather Regular","MMa Etc SS","Devanagari Sangam MN Bold","STIXSizeFiveSym","Proxy 2","MMEtc","SOLIDWORKS GDT","Superclarendon Italic","Sakkal Majalla","TextilePiEF","MMa Variable2","Songti TC Bold","STIXIntegralsD","Monotype Koufi","DIN Condensed","Noto Sans Tamil UI","Arial Baltic","Terminal Greek 869","Chess Berlin","System Font UltraLight","Microsoft YaHei Light","AR Sans Serif","FML-TTNalini","Noto Sans NKo","Joan","Adobe Fan Heiti Std","RomanC","MMa Arrow Bold","Verdana Pro Cond Light","Kannada Sangam MN Bold","Museo Sans 500","Bitstream Vera Sans","STIXSizeFiveSym-Regular","Mistral","CloisterBlack BT","DhakarchithiMJ","Latin Modern Sans Demi Cond","Czec","GothicE","IMG Extreme","WST","RomanT","Adobe Arabic Bold Italic","DINPro-Bold","Century Schoolbook Bold Italic",".VnBlack","VNI-Fillmore","Noto Sans Old Persian","Dutch801 XBd BT",".VnArial Narrow","Sathu","Avenir Next Medium Italic","Lato Heavy","MMVariableC Bold","Simple Indust Shaded","RowdyHeavy","Flamenco","PanRoman","Gotham Narrow Extra Light Italic","OLF SimpleSansOC","Folio XBd BT","Roman Mono","System Font Bold Italic G1","Sinhala Sangam MN Bold","Cataneo BT","System Font Bold Italic G2","Soho Gothic Pro ExtraBold It","Oriya Sangam MN Bold","JUSTICE","MMa Greek Italic","Gotham Medium","Arno Pro Light Display","Ezra SIL SR","Kokila","SD-TTSurekh","GrilledCheese BTN","Kannada MN Bold","Heiti SC Medium","Avenir Next W1G Heavy Italic","PT Serif Caption","Hiragino Maru Gothic Pro","Monotype Sorts 2","Myriad Pro Black SemiCond","Swis721 BlkEx BT","Tsukushi A Round Gothic","Futura LT Extra Bold","Titillium Regular Italic","French Script MT","Tw Cen MT","KacstDecorative","Lucida Sans Typewriter Oblique","Impregnable Personal Use Only","MMNegate Italic","Whimsy TT","Chess Marroquin","NBP Informa FiveSix","Lucida Sans Demibold Roman","msbm10","Gill Sans Nova Ultra Bold","copy 09","Blackmoor LET","Castellar","IPAMincho","MMa VariableB Bold","Superclarendon Bold","Titillium Black","Avenir","Lucida Sans Typewriter Bold","BrowalliaUPC","Steppes TT","VNI Cambodia","Kefa Bold","Helvetica Light Oblique","Avenir Next W1G Ultra Light Italic","JazzCord","Symbol Neu for Powerline","Emily Austin","Avenir Light","Tiranti Solid LET","Myriad Hebrew Italic","Monotype Corsiva","cmitt10","DhanshirhiOMJ","KacstDigital","kawoszeh","Cut Me Out 2","Cut Me Out 3","Myriad Pro Bold Condensed","boot","Fredericka the Great","Symusic","balonez fantasia br","Bitstream Vera Sans Mono","Devanagari MT","Noto Sans UI","Myriad Pro Semibold Italic","Noto Sans Vai","Razer Header Regular Oblique","Dot","Swed","ScriptKleio","Gillius ADF No2","Myriad Pro Bold SemiExtended","Prema","ConcursoItalian BTN","Pricedown Bl","Lantinghei SC Extralight","GillSans-Bold","Urdu Naskh Asiatype","Glegoo","Kohinoor Devanagari Bold","Vollkorn Regular","AngsanaUPC","Apple Casual","Freehand575 BT","PingFang SC Regular","Aharoni","Medlin","MMa Relation Bold","Arial","FML-TTAnjali","RADAGUND","Noto Sans Mandaic","Marion Regular","cminch","Seagull APL","Nueva Std","Pamela wants to Ride","Monotxt","cmtt10","TRENDY","Alex Brush","Playfair Display SC Italic","STIXIntegralsUpD-Bold","DecoType Naskh","Muli","Marker Felt Wide","Klee","PUPPYLIKE","Accanthis ADF Std No2","Cooper Std","Meslo LG L DZ Regular for Powerline","Droid Arabic Naskh","ITF Devanagari Demi","Verdana Pro SemiBold","Kalyani","Futura Md BT","Latino Elongated LET Plain:1.0","Brussels","Nasalization","Thonburi Bold","Kohinoor Devanagari Medium","Loma","Noto Sans Rejang","Typewriter Bold","Zapfino Extra LT One","Futura Heavy","Origin","Euclid Symbol Bold Italic","Gotham Narrow Bold Italic","smart watch","PFDaVinciScriptPro-Inked","Odessa LET","KG Fall For You","FMLTTAathira","MMNegate Bold","Gotham Thin","Cousine Bold for Powerline","Courier New Bold","Cracked","Arial Bold","GoomtiMJ","PingFang SC","Minion Pro Semibold Italic","VNI-WIN Sample Font","LA Headlights BTN","Moon Flower","VNI-Couri","Segoe WP Light","lcmssi8","Carlito","Eras Bold ITC","Proxima Nova Light","Oswald","Abel","Doulos SIL","Sanskrit","BRADDON","MMa Binary Bold Italic",".VnStamp","Raleway ExtraBold","VNI-Vari","DhakarchithiOMJ","Narkisim","Arno Pro Subhead","monoeger 05","Lithos Pro","Noto Sans CJK KR","Arial Black","Gigi","FML-TTVeenaHeavy","JaJaDiMJ","Supernatural Knight","Garamond Premier Pro Semibold","Didot","MMa Relation Italic","IDAutomationPDF417n3","Source Sans Pro ExtraLight Italic","STZhongsong","NSimSun","JuneBug","Candy Round BTN Lt","Georgia Bold Italic","BauerBodni BT","ML-TTRavivarma","Yu Gothic Light","monofur italic for Powerline","Webdings","Courier MM Screenwriter BoldIt","STXinwei","PenultimateLightItal","3 of 9 Barcode","Rockwell Nova Cond Light","Laila Medium","FML-TTSurya","Shree Devanagari 714 Bold","Metamorphous","Mekanik LET","Serif","Verdana Pro Black","ML1-TTAmbili","Lucida Handwriting Italic","Apple Braille Outline 8 Dot","Courier New Baltic","Euclid Italic","Opus Figured Bass Extras","Latin Modern Roman Unslanted","VNI-Allegie","Comic Sans MS Bold","Nina","ML-TTMalavika","18thCentury","PhrasticMedium","Amatic SC","Canter Bold 3D","Swis721 BlkCn BT","KalegongaOMJ","Nirmala UI Semilight","Lato Light","ISABELLE","Courier","Linux Libertine G","copy 08","Kedage","Raleway Light Italic",".VnLinus","Roboto Medium","Lithos Pro Regular","STIXNonUnicode-Regular","eufb9","eufb8","MARKETPRO","Skia Black Condensed","eufb7","eufb6","eufb5","VnTimes2","SWMath","Bamini","Anonymice Powerline Bold","Sukhumvit Set Thin","STFangsong","ML-TTAtchu","Cochin Italic","hooge 06","hooge 04","hooge 05","Tw Cen MT Italic","MMTimes Bold","IPAGothic","PingFang TC Ultralight","Copperplate Light","Consolas Italic","Kohinoor Telugu Light","TAU-Barathi","STIXIntegralsUpSm-Regular","FML-TTKeerthi","Vrinda","eurb6","KalindiOMJ","Blade Runner Movie Font","Source Sans Pro Bold Italic","TAC-Barathi","Adobe Ming Std L","PingFang SC Light","MMa Gauss","kor","MMa Variable2 Bold","Yu Gothic Medium","Tw Cen MT Condensed","Damascus Medium","Sugarskin BTN","QTOptimum Regular","Tekton Pro Bold Oblique","Adobe Fangsong Std R","italic 08","Sana Regular","MMa Century Bold","DIN Condensed Bold","(AH) Manal Black","Wolf in the City Light","Scriptina","Skinny","FML-TTNanditha","eusb9","Kalpurush ANSI","Canter Bold Strips","AdineKirnberg-Script","Minion Pro Semibold","Copperplate Bold","Trebuchet MS Italic","Myriad Hebrew Bold Italic","Hand Me Down S (BRK)","Latha",".VnMonotype corsivaH","VNI-Slogan","STIXSizeTwoSym","Thonburi Light","Consolas Bold","Orange LET","Candara Bold Italic","Gotham Light Italic","Trade Gothic LT Std Extended","Starliner BTN","NixieOneRegular",".VnAristoteH","chs","Rockwell Condensed","ML-TTSarada","Map Symbols","DejaVu Sans Mono","Telugu Sangam MN Bold","Courier New Bold Italic","Gotham Narrow Ultra","Victorian LET","Architects Daughter","MS Reference 1","ML-TTNalini","MS Reference 2","Dynalight","Baskerville Old Face","Optima Bold Italic","SimSun-ExtB","Vladimir Script","Hiragino Sans GB W3","Rockwell","63","Skia Black Extended","Helvetica Neue UltraLight Italic","Dominican","Futura LT Bold Oblique","Franklin Gothic Heavy","Cooper Black","Baskerville Italic","Open Sans Condensed","TAU-Kaveri","MMa Variable SS","Helvetica Neue Thin Italic","Arno Pro Display","MMa Negate Bold Italic","Xingkai SC Bold","Montserrat Light","cmti9","TAC-Kabilar","cmssi9","Roboto Condensed Light","cmssi8","Tunga","STIXVariants-Bold","SWGDT","Arabic Typesetting","SAS Monospace","Martina","Myriad Pro Light SemiCondensed Italic","Raavi","MMTimes","VNI-Dur","TitilliumText22L-XBold","FML-TTVinay","Titillium Light Upright","Savoye LET Plain CC","Bangkok Cirilica","Mongolian Baiti","Iowan Old Style","MMArrow Bold","Cairo SF","Arno Pro Smbd Subhead","Formata Light Condensed","PingFang HK Medium","Cousine for Powerline","Arial Nova","Stez Sans","FML-LeelaHeavy","Century Gothic Bold Italic","Mytho","STIXIntegralsD-Bold","cmsl9","Al Nile Bold","SWIsot3","Great Vibes","System Font Italic G2","System Font Italic G3","System Font Italic G1","BlackJackRegular","Quicksand Light","ZWAdobeF","Hypatia Sans Pro","Noto Sans Mono CJK SC","Nueva Std Condensed","SemiBold","Avenir Next Condensed Ultra Light","Athelas Bold Italic","MMa TextBook Italic","ML-TTKarthika","Swis721 Hv BT","AS-TTDurga","Clear Sans","Led Italic Font","Seravek","Dirty Headline","Lucida Fax Italic","Apple SD Gothic Neo Heavy","Roboto Mono Medium Italic for Powerline","Droid Sans Armenian","Hiragino Maru Gothic Pro W4","AlekyaBold","STIXGeneral-Bold","Candara","Tekton Pro","QuickType II","Fixed Miriam Transparent","Latienne Pro Bold Italic","cmbsy10","ABIGAIL","Latin Modern Mono Light","Bodoni 72 Book","Cinzel","Monaco","Kozuka Gothic Pr6N M","Kozuka Gothic Pr6N L","msam8","PAINTSTROKE","ML-TTRohini","Kozuka Gothic Pr6N H","Fingerpop","TRIAL","SWGothg","SWGothe","SWGothi","BacktalkSerif BTN","Courier New","MLU-Panini","Marion","Zapfino Extra LT Two","News Gothic MT Alt 4","Miriam Transparent","Copperplate Gothic Light","BankGothic Md BT","MS SystemEx","Proxima Nova Condensed Semibold","YuMincho  36p Kana Medium","Microsoft New Tai Lue","SF Slapstick Comic",".VnExoticH","Baron Neue Bold Italic","Swis721 LtEx BT","PilGi Regular","PT Bold Stars","Chalkboard SE Light","ThoolikaUnicode","Muna Regular","Nueva Std Bold","Roboto Slab Light","Khmer OS System","NanumMyeongjo ExtraBold","Noto Sans Devanagari UI","Centaur","IM FELL DW Pica","Cambria","Castro Script PERSONAL USE ONLY","JF Armenian Serif","MMCenturyNewRD Italic","AppleMyungjo Regular","PingFang SC Medium","Futura LT Condensed Extra Bold","Noto Sans Old Italic","Bradley Hand Bold","Al Bayan Plain","STIXSizeOneSym-Regular","MMa CenturySS Italic","News Gothic MT Italic","Gotham Extra Light Italic","Wawati SC","KB Vibrocentric","Anonymice Powerline","Harry P","Sana","Heiti TC Medium","News Gothic MT Alt 1","DYMO Symbols","Futura LT Heavy","cmss17","ML-TTGopika","Symbola","Yuppy SC","ADMUI2Sm","Meiryo","Woodcut","cmss10","OCR-A BT","STIXSizeThreeSym","Roboto Thin Italic","AR CENA","Iowan Old Style Roman","TlwgTypewriter","Baclieu","Optima Bold","Hannotate TC Bold","Adobe Hebrew Bold","Gurmukhi Sangam MN Bold","X-Files","Microsoft Uighur",".VnExotic","Trade Gothic LT Std Bold","BankGothic Lt BT","Lucida Sans Typewriter","MisterEarl BT","Parry Hotter","Mshtakan","Baron Neue","FML-TTAshtamudiExBold","VNI-Present","Hoefler Text Black","News Gothic MT Alt 3","Verlag Book","VNI Helve","Lucida Bright Italic","Cabin","Math1Mono","MMa GreekSS Italic","TL-TTHemalatha","Alibi","Roboto","Bell Gothic Std Black","Lexia","Proxima Nova Soft Regular","Vollkorn Italic","ChandrabatiSushreeMJ","Diwani Outline Shaded","News Cycle","Apple SD Gothic Neo SemiBold","Arial CE","Z@R1816.tmp","SamsungImaginationBold","Charter Bold","Canter Outline","Day Roman","ML-TTVinay","YuCiril Helvetica","Brush Script","Sorts Mill Goudy Italic","Simple Indust Outline","36p Kana Demibold","Latin Modern Roman Caps","Mayence Premium","Granjon Italic","Aparajita","Noto Sans Syloti Nagri","Highlight LET","Ferro Rosso","Hypatia Sans Pro Light","Hei Medium","ITF Devanagari Light","MS UI Gothic","OCR A Extended","VNI-Ariston","SWSimp","Holiday Springs BTN Quill","WP MathExtendedB","FML-TTGeethika","Eras Demi ITC","Verdana Pro Cond","Bordeaux Roman Bold LET","Voyager NBP","Goudy Old Style Italic","Oswald Regular","Giddyup Std","Harvest","Helvetica Neue Medium","Paralucent Medium","Times New Roman Uni","MMCenturyOld Bold","Ubuntu Mono derivative Powerline Bold Italic","Clarendon Lt BT","Emma Script Mvb","Raleway Medium Italic","Gotham Extra Light","Stone Sans Sem ITC TT SemiIta","Menlo Bold","FZLanTingHeiS-UL-GB","MMa Binary S","Constantia Bold Italic","jpn","Myanmar MN","MMCenturyOldGreek Bold Italic","AGA Arabesque","Inconsolata for Powerline","Maestro","Avenir Next Condensed Bold","PT Serif","Kozuka Gothic Pr6N EL","Myriad Pro SemiExtended","Source Code Pro Light","cmbx10","Bernard MT Condensed","Teen","Baiduan Number","AnticFont","Andale Mono","CordiaUPC","Hobo Std","Caviar Dreams Italic","Math4Mono","ceriph 05","Gentium Basic","ceriph 07","Heather BTN","MMVariableB Bold","FML-Akhila","Bradley Hand","Cookie","AR HERMANN","eusb8","MMa Fraktur Bold","Soho Gothic Pro Bold","Kozuka Mincho Pro R","PN-TTAmar","eusb6","eusb7","ML-TTSwathyBold","Roboto Light","Cochin Bold","Symeteo","VNI-Internet Mail","MMa Greek Bold","Kozuka Mincho Pro B","Kozuka Mincho Pro M","Bodoni 72 Smallcaps Book","ZDingbats","Proxima Nova Condensed Regular Italic","Kozuka Mincho Pro H","Superclarendon Light Italic","CountryBlueprint","MMGreek","Juice ITC","TanglewoodTales","MMa Greek","MMEtc Bold","Noto Sans CJK JP","HelveticaNeueLT Std Lt","Apple SD Gothic Neo Medium","Microsoft JhengHei UI Light","Broadway Copyist Perc","Handwriting - Dakota","PCMyungjo","AIGDT","Helvetica Neue Light Italic","Museo Sans 500 Italic","Oriya MN","Arial Unicode MS","MMa VariableC SS","Roboto Condensed Bold Italic","Circular Std Bold","GaneshMedium","Finale Percussion","Titillium Light","Arkhip","Al Bayan","PingFang HK Semibold","SAPIcons","Noto Sans Samaritan","Dancing Script OT","ELLIS","Museo Sans 700","Limousine","SF Slapstick Comic Oblique","Sukhumvit Set",".VnUniverse","Franklin Gothic Demi Cond","KarnaphuliOMJ","DFKGothic-Md","Monika Italic","VNI-Meli","MV Boli","TeX Gyre Schola","Finger Paint","Meslo LG M DZ Regular for Powerline","TURK","Noto Sans Limbu","Arimo Italic for Powerline","SPAN","KG Part of Me","Hiragino Kaku Gothic Pro","No Flash","Zolano Serif BTN","DIN Alternate Bold","Nanum Pen Script","Proxima Nova Lt","Commons","Lato Light Italic","Raleway Black Italic","Maiden Orange","Lato Bold Italic","PondFreeMe","Latin Modern Mono Light Cond","Myriad Pro Light Cond","Baron Neue Bold","Malayalam MN","Mshtakan Bold",".VnAvant","MMa VariableD S","Merriweather UltraBold","ITF Devanagari Marathi Book","Raleway Thin","Amudham","MMCenturyNewRD Bold Italic","DIN-Bold","Miriam Fixed","Roboto Mono Bold for Powerline","SaiSai","Symbol MT","Virtual DJ","FML-TTRavivarma",".VnArabiaH","FML-TTSruthy","HaldaOMJ","JazzPerc","Gotham Narrow Medium Italic","Avenir Black","Kalpurush","eufb10","Raleway","Arial Bold Italic","Sinhala Sangam MN","Inconsolata-dz for Powerline","Hiragino Kaku Gothic StdN","Lobster Two","QuickType II Mono","Nova Square","MMa CenturyK Bold Italic","Roboto Slab Thin","Lucida Sans Unicode","Coaster Shadow","Skia Light Extended","Skia Regular","Chipotle","Thorndale for VST","TeX Gyre Adventor","SERB","Simplex","Amiri Quran","Ubuntu Mono derivative Powerline Bold","Songti TC Light","One Stroke Script LET","Clarendon Blk BT","Poiret One","Source Code Pro","Fascinate","GrilledCheese BTN Wide Blk","AV-Font-Tam1","SWRomnd","Times","Noto Sans Ol Chiki","Source Code Pro Medium","HooglyOMJ","Gazzarelli","One Dance Bold","Myriad Pro Light SemiExtended","Math5Mono","Raleway ExtraLight Italic","VNI-Maria","Gotham Narrow Book Italic","Roboto Black Italic","Tekton Pro Bold Extended","Titillium Regular Upright","FML-TTGauri","Stencil Std Bold","Note this","Bebas Neue Regular","Rod","VNI-Times","cmsy9","cmsy8","Just Another Hand","lcirclew10","INSPECTIONXPERT GDT NOFRMS","Accord Light SF","MMa VariableA","Z@R170E.tmp","cmsy5","New Peninim MT","LuzSans-Book","cmsy6","CATIA Symbols","Bauer Bodoni Std 1 Bold","Z@R184B.tmp","Trebuchet MS","Sukhumvit Set Text","Tsukushi B Round Gothic Regular","HP Simplified","Waseem","HelveticaNeueLT Pro 67 MdCn","Hiragino Kaku Gothic Std","Phosphate Inline","PondFreeZoo","Arial Narrow Bold Italic","Kailasa Regular","ML-TTThiruvathira","FML-TTKala","GiovanniITCTT","Stone Sans Sem OS ITCTT SemiIta","Arimo","Trade Gothic LT Std Bold No. 2","Source Sans Pro ExtraLight","Soho Gothic Pro Medium Italic","Milano LET","WP BoxDrawing","Titillium Light Italic","Open Sans Light Italic","FML-Revathi","Kartika","Chalkboard SE Bold","Bickham Script Pro Semibold","MMCenturyOld Bold Italic","FML-TTKarthika","Unknown Caller BTN SC","Paralucent Heavy Italic","MMArrow Italic","PMingLiU","Gotham Narrow Thin Italic","Andale Mono IPA","DecoType Thuluth","04b","Urdu Typesetting",".VnFree","URW Chancery L","Apple SD Gothic Neo Bold","Noto Sans Tagalog","PingFang TC Semibold","FML-TTAtchu","PR Celtic Narrow","Abyssinica SIL","JaneAusten","TAMILNET","Jokerman","GDT","Dosis Light","Adobe Garamond Pro Bold Italic","Devanagari MT Bold","Arial CYR","MMa Extra","Poor Richard","Weibei SC","Existence Light","Lucida Bright","Tahoma","Microsoft Yi Baiti","IchamotiMJ","HKSCS","KG Shake it Off Chunky","Gadugi","WP Greek Courier","Comic Relief","KacstFarsi","PT Separated Baloon","Siyam Rupali","ScriptC","MMSchoolRD Bold Italic","SWTxt","DejaVu Sans Mono for Powerline","FML-TTTheyyam","Berlin Sans FB","Terminal","HGP-AGothic2-Latin1K","Blackadder ITC","ScriptS",".VnCourier NewH","Arno Pro Smbd Caption","Kristen ITC","CLARENCE","Source Serif Pro","OPENCLASSIC","OLIVEOIL","YuGothic Bold","LCD","KasseFLF-Bold","HelveticaNeueLT Std Thin Ext","CZEC","3M Circular TT Book","Bold Italic Art","Goudy Old Style","ChunkFive Roman","Redressed","Chess Alpha","Myriad Pro Black SemiCondensed Italic","Jameel Noori Nastaleeq","Master Of Break","Smudger LET","Kinnari","Apple SD Gothic Neo Light","Bellota","Helvetica Bold Oblique","cmssi17","Emmett","CabinSketch","Songti SC","cmex10","cmssi10","Angiang","SF Compact Rounded","Meslo LG S Regular for Powerline","ItalicT","SaiEmbed","Museo 900 Regular","Heiti TC","Futura LT Light Oblique","Iowan Old Style Italic","VNI-Aptima","Gotham Narrow Extra Light",".VnBodoniH","MMVariable Bold","MMArrow Bold Italic","Fluffy Slacks BTN","Gotham Narrow Thin","QuickType II Pi","lcmssb8","ItalicC","WP Hebrew David","Darlin BTN","Skia Extended","SF Compact Rounded Light","Splash","ML-TTSurya","Warsaw","Noto Sans Ogham","DhanshirhiMJ","MMa Etc","Kunstler Script","Brush Script Std Medium","Seravek Light Italic","Kaiti SC Regular","Myriad Pro SemiCondensed Italic","Futura Book Italic BT","JF Georgian Contrast","Songti SC Light","AV-Web-Hin1","Mudir MT","BuiltTitlingRg-Bold","Gocong","Arial Cyr","Corsiva Hebrew","Bickham Script Pro Regular","VNI-Coronet","BlairMdITC TT","FML-TTThakazhi","ITF Devanagari Marathi Bold","Courier MM Screenwriter","WenQuanYi Micro Hei","Kumudam","Stone Sans Sem OS ITC TT Semi","WP MultinationalB Roman","cmex9","Rakesly Bk","Times Roman","HanziPen SC Regular","Press Start 2P","Myriad Hebrew","Wide Latin","Raleway Medium","Futura Book","American Typewriter Bold","Hiragino Kaku Gothic Pro W6","MMa Arrow SS","HelveticaNeueLT Std Thin","HelveticaNeueLT Std Ext","KacstPoster","HanziPen SC Bold","Colbert","Proxima Nova Soft Bold","Calvin","Iowan Old Style Titling","MMa VariableF","Kozuka Mincho Pro EL","MMa VariableD","Galeforce BTN","MMa VariableB","MMa VariableC","Minion Pro Medium","Damascus Light","KacstQurn","Raleway SemiBold","Book Antiqua Bold Italic","Uncial Antiqua","Diwani Simple Outline","BrahmaputraMJ","SWIsot2","Gotham Ultra","Broadway Copyist","Osaka","VNI-Vivi","Meiryo Bold","Segoe WP SemiLight","STIX Math","SWIsot1","VNI-ShellaL","STIXIntegralsD-Regular","STIXSizeThreeSym-Regular","lcmss8","Neon Lights","Z@R16EB.tmp","ML-TTLeelaHeavy","ParvathiMedium","Clarendon","Amethyst","EQUIS","System Font Black","ITF Devanagari Bold","Lao Sangam MN","PT Serif Bold","Snap ITC","Inder","PT Bold Mirror","OCR-B 10 BT","MMVariable","VANAVIL-Avvaiyar","Arial Rounded MT Bold","ISOCT2","Dosis ExtraBold","Chaparral Pro Bold Italic","MMTextBookB Bold Italic","Times New Roman Symbol","VNI-Dom","HelveticaNeueLT Pro 95 Blk","Baoli SC Regular","BurigangaOMJ","Avenir Next Condensed Ultra Light Italic","Letter Gothic Std","JLS Data GothicR  NC","Roboto Medium Italic","Titillium Bold","Bookman Old Style Bold Italic","Myriad Pro Semi bold","ISOCT3","msam10","Source Sans Pro Semibold","Myriad Pro Semibold SemiCondensed Italic","Incised901 NdIt BT","DejaVu Sans Light","Myriad CAD","Light","Binhdinh","Rachgia","HGHeiseiMinchotaiW9","ChandrabatiOMJ",".VnTifani HeavyH","System Font Heavy Italic","GFS Artemisia","WP MultinationalB Helve","TAB","8514oem","Hack Bold","Athelas Bold","ArhialkhanOMJ","Calibri Light","Hoian","Avenir Next W1G Ultra Light","Vikatan","STKaiti","Adobe Hebrew Regular","Microsoft PhagsPa","Bradley Hand ITC","Utopia","MMa CenturyS Bold","KacstLetter","Apple SD Gothic Neo Regular","Heiti SC Light","ABeeZee","Chinyen","GB18030 Bitmap","Lucida Calligraphy Italic","euex10","HelveticaNeueLT Std Lt Cn","Anonymice Powerline Italic","News Gothic MT Alt 2","Apple SD Gothic Neo","Bell Gothic Std Light","MATTEROFFACT","Z@R1720.tmp","Titillium Bold Upright","ENGL","Engravers MT","Gotham Ultra Italic","Didot Italic","HelveticaNeueLT Pro 33 ThEx","Hot Mustard BTN Poster","Farah","MMTextBook Bold Italic","VNI-Shadow","New Gulim","MMa CenturyKS Italic","GungSeo Regular","Droid Sans Mono for Powerline","iso 08","POLI","Nova Slim","Hue","GothicNo13 BT","Proxima Nova Black","ML-TTAnjali","Caflisch Script Pro","Lao MN","HP PSG","VNI-Heather","Gill Sans Nova","cht","Opus Chords","Raleway Bold Italic","Informal Roman","Junicode","IMG Love","cmti10","Verdana Bold","Britannic Bold","Saab","ADMUI2Lg","Superclarendon Black Italic","OCR A Std","Hot Mustard BTN","cmti12","Francois One","Tsukushi B Round Gothic","Literation Mono Powerline","MAC C Times","Noto Sans Inscriptional Pahlavi","Proxima Nova Extrabold","Georgia Pro Cond","Helvetica Light","Remachine Script Personal Use","Pump Demi Bold LET","DilleniaUPC","Gentium Book Basic","VNI-Algerian","Lato Medium Italic","MMArrow","Niagara Engraved","FML-TTMadhaviExBold","SWScrpc","STIXSizeFourSym-Regular","Nafees Web Naskh","JLS Data GothicC  NC","TAC-Kambar","Century Gothic","Microsoft Tai Le Bold","SWScrps","Proxima Nova Light Italic","Tamil MN Bold","ML-TTGauri","ML-TTGeethika","AdineKirnberg","Rotis Sans Serif Std 75 Extra Bold","AR BERKLEY","Farisi","Rachana","Kerala","Chaparral Pro","Bubblegum Sans","Sasfont","System Font Italic","WP IconicSymbolsA","WP IconicSymbolsB","Throw My Hands Up in the Air","Sneakerhead BTN","CentSchbook BT","Incised901 BdCn BT","PortagoITC TT","HaldaMJ","MapInfo Cartographic","Belwe Lt BT","Kundli","Kozuka Mincho Pr6N EL","Swis721 Cn BT","MMBinary Bold Italic","SchoolHouse Printed A","VNI-Brush","Tsukushi A Round Gothic Regular","Vollkorn Bold Italic","Kozuka Gothic Pr6N R","Vijaya","Bodoni Ornaments","Futura LT Condensed Light Oblique","Nexa Regular Italic","KarnaphuliMJ","Damascus Bold","Gotham Black","Kohinoor Bangla","Noto Sans Mono CJK JP","Constantia Italic","ML-TTAshtamudiExBold","Angsana New","Times Bold","Arial Narrow Bold","MMa CenturyKSS Italic","DhonooMJ","Noto Sans Ethiopic","HelveticaNeueLT Std Med Ext","MMCenturyNewRD Bold","Yuppy TC Regular","SF Distant Galaxy Alternate","PT Sans","PingFang HK Ultralight","Athelas Italic","Sonic XBd BT","saxMono","Bangla MN Bold","Tinos Bold for Powerline","ChondanaMJ","Yuanti TC Regular","HelveticaNeueLT Pro 93 BlkEx","FML-TTSugatha","Ducmy","Germ","Padauk","YD2002","Sitka Subheading","Myriad Pro SemiCond","FreesiaUPC","Myriad Pro SemiExtended Italic","WP MathB","Noto Sans Buhid","Noto Sans Mono CJK TC","Noto Sans Inscriptional Parthian","msbm6","Kefa Regular","msbm8","msbm9","Savoye LET","Weibei TC Bold","LKLUG","FML-TTIndulekha","MMTimes Italic","Noto Sans Imperial Aramaic","VNI-Script",".VnParkH","Noto Sans Old South Arabian","Matura MT Script Capitals","Kozuka Gothic Pr6N B","TitilliumText22L-Medium","Euclid Bold Italic","Calisto MT Bold","Dosis Bold","Futura LT Medium","FML-TTKanika","Kufi Outline Shaded","Beirut","EXCESS","New Peninim MT Bold Inclined","Optima","Source Sans Pro Italic",".VnAristote",".VnTimeH","MMa Fermat","Tangerine","KodchiangUPC","Noto Sans Batak","eurb8","ML-TTPoornima","Myriad Web Pro","Paralucent Thin Italic","Avenir Next Demi Bold","msam6","MMa Century Italic","Ezra SIL",".VnTime","Miama","Futura LT Condensed Bold","Literation Mono Powerline Bold","Myriad Pro Condensed","MMa Arrow","SimHei","FML-TTNandini","Kaiti SC","SF Compact Rounded Medium","KG Primary Penmanship","LilyUPC","Skia Bold","ML-TTMayoori","VNI-Tekon","Vonique 64","Myriad Pro Cond","Arial Hebrew Scholar Light","Engravers MT Bold","Perpetua Italic","Arial Greek","Noteworthy","ML-TTIndulekhaHeavy","ISOCTEUR","Visitor TT2 BRK","Marker Felt","cmr17","SWAstro","LETT","AlekyaExtraBold","FML-TTYashasri","cmr10","Gothic720 Lt BT","Microdot",".VnClarendon","Book Antiqua Bold","HeiT",".VnAvantH","PT Serif Caption Italic","Princetown LET","Eccentric Std","8Pin Matrix","GangaOMJ","Kohinoor Bangla Bold","ML-TTJyotsna","Hoefler Text Italic","Iskoola Pota","Bodoni 72 Bold","Wingdings","Noto Sans Shavian","Bahiana","Roboto Bold Italic","Viner Hand ITC","Bauhaus 93","VNI-Franko","cmbx7","cmbx6","cmbx5","SAPGUI-Icons","Charter Italic","cmbx9","cmbx8","Gelfling SF","Aileron Black","Bookshelf Symbol 1","HGPHeiseiKakugothictaiW9","FML-TTPooram","Raanana","OCRA","Sanskrit New","Khmer UI","Cochin","Ostrich Sans Rounded","TLArabic","Latin Modern Mono","AG","Opus Chords Sans","Source Code Pro Bold","Source Sans Pro Black Italic","BorakMJ","Futura Bold","Big Caslon","Latin Modern Roman Dunhill","CAMPBELL","Futura Medium Italic","FML-TTSuparna","Footlight MT Light","FML-TTKamini","SignPainter","Noto Sans Armenian","Adobe Caslon Pro Italic","Latin Modern Mono Slanted","Wawati SC Regular","Dayton","Roman","Newton Phonetic ABBYY","MMBinary Italic","IMG Travel","Helvetica Oblique","FELIZ","Amiri","VNI-Colonna","JumunaOMJ","DIN Alternate","Lohit Devanagari","Aileron Thin","Tamil MN","GhorautraOMJ","Bodoni MT Black","Wolf in the City","FML-TTPoornima","Trade Gothic LT Std Bold Extended","Complete in Him","ITF Devanagari","Goudy Stout","Diwan Thuluth Regular","01 Digit","TeX Gyre Cursor","Playfair Display SC Bold Italic","HelveticaNeueLT Std Med Cn","Avenir Next Condensed Heavy","FrankRuehl","Hiragino Sans GB","GFS BodoniClassic","LightSC","Camranh","TAM-Kavi","Phetsarath OT","Symbol","High Tower Text","Rondalo","Miriam","Jayanthi","MMTextBook Italic","Leelawadee UI Semilight","OpineHeavy","Century Schoolbook Italic","Chalkboard SE Regular","SWTOR Trajan","ML-TTSugatha","SF Distant Galaxy Outline","Theatre Antoine","Heavy Heap","ML1-TTIndulekha","SFNS Display","Nexa Light Italic","Linux Biolinum Keyboard O","Adobe Devanagari Bold","BaluScript","Avenir Next Condensed Regular","ARDS1","cmssqi8","Tempus Sans ITC","Avenir Next Medium","GungsuhChe","ChondanaOMJ","B095","Borealis","Seravek ExtraLight Italic","Avenir Next Heavy Italic","Tamil Sangam MN Bold","HelveticaNeue","Tsukushi A Round Gothic Bold","VNI-Helve-Condense","FML-TTAnakha","Hiragino Kaku Gothic StdN W8",".VnMonotype corsiva","MMa VariableF S","Nightclub BTN","Berling","MMa VariableB SS","Z@R11F8.tmp","Suruma","Telugu MN","Linux Libertine O","Italianate","Raleway Italic","Span","ML-TTKeerthi","MMa Pascal","VNI-Scribble","Indie Flower","Avenir Next Condensed Demi Bold Italic","ML-TTVisakham","Arno Pro Caption","Qaskin White Personal Use","MMTextBookB","Al Tarikh","Berkshire Swash","Hobo Std Medium","DINPro-Regular","Circular Std Black Italic","Muna Bold","TechnicBold","SWMono","Sukhumvit Set Bold","Palatino Linotype Bold Italic",".VnCentury SchoolbookH","Euclid Math Two Bold","Creepygirl","ISOCP3","Source Sans Pro Black","MMa Relation","Futura LT Condensed Medium","BongshaiOMJ","VNI Aptima","Californian FB","Leitura Display Swashes","Gotham Narrow Ultra Italic","Math2Mono","Swis721 BdOul BT","Clubland","English157 BT","modstmary10","eurm9","euex8","Diavlo Medium","Iowan Old Style Black Italic","MMa GreekS","Adobe Garamond Pro","Cordia New Bold","PRETEXT","DengXian","University Roman LET","Open Sans Semibold","Soho Gothic Pro Ultra","Futura Extra Bold Oblique","Roboto Condensed Light Italic","Tamil-Aiswarya","ML-TTNandini","Showcard Gothic","Avenir Next Ultra Light Italic","Trade Gothic LT Std Bold Condensed No. 20","DFKai-SB","FML-TTAshtamudi","Ostrich Sans Dashed","Copperplate","Myriad Pro Semibold SemiExtended","NewRocker","DIN-MediumAlternate","Arimo Bold","Arial Hebrew","TLPashto","Gauge","Gotham Bold Italic","MMVariable2 Bold","FFF Tusj",".VnHelvetInsH","Embassy BT","MMSchoolRD Italic","Bodoni MT Condensed","Myriad Pro Semibold","CityBlueprint",".VnGothic","Source Code Pro Black","Futura Light","Baamini","Palatino Italic","GulimChe","SF Distant Galaxy AltOutline","Gotham Light","AcmeFont","Trade Gothic LT Std Bold Condensed No. 20 Oblique","DIN-Medium","Terminator Real NFI","Letter Gothic Std Bold Slanted","Gill Sans Light Italic","YuMincho Medium","Myriad Pro Light Condensed Italic","Myriad Pro Black Condensed Italic","Osaka-Mono","Bodoni 72 Oldstyle","Josefin Slab","Gurmukhi MN","Gauge Heavy","Haxton Logos TT","Perpetua","BhairabMJ","Fences","Gurmukhi MT","Good Times","MMa Extra S","Benguiat","DINPro-Medium","MMa Variable2 SS","Oswald Stencil","Apple Braille","HelveticaNeueLT Std Blk Ext","Noteworthy Light","Scruff LET","DIN-BlackAlternate","Letter Gothic Std Medium","Adobe Pi Std","Kozuka Mincho Pr6N","Menlo Regular","Almonte Snow","Belfast Heavy SF","Kaiti SC Bold","AR CHRISTY","VNI-Lydi","Cantarell Bold Oblique","Gentium","Bevan","Quicksand Light Regular","JLS Space GothicC  NC","True Lies","STIXVariants","MMa TextBook Bold","Segoe UI Black","Noto Sans Malayalam","eurb10","Averia Serif","Candy Round BTN Cond","ML-TTBeckalBold","Bariol Regular","Avenir Medium Oblique","Kohinoor Bangla Semibold","Helvetica Neue Bold","Broadway","ML-TTAmbili","Imprint MT Shadow","Noto Sans Mono CJK KR","cmfi10","UnitedStates","ML-NILA07","Chandas","Coolsville","Script","Franklin Gothic Demi","HelveticaNeueLT Pro 63 MdEx","Yuanti SC Light","FML-TTLeelaHeavy","Prisoner SF","Times New Roman CYR","News Gothic MT Alt 6","Bodoni 72 Book Italic","Shree-Kan-0853","Letter Gothic Std Bold","Rekha","Akhbar MT","DecoType Naskh Regular","Segoe Print","Gunplay","Nadeem Regular","Accanthis ADF Std","Roboto Condensed Bold","Adobe Caslon Pro Bold Italic","Helvetica Neue Bold Italic","Tlwg Typist","SF Compact Rounded Thin","Swiss 721 Bold BT","Jwala","Capitals","GFS Theokritos","cmr8","cmr9","cmr6","cmr7","SWGrekc","Timeless","w01","Microsoft Himalaya","Digifit","Minion Pro Med","Simple Outline Pat","MMa Negate Bold","Linden Hill","Courier New (Arabic)","Sauce Code Powerline Black","Noto Sans Gothic","Adobe Kaiti Std","AV-Web-Tam1","Athelas Regular","FML-TTMangalaExBold","Rockwell Bold Italic","Visitor TT1 BRK","Brandish","Futura LT Condensed Extra Bold Oblique","Manorly","Gotham Narrow Light","MS Outlook","cmti8","DejaVu Serif","Allura","Kailasa","Source Sans Pro Light","Burst My Bubble","ISOCT","Hannotate SC","ISOCP","Greek Diner Inline TT","Paralucent Thin","BuiltTitlingRg-Regular","Calligraphic","SF Slapstick Comic Bold Oblique","Soho Gothic Pro Light Italic","Euclid Extra","Sauce Code Powerline Light","Courier New Greek","Noto Sans Georgian","PT Sans Italic","Cousine Bold Italic for Powerline","Modern No. 20","VNI-Goudy","Math3Mono","Georgia Italic","Luna Bar","VNI-Bragga","Sawasdee","TAMLKamban","Paralucent Bold Italic","PingFang TC","Valken","MMCenturyNewRD","Meera","Saint Andrew des Kiwis","Courier Bold Oblique","Diavlo Light","HGSMinchoL","Diwani Bent","MMa VariableD Bold","Courier New Italic","Aileron UltraLight","Chess Merida","cmsl8","Snell Roundhand Black","Candara Bold","Grafolita Script Medium","Diwani Letter","Paralucent Bold","Adobe Devanagari Italic","VNI-Linus","cmss12","eusm10","Avenir Next W1G Light Italic","Seravek ExtraLight","Magneto","Interstate-Black","SignPainter-HouseScript","Euclid Extra Bold","System Font Medium Italic P4","TtsNote","Quicksand Book Oblique Regular","TAMILFIX","Industrial736 BT","Adobe Arabic Bold","InaiMathi","Tera Special","Myriad Pro Light SemiExtended Italic","NanumGothic Bold","MMTextBookB Bold","JaJaDiOMJ","Nimbus Mono L","Futura Std Bold","Finale Numerics","Moon Flower Bold","Baskerville","Lucida Console","Swis721 Lt BT","Mael","Nexa Heavy Italic","Becky","ML-TTKaumudi","TAU-Kabilar","MMa CenturyS Bold Italic","Violetta","Bell MT Bold","Palatino Linotype Italic","FML-TTNila","FML-Karthika","Rotis Sans Serif Std 65 Bold","PenultimateLight","VNI-Revue","Liberation Mono","Trade Gothic LT Std Bold No. 2 Oblique","GFS Didot","Eras Medium ITC",".VnBlackH","MMa Binary SS","ML-TTSabari","Bangla Sangam MN Bold","Stencil","AppleMyungjo","TM-TTValluvar","Gill Sans Ultra Bold Condensed","type 07","Yu Gothic UI Semibold","KN-TTUma","Playfair Display","Txt","Gotham Narrow Light Italic","Menlo","Zirkon","AV-Font-Sin","Microsoft Sans Serif","Tall Boy West","Yu Gothic","AMGDT","Simplified Arabic Fixed","STSong","Arimo for Powerline","Bell MT","KufiStandardGK","Nexa Bold","TG Pagella Math","Adobe Arabic Regular","Futura Extra Bold","SamsungImagination","Mycalc","MMa CenturyKSS Bold Italic","Superclarendon Black","Catull","HYSWLongFangSong","cmsy10","FML-TTAyilyamBold","Rakesly Lt","Haettenschweiler","SF Compact Rounded Heavy","Beatnik SF","Trajan Pro","Sosa Regular","Adobe Song Std","Raleway Bold","Bauer Bodoni Std 1 Italic","DholeshwariOMJ","VNI-StencilU","Kefa","STXihei","Garamond Bold","Trajan Pro Bold","Reklame Script Medium","AGA Arabesque Desktop","Savoye LET Plain","BATAVIA","Fabrica","Gidole","Abril Fatface Regular","Baskerville SemiBold","Gill Sans SemiBold Italic","Hombre","Helvetica Neue","STIXIntegralsUpSm-Bold","Vogue","Noto Sans Kayah Li","Noto Sans Lydian","Avenir Next Bold","Myriad Pro Light SemiExt","VNI-Bodon","Estrangelo Edessa","Titillium Semibold Upright","Kingthings Versalis","Droid Sans Mono Slashed for Powerline","Patrick Hand SC",".VnLinusH","Galatia SIL","Myanmar MN Bold","Anonymice Powerline Bold Italic","STIXNonUnicode-BoldItalic","IMG Seasons","KaiTi","NEOLITH","MS Reference Sans Serif","GFS Baskerville","PingFang HK","Adobe Garamond Pro Italic","OCR B MT","Bariol Regular Italic","Minion Pro Bold","Nexa XBold","AppleGothic Regular",".VnMemorandumH","HelveticaNeue BlackCond","Small Fonts","Myriad Pro Italic","Symath","Times New Roman Baltic","Spicy Rice","FML-TTMayoori","Wingdings 3","Wingdings 2","Zapf Dingbats","Rockwell Bold","JomunaMJ","Forte","Mona Lisa Solid ITC TT","FML-TTDevika","Gill Sans Nova Cond XBd","Lucida Calligraphy","HelveticaNeueLT Std UltLt","Palatino","HanziPen TC","Courier New Cyr","Seville","SF Compact Rounded Black","Colonna MT","HelveticaNeueLT Std ExtBlk Cn","Arial Hebrew Light","Canterbury Regular","Ital","Tekton Pro Ext","Dosis ExtraLight","Mshtakan BoldOblique","New Athena Unicode","Ubuntu Condensed","SansSerif","Century Gothic Bold","Nueva Std Cond","Malgun Gothic","STIXGeneral-Italic","Arial Nova Cond Light","Tinos for Powerline","CSD16","PFDaVinciScriptPro-Regular","KalindiSMJ","MMTimes Bold Italic","ML-TTSankara","JazzTextExtended","Courier MM Screenwriter Bold","Minion Pro","Calibri Bold Italic","Merriweather Light","FreeSerif","Old English Text MT","System Font Bold Italic","Baron Neue Black Italic","Avenir Next W1G Demi","Finale Mallets","Circular Std Bold Italic","Wawati TC Regular","Tinos Italic for Powerline","Trade Gothic LT Std Condensed No. 18","Paralucent Medium Italic","Cumberland AMT","VNI Laos","Camau","Eras Light ITC","Segoe UI Symbol","Aleo","DIN 1451 Mittelschrift","VNI-Chaucer","Cuulong",".VnMystical","Nexa Heavy","Kohinoor Devanagari Regular","HolidayPi BT","Jokerman LET","Salina","Arial monospaced for SAP","MMa Century","Baskerville SemiBold Italic","MMa GreekS Italic","Lapidary333 Blk BT","Lucida Handwriting","Adobe Myungjo Std","Alfredo","Dot-Matrix","Thanhoa","cmr12","Adobe Fangsong Std","BatangChe","Academy Engraved LET Plain:1.0","Calligraph421 BT","DejaVu Serif Condensed","SWItal","Futura LT Book Oblique","Noto Sans Lycian","Noto Sans Phags Pa","SF Compact Text","MAXIMO","Avanti","Adobe Caslon Pro Bold","Space Bd BT","November","Lavanderia","Maiandra GD","at most sphere","Farisi Regular","Gill Sans Nova Cond Lt","Razer Text Regular","VNI-Auchon","Myriad Pro Black SemiExt","KacstOne","Cordia New","Gotham Thin Italic","Raleway Black","Hiragino Sans W9","Hiragino Sans W8","MoolBoran","Penultimate","Hiragino Sans W5","Hiragino Sans W4","Hiragino Sans W7","Hiragino Sans W6","Hiragino Sans W1","Hiragino Sans W0","Hiragino Sans W3","Hiragino Sans W2","Minion Pro Italic","Kozuka Mincho Pr6N M","Kozuka Mincho Pr6N L","Proxima Nova Condensed Semibold Italic","Kozuka Mincho Pr6N H","Hiragino Maru Gothic ProN W4","HelveticaNeueLT Std Extended","NanumBarunGothic","Kozuka Mincho Pr6N B","VNI Russia","Reklame Script Bold","ML-TTThakazhi","MMSchoolRD","Futura Std Light","Poplar Std","Kozuka Mincho Pr6N R","Franklin Gothic","Paralucent Light","ML-TTVaisali","cmb10","Waseem Light","VNI-Cooper","Script MT Bold","Ethnocentric","STIXSizeFourSym","Praveen","Calibri Bold","ML-TTYashasri","Swis721 LtCn BT","Freestyle Script","Snowdrift","Myriad Pro Semibold SemiExtended Italic","LiSong Pro","Myanmar Sangam MN Bold","MMCenturyOldGreek Bold","VNI-Broad","YuGothic","American Typewriter Semibold","Hannotate SC Bold","Opus Ornaments","Arimo Italic","RamuBrush","TechnicLite","Geneva","Nexa Book","FML-IndulekhaHeavy","Arimo Bold for Powerline","Marion Bold","Apple Braille Outline 6 Dot","FML-TTBhavana","Nanum Myeongjo","PT Sans Caption Bold","Gotham Medium Italic","Vani","Quicksand Italic","Z@R195D.tmp","Soho Gothic Pro Bold Italic","Hannotate TC","ITF Devanagari Book","Cracked Johnnie","Rockwell Nova Light","HGPMinchoL","STIXNonUnicode-Bold","VNI-Arial Rounded","Braggadocio","Swiss921 BT","Futura","Museo 300 Regular","Adobe Arabic Italic","Trade Gothic LT Std","Titillium Bold Italic","VNI-Juni","Myriad Pro Bold SemiCondensed Italic","SWGamekeys MT","Plantagenet Cherokee","Comfortaa","Baron Neue Black","Latin Modern Mono Prop Light","Crystal","RamuScript","SAPDings","RadhaBold","Superclarendon Bold Italic","Libel Suit","Sneakerhead BTN Outline",".VnLincoln","MMTextBook","Gujarati MT","KacstScreen","MMEtc Bold Italic","Dosis SemiBold"],cross_list={timezone:"Time Zone",cpu_cores:"Number of Cpu Cores",fonts:"Detected Fonts",audio:"Audio",ratio:"Screen Ratio",depth:"Screen Depth",langsdetected:"Detected Supported Languages (Buggy and not finished)"},cnted_list={timezone:"Time Zone",fonts:"Detected Fonts"},gpu_hashes=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],show_list={gpuimgs:"Hash Value of GPU Rendering Results (partially cross_browser)",WebGL:"WebGL",timezone:"Time Zone",adblock:"Ad Block",agent:"Agent",audio:"Audio",depth:"Screen Depth",ratio:"Screen Ratio",canvas_test:"Canvas Test",cookie:"Cookie Enabled",cpu_cores:"Number of Cpu Cores",encoding:"Encoding",fonts:"Detected Fonts",gpu:"GPU",language:"Language",langsdetected:"Detected Supported Languages (Buggy and not finished)",plugins:"Plugins"},gpu_imgs_name=["Cube Test","AA_Cube Test","Camera Test","Curve Test","AA_Curve Test","Texture Test","Two Models","Light Test","Light Test to Two Models","Two Lights to Two Models","AA_Two Lights to Two Models","Rotation Test","Two Lights, Textures, Models","Transparent Test 0","Transparent Test 1","Transparent Test 2","Transparent Test 3","Transparent Test 4","Transparent Test 5","Transparent Test 6","Transparent Test 7","AA_Complex Light Test","Complex Light Test","Clipping Test","Bubble Test","Compressed Texture Test","Shadow Test",""],language_names=["Latin","Chinese","Arabic","Devanagari","Cyrillic","Bengali/Assamese","Kana","Gurmukhi","Javanese","Hangul","Telugu","Tamil","Malayalam","Burmese","Thai","Sundanese","Kannada","Gujarati","Lao","Odia","Ge-ez","Sinhala","Armenian","Khmer","Greek","Lontara","Hebrew","Tibetan","Georgian","Modern Yi","Mongolian","Tifinagh","Syriac","Thaana","Inuktitut","Cherokee"],language_codes=[[76,97,116,105,110],[27721,23383],[1575,1604,1593,1585,1576,1610,1577],[2342,2375,2357,2344,2366,2327,2352,2368],[1050,1080,1088,1080,1083,1080,1094,1072],[2476,2494,2434,2482,2494,32,47,32,2437,2488,2478,2496,2479,2492,2494],[20206,21517],[2583,2625,2608,2606,2625,2582,2624],[43415,43438],[54620,44544],[3108,3142,3122,3137,3095,3137],[2980,2990,3007,2996,3021],[3374,3378,3375,3390,3379,3330],[4121,4156,4116,4154,4121,4140],[3652,3607,3618],[7070,7077,7060,7082,7059],[3221,3240,3277,3240,3233],[2711,2753,2716,2736,2750,2724,2752],[3749,3762,3751],[2825,2852,2893,2837,2867],[4877,4821,4829],[3523,3538,3458,3524,3517],[1344,1377,1397,1400,1409],[6017,6098,6040,6082,6042],[917,955,955,951,957,953,954,972],[6674,6682,6664,6673],[1488,1500,1508,1489,1497,1514],[3926,3964,3921,3851],[4325,4304,4320,4311,4323,4314,4312],[41352,41760],[6190,6179,6185,6189,6179,6191],[11612,11593,11580,11593,11599,11568,11606],[1808,1834,1825,1821,1808],[1931,1960,1928,1964,1920,1960],[5123,5316,5251,5198,5200,5222],[5091,5043,5033]];function getFontsString(e){var t="",i=0;for(var r in e)v=e[r],"1"==v&&(i<10&&(t+='"'+font_list[i]+'" '),i++);return t+"("+i+" fonts detected)"}function gen_code(){for(var e in res="",show_list)label="box_"+e,document.getElementById(label).checked&&(res+=trans_data[e]);for(gpu_hash in gpu_hash=0,gpu_hashes)label="box_"+gpu_hash,document.getElementById(label).checked&&(res+=trans_data.gpu_hashes[gpu_hash]);$("#cur_fingerprint").html("Current Fingerprint: "+md5(res))}function getGPUTable(e){res="<table border='0' id='gputable' class='gpu_table'><tr>";var t=0,i="checked";for(hash in e)hash>=1&&(i=""),res+="<td><label width = '30px'><input id='box_"+hash+"' type='checkbox' "+i+" onclick='gen_code();'/> "+gpu_imgs_name[hash]+"("+e[hash]+")</label></td>",t++%3==2&&(res+="</tr><tr>");return res+="</tr></table>",res}function getGPUString(){var e={};for(hash in value=trans_data.gpuimgs.split(","))cur=value[hash].split("_"),e[cur[0]]=cur[1];return trans_data.gpu_hashes=e,value=getGPUTable(e)}function getLangsString(e){for(var t in res="<table border='0' class='gpu_table'><tr>",e){for(var i in res+="<td>"+e[t]+" (",index=language_names.indexOf(e[t]),language_codes[index])res+="&#"+language_codes[index][i];res+=")</td>",t%4==3&&(res+="</tr><tr>")}return res+="</tr></table>",res}function getTable(e){return"fonts"==e?getFontsString(trans_data[e]):"gpuimgs"==e?getGPUString(trans_data[e]):"langsdetected"==e?getLangsString(trans_data[e].split("_")):trans_data[e]}function buildTable(e){trans_data=e;var t=e.resolution.split("_");trans_data.ratio=Math.round(t[0]/t[1]*100)/100,e.ratio=trans_data.ratio,e.depth=t[5],-1!=e.cpu_cores&&"-1"!=e.cpu_cores||(e.cpu_cores="N/A");var i=parseInt(e.timezone);for(var r in e.timezone="UTC-"+(i/60).toString(),$("#result_table").append('<tr><td class = "checkbox"></td><td>Feature</td><td class = "value">Value</td></tr>'),cross_list)r in e&&(value=getTable(r),$("#result_table").append('<tr><td class = "checkbox"> <input id="box_'+r+'"type="checkbox" onclick="gen_code();" checked></td><td class = "feature">'+cross_list[r]+'</td><td class = "value">'+value+"</td></tr>"));for(var a in show_list)a in cross_list||a in e&&(value=getTable(a),$("#result_table").append('<tr><td class = "checkbox"><input id="box_'+a+'" type="checkbox" onclick="gen_code();"></td><td class = "feature">'+show_list[a]+'</td><td class = "value">'+value+"</td></tr>"));document.getElementById("box_gpuimgs").disabled="disabled;"}function getDetails(){ip_address="sec.uniquemachine.org/uniquemachine";var e=window.location.href.split("?")[1];$("#cur_fingerprint").html("Current Fingerprint: "+e),$.ajax({url:"http://"+ip_address+"/details",dataType:"json",contentType:"application/json",type:"POST",data:JSON.stringify({ID:e}),success:function(e){buildTable(e)},error:function(e,t,i){}})}trans_data={},function(e,t,i){"use strict";"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define("detect-zoom",(function(){return i()})):e.detectZoom=i()}(window,0,(function(){var e,t=function(){return window.devicePixelRatio||1},i=function(){var e=r("min--moz-device-pixel-ratio","",0,10,20,1e-4);return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e}},r=function(e,t,i,r,a,n){var o,s,l,c;window.matchMedia?o=window.matchMedia:(s=document.getElementsByTagName("head")[0],l=document.createElement("style"),s.appendChild(l),(c=document.createElement("div")).className="mediaQueryBinarySearch",c.style.display="none",document.body.appendChild(c),o=function(e){l.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(c,null).textDecoration;return l.sheet.deleteRule(0),{matches:t}});var h=function i(r,a,s){var l=(r+a)/2;return 0>=s||n>a-r?l:o("("+e+":"+l+t+")").matches?i(l,a,s-1):i(r,l,s-1)}(i,r,a);return c&&(s.removeChild(l),document.body.removeChild(c)),h},a=(e=function(){return{zoom:1,devicePxPerCssPx:1}},isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=function(){var e=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}}:"orientation"in window&&"string"==typeof document.body.style.webkitMarquee?e=function(){var e=(90==Math.abs(window.orientation)?screen.height:screen.width)/window.innerWidth;return{zoom:e,devicePxPerCssPx:e*t()}}:"string"==typeof document.body.style.webkitMarquee?e=function(){var e=function(e){return e.replace(/;/g," !important;")},i=document.createElement("div");i.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",i.setAttribute("style",e("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var r=document.createElement("div");r.setAttribute("style",e("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),r.appendChild(i),document.body.appendChild(r);var a=1e3/i.clientHeight;return a=Math.round(100*a)/100,document.body.removeChild(r),{zoom:a,devicePxPerCssPx:a*t()}}:navigator.userAgent.indexOf("Opera")>=0?e=function(){var e=window.top.outerWidth/window.top.innerWidth;return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e*t()}}:window.devicePixelRatio?e=function(){return{zoom:i().zoom,devicePxPerCssPx:t()}}:i().zoom>.001&&(e=i):e=function(){var e=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}},e);return{zoom:function(){return a().zoom},device:function(){return a().devicePxPerCssPx}}}));var fontDetector=function(){var e=["monospace","sans-serif","serif"],t=document.getElementsByTagName("body")[0],i=document.createElement("span");i.style.fontSize="72px",i.innerHTML="mmmmmmmmmmlli";var r={},a={};for(var n in e)i.style.fontFamily=e[n],t.appendChild(i),r[e[n]]=i.offsetWidth,a[e[n]]=i.offsetHeight,t.removeChild(i);this.detect=function(n){var o=!1;for(var s in e){i.style.fontFamily=n+","+e[s],t.appendChild(i);var l=i.offsetWidth!=r[e[s]]||i.offsetHeight!=a[e[s]];t.removeChild(i),o=o||l}return o}};!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(this,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){t.glMatrix=i(1),t.mat2=i(2),t.mat2d=i(3),t.mat3=i(4),t.mat4=i(5),t.quat=i(6),t.vec2=i(9),t.vec3=i(7),t.vec4=i(8)},function(e,t){var i={EPSILON:1e-6};i.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,i.RANDOM=Math.random,i.ENABLE_SIMD=!1,i.SIMD_AVAILABLE=i.ARRAY_TYPE===Float32Array&&"SIMD"in this,i.USE_SIMD=i.ENABLE_SIMD&&i.SIMD_AVAILABLE,i.setMatrixArrayType=function(e){i.ARRAY_TYPE=e};var r=Math.PI/180;i.toRadian=function(e){return e*r},e.exports=i},function(e,t,i){var r=i(1),a={create:function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var i=t[1];e[1]=t[2],e[2]=i}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=i*n-a*r;return o?(o=1/o,e[0]=n*o,e[1]=-r*o,e[2]=-a*o,e[3]=i*o,e):null},adjoint:function(e,t){var i=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=i,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*s+n*l,e[1]=a*s+o*l,e[2]=r*c+n*h,e[3]=a*c+o*h,e}};a.mul=a.multiply,a.rotate=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=r*l+n*s,e[1]=a*l+o*s,e[2]=r*-s+n*l,e[3]=a*-s+o*l,e},a.scale=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=i[0],l=i[1];return e[0]=r*s,e[1]=a*s,e[2]=n*l,e[3]=o*l,e},a.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},a.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},a.LDU=function(e,t,i,r){return e[2]=r[2]/r[0],i[0]=r[0],i[1]=r[1],i[3]=r[3]-e[2]*i[1],[e,t,i]},e.exports=a},function(e,t,i){var r=i(1),a={create:function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=i*n-r*a;return l?(l=1/l,e[0]=n*l,e[1]=-r*l,e[2]=-a*l,e[3]=i*l,e[4]=(a*s-n*o)*l,e[5]=(r*o-i*s)*l,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=i[0],h=i[1],u=i[2],d=i[3],p=i[4],m=i[5];return e[0]=r*c+n*h,e[1]=a*c+o*h,e[2]=r*u+n*d,e[3]=a*u+o*d,e[4]=r*p+n*m+s,e[5]=a*p+o*m+l,e}};a.mul=a.multiply,a.rotate=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=Math.sin(i),h=Math.cos(i);return e[0]=r*h+n*c,e[1]=a*h+o*c,e[2]=r*-c+n*h,e[3]=a*-c+o*h,e[4]=s,e[5]=l,e},a.scale=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=i[0],h=i[1];return e[0]=r*c,e[1]=a*c,e[2]=n*h,e[3]=o*h,e[4]=s,e[5]=l,e},a.translate=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=i[0],h=i[1];return e[0]=r,e[1]=a,e[2]=n,e[3]=o,e[4]=r*c+n*h+s,e[5]=a*c+o*h+l,e},a.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},a.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},e.exports=a},function(e,t,i){var r=i(1),a={create:function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var i=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=h*o-s*c,d=-h*n+s*l,p=c*n-o*l,m=i*u+r*d+a*p;return m?(m=1/m,e[0]=u*m,e[1]=(-h*r+a*c)*m,e[2]=(s*r-a*o)*m,e[3]=d*m,e[4]=(h*i-a*l)*m,e[5]=(-s*i+a*n)*m,e[6]=p*m,e[7]=(-c*i+r*l)*m,e[8]=(o*i-r*n)*m,e):null},adjoint:function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=t[6],c=t[7],h=t[8];return e[0]=o*h-s*c,e[1]=a*c-r*h,e[2]=r*s-a*o,e[3]=s*l-n*h,e[4]=i*h-a*l,e[5]=a*n-i*s,e[6]=n*c-o*l,e[7]=r*l-i*c,e[8]=i*o-r*n,e},determinant:function(e){var t=e[0],i=e[1],r=e[2],a=e[3],n=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*(c*n-o*l)+i*(-c*a+o*s)+r*(l*a-n*s)},multiply:function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1],m=i[2],f=i[3],E=i[4],g=i[5],T=i[6],v=i[7],M=i[8];return e[0]=d*r+p*o+m*c,e[1]=d*a+p*s+m*h,e[2]=d*n+p*l+m*u,e[3]=f*r+E*o+g*c,e[4]=f*a+E*s+g*h,e[5]=f*n+E*l+g*u,e[6]=T*r+v*o+M*c,e[7]=T*a+v*s+M*h,e[8]=T*n+v*l+M*u,e}};a.mul=a.multiply,a.translate=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1];return e[0]=r,e[1]=a,e[2]=n,e[3]=o,e[4]=s,e[5]=l,e[6]=d*r+p*o+c,e[7]=d*a+p*s+h,e[8]=d*n+p*l+u,e},a.rotate=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=Math.sin(i),p=Math.cos(i);return e[0]=p*r+d*o,e[1]=p*a+d*s,e[2]=p*n+d*l,e[3]=p*o-d*r,e[4]=p*s-d*a,e[5]=p*l-d*n,e[6]=c,e[7]=h,e[8]=u,e},a.scale=function(e,t,i){var r=i[0],a=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},a.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},a.fromQuat=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=i+i,s=r+r,l=a+a,c=i*o,h=r*o,u=r*s,d=a*o,p=a*s,m=a*l,f=n*o,E=n*s,g=n*l;return e[0]=1-u-m,e[3]=h-g,e[6]=d+E,e[1]=h+g,e[4]=1-c-m,e[7]=p-f,e[2]=d-E,e[5]=p+f,e[8]=1-c-u,e},a.normalFromMat4=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],m=t[12],f=t[13],E=t[14],g=t[15],T=i*s-r*o,v=i*l-a*o,M=i*c-n*o,S=r*l-a*s,y=r*c-n*s,R=a*c-n*l,x=h*f-u*m,b=h*E-d*m,H=h*g-p*m,B=u*E-d*f,L=u*g-p*f,A=d*g-p*E,w=T*A-v*L+M*B+S*H-y*b+R*x;return w?(w=1/w,e[0]=(s*A-l*L+c*B)*w,e[1]=(l*H-o*A-c*b)*w,e[2]=(o*L-s*H+c*x)*w,e[3]=(a*L-r*A-n*B)*w,e[4]=(i*A-a*H+n*b)*w,e[5]=(r*H-i*L-n*x)*w,e[6]=(f*R-E*y+g*S)*w,e[7]=(E*M-m*R-g*v)*w,e[8]=(m*y-f*M+g*T)*w,e):null},a.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},e.exports=a},function(e,t,i){var r=i(1),a={scalar:{},SIMD:{},create:function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}};a.scalar.transpose=function(e,t){if(e===t){var i=t[1],r=t[2],a=t[3],n=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=n,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},a.SIMD.transpose=function(e,t){var i,r,a,n,o,s,l,c,h,u;return i=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),a=SIMD.Float32x4.load(t,8),n=SIMD.Float32x4.load(t,12),o=SIMD.Float32x4.shuffle(i,r,0,1,4,5),s=SIMD.Float32x4.shuffle(a,n,0,1,4,5),l=SIMD.Float32x4.shuffle(o,s,0,2,4,6),c=SIMD.Float32x4.shuffle(o,s,1,3,5,7),SIMD.Float32x4.store(e,0,l),SIMD.Float32x4.store(e,4,c),o=SIMD.Float32x4.shuffle(i,r,2,3,6,7),s=SIMD.Float32x4.shuffle(a,n,2,3,6,7),h=SIMD.Float32x4.shuffle(o,s,0,2,4,6),u=SIMD.Float32x4.shuffle(o,s,1,3,5,7),SIMD.Float32x4.store(e,8,h),SIMD.Float32x4.store(e,12,u),e},a.transpose=r.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],m=t[12],f=t[13],E=t[14],g=t[15],T=i*s-r*o,v=i*l-a*o,M=i*c-n*o,S=r*l-a*s,y=r*c-n*s,R=a*c-n*l,x=h*f-u*m,b=h*E-d*m,H=h*g-p*m,B=u*E-d*f,L=u*g-p*f,A=d*g-p*E,w=T*A-v*L+M*B+S*H-y*b+R*x;return w?(w=1/w,e[0]=(s*A-l*L+c*B)*w,e[1]=(a*L-r*A-n*B)*w,e[2]=(f*R-E*y+g*S)*w,e[3]=(d*y-u*R-p*S)*w,e[4]=(l*H-o*A-c*b)*w,e[5]=(i*A-a*H+n*b)*w,e[6]=(E*M-m*R-g*v)*w,e[7]=(h*R-d*M+p*v)*w,e[8]=(o*L-s*H+c*x)*w,e[9]=(r*H-i*L-n*x)*w,e[10]=(m*y-f*M+g*T)*w,e[11]=(u*M-h*y-p*T)*w,e[12]=(s*b-o*B-l*x)*w,e[13]=(i*B-r*b+a*x)*w,e[14]=(f*v-m*S-E*T)*w,e[15]=(h*S-u*v+d*T)*w,e):null},a.SIMD.invert=function(e,t){var i,r,a,n,o,s,l,c,h,u,d=SIMD.Float32x4.load(t,0),p=SIMD.Float32x4.load(t,4),m=SIMD.Float32x4.load(t,8),f=SIMD.Float32x4.load(t,12);return o=SIMD.Float32x4.shuffle(d,p,0,1,4,5),r=SIMD.Float32x4.shuffle(m,f,0,1,4,5),i=SIMD.Float32x4.shuffle(o,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,o,1,3,5,7),o=SIMD.Float32x4.shuffle(d,p,2,3,6,7),n=SIMD.Float32x4.shuffle(m,f,2,3,6,7),a=SIMD.Float32x4.shuffle(o,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,o,1,3,5,7),o=SIMD.Float32x4.mul(a,n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.mul(r,o),l=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,o),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),o=SIMD.Float32x4.mul(r,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),s),h=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,o)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),o=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),s),c=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,o)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),o=SIMD.Float32x4.mul(i,r),o=SIMD.Float32x4.swizzle(o,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),c),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),h),o=SIMD.Float32x4.swizzle(o,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),c),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(a,o)),o=SIMD.Float32x4.mul(i,n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(a,o)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),c),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.mul(i,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),l),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,o)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),h),u=SIMD.Float32x4.mul(i,s),u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,2,3,0,1),u),u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,1,0,3,2),u),o=SIMD.Float32x4.reciprocalApproximation(u),u=SIMD.Float32x4.sub(SIMD.Float32x4.add(o,o),SIMD.Float32x4.mul(u,SIMD.Float32x4.mul(o,o))),(u=SIMD.Float32x4.swizzle(u,0,0,0,0))?(SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(u,s)),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(u,l)),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(u,c)),SIMD.Float32x4.store(e,12,SIMD.Float32x4.mul(u,h)),e):null},a.invert=r.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],m=t[12],f=t[13],E=t[14],g=t[15];return e[0]=s*(d*g-p*E)-u*(l*g-c*E)+f*(l*p-c*d),e[1]=-(r*(d*g-p*E)-u*(a*g-n*E)+f*(a*p-n*d)),e[2]=r*(l*g-c*E)-s*(a*g-n*E)+f*(a*c-n*l),e[3]=-(r*(l*p-c*d)-s*(a*p-n*d)+u*(a*c-n*l)),e[4]=-(o*(d*g-p*E)-h*(l*g-c*E)+m*(l*p-c*d)),e[5]=i*(d*g-p*E)-h*(a*g-n*E)+m*(a*p-n*d),e[6]=-(i*(l*g-c*E)-o*(a*g-n*E)+m*(a*c-n*l)),e[7]=i*(l*p-c*d)-o*(a*p-n*d)+h*(a*c-n*l),e[8]=o*(u*g-p*f)-h*(s*g-c*f)+m*(s*p-c*u),e[9]=-(i*(u*g-p*f)-h*(r*g-n*f)+m*(r*p-n*u)),e[10]=i*(s*g-c*f)-o*(r*g-n*f)+m*(r*c-n*s),e[11]=-(i*(s*p-c*u)-o*(r*p-n*u)+h*(r*c-n*s)),e[12]=-(o*(u*E-d*f)-h*(s*E-l*f)+m*(s*d-l*u)),e[13]=i*(u*E-d*f)-h*(r*E-a*f)+m*(r*d-a*u),e[14]=-(i*(s*E-l*f)-o*(r*E-a*f)+m*(r*l-a*s)),e[15]=i*(s*d-l*u)-o*(r*d-a*u)+h*(r*l-a*s),e},a.SIMD.adjoint=function(e,t){var i,r,a,n,o,s,l,c,h,u=SIMD.Float32x4.load(t,0),d=SIMD.Float32x4.load(t,4),p=SIMD.Float32x4.load(t,8),m=SIMD.Float32x4.load(t,12);return o=SIMD.Float32x4.shuffle(u,d,0,1,4,5),r=SIMD.Float32x4.shuffle(p,m,0,1,4,5),i=SIMD.Float32x4.shuffle(o,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,o,1,3,5,7),o=SIMD.Float32x4.shuffle(u,d,2,3,6,7),n=SIMD.Float32x4.shuffle(p,m,2,3,6,7),a=SIMD.Float32x4.shuffle(o,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,o,1,3,5,7),o=SIMD.Float32x4.mul(a,n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.mul(r,o),l=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,o),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),o=SIMD.Float32x4.mul(r,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),s),h=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,o)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),o=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),s),c=SIMD.Float32x4.mul(i,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,o)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),o=SIMD.Float32x4.mul(i,r),o=SIMD.Float32x4.swizzle(o,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),c),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),h),o=SIMD.Float32x4.swizzle(o,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),c),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(a,o)),o=SIMD.Float32x4.mul(i,n),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(a,o)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),c),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.mul(i,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,o),l),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,o)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),h),SIMD.Float32x4.store(e,0,s),SIMD.Float32x4.store(e,4,l),SIMD.Float32x4.store(e,8,c),SIMD.Float32x4.store(e,12,h),e},a.adjoint=r.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(e){var t=e[0],i=e[1],r=e[2],a=e[3],n=e[4],o=e[5],s=e[6],l=e[7],c=e[8],h=e[9],u=e[10],d=e[11],p=e[12],m=e[13],f=e[14],E=e[15];return(t*o-i*n)*(u*E-d*f)-(t*s-r*n)*(h*E-d*m)+(t*l-a*n)*(h*f-u*m)+(i*s-r*o)*(c*E-d*p)-(i*l-a*o)*(c*f-u*p)+(r*l-a*s)*(c*m-h*p)},a.SIMD.multiply=function(e,t,i){var r=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4),n=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4.load(i,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),n),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),o))));SIMD.Float32x4.store(e,0,l);var c=SIMD.Float32x4.load(i,4),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),n),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),o))));SIMD.Float32x4.store(e,4,h);var u=SIMD.Float32x4.load(i,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),n),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),o))));SIMD.Float32x4.store(e,8,d);var p=SIMD.Float32x4.load(i,12),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),n),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),o))));return SIMD.Float32x4.store(e,12,m),e},a.scalar.multiply=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],m=t[11],f=t[12],E=t[13],g=t[14],T=t[15],v=i[0],M=i[1],S=i[2],y=i[3];return e[0]=v*r+M*s+S*u+y*f,e[1]=v*a+M*l+S*d+y*E,e[2]=v*n+M*c+S*p+y*g,e[3]=v*o+M*h+S*m+y*T,v=i[4],M=i[5],S=i[6],y=i[7],e[4]=v*r+M*s+S*u+y*f,e[5]=v*a+M*l+S*d+y*E,e[6]=v*n+M*c+S*p+y*g,e[7]=v*o+M*h+S*m+y*T,v=i[8],M=i[9],S=i[10],y=i[11],e[8]=v*r+M*s+S*u+y*f,e[9]=v*a+M*l+S*d+y*E,e[10]=v*n+M*c+S*p+y*g,e[11]=v*o+M*h+S*m+y*T,v=i[12],M=i[13],S=i[14],y=i[15],e[12]=v*r+M*s+S*u+y*f,e[13]=v*a+M*l+S*d+y*E,e[14]=v*n+M*c+S*p+y*g,e[15]=v*o+M*h+S*m+y*T,e},a.multiply=r.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(e,t,i){var r,a,n,o,s,l,c,h,u,d,p,m,f=i[0],E=i[1],g=i[2];return t===e?(e[12]=t[0]*f+t[4]*E+t[8]*g+t[12],e[13]=t[1]*f+t[5]*E+t[9]*g+t[13],e[14]=t[2]*f+t[6]*E+t[10]*g+t[14],e[15]=t[3]*f+t[7]*E+t[11]*g+t[15]):(r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],m=t[11],e[0]=r,e[1]=a,e[2]=n,e[3]=o,e[4]=s,e[5]=l,e[6]=c,e[7]=h,e[8]=u,e[9]=d,e[10]=p,e[11]=m,e[12]=r*f+s*E+u*g+t[12],e[13]=a*f+l*E+d*g+t[13],e[14]=n*f+c*E+p*g+t[14],e[15]=o*f+h*E+m*g+t[15]),e},a.SIMD.translate=function(e,t,i){var r=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4),n=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4(i[0],i[1],i[2],0);t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,1,1,1,1)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(a,SIMD.Float32x4.add(n,o)));return SIMD.Float32x4.store(e,12,l),e},a.translate=r.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(e,t,i){var r=i[0],a=i[1],n=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.SIMD.scale=function(e,t,i){var r,a,n,o=SIMD.Float32x4(i[0],i[1],i[2],0);return r=SIMD.Float32x4.load(t,0),SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(o,0,0,0,0))),a=SIMD.Float32x4.load(t,4),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(o,1,1,1,1))),n=SIMD.Float32x4.load(t,8),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(o,2,2,2,2))),e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.scale=r.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(e,t,i,a){var n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B,L,A=a[0],w=a[1],_=a[2],C=Math.sqrt(A*A+w*w+_*_);return Math.abs(C)<r.EPSILON?null:(A*=C=1/C,w*=C,_*=C,n=Math.sin(i),s=1-(o=Math.cos(i)),l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],p=t[5],m=t[6],f=t[7],E=t[8],g=t[9],T=t[10],v=t[11],M=A*A*s+o,S=w*A*s+_*n,y=_*A*s-w*n,R=A*w*s-_*n,x=w*w*s+o,b=_*w*s+A*n,H=A*_*s+w*n,B=w*_*s-A*n,L=_*_*s+o,e[0]=l*M+d*S+E*y,e[1]=c*M+p*S+g*y,e[2]=h*M+m*S+T*y,e[3]=u*M+f*S+v*y,e[4]=l*R+d*x+E*b,e[5]=c*R+p*x+g*b,e[6]=h*R+m*x+T*b,e[7]=u*R+f*x+v*b,e[8]=l*H+d*B+E*L,e[9]=c*H+p*B+g*L,e[10]=h*H+m*B+T*L,e[11]=u*H+f*B+v*L,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},a.scalar.rotateX=function(e,t,i){var r=Math.sin(i),a=Math.cos(i),n=t[4],o=t[5],s=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*a+c*r,e[5]=o*a+h*r,e[6]=s*a+u*r,e[7]=l*a+d*r,e[8]=c*a-n*r,e[9]=h*a-o*r,e[10]=u*a-s*r,e[11]=d*a-l*r,e},a.SIMD.rotateX=function(e,t,i){var r=SIMD.Float32x4.splat(Math.sin(i)),a=SIMD.Float32x4.splat(Math.cos(i));t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var n=SIMD.Float32x4.load(t,4),o=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(n,r))),e},a.rotateX=r.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(e,t,i){var r=Math.sin(i),a=Math.cos(i),n=t[0],o=t[1],s=t[2],l=t[3],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*a-c*r,e[1]=o*a-h*r,e[2]=s*a-u*r,e[3]=l*a-d*r,e[8]=n*r+c*a,e[9]=o*r+h*a,e[10]=s*r+u*a,e[11]=l*r+d*a,e},a.SIMD.rotateY=function(e,t,i){var r=SIMD.Float32x4.splat(Math.sin(i)),a=SIMD.Float32x4.splat(Math.cos(i));t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var n=SIMD.Float32x4.load(t,0),o=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,r),SIMD.Float32x4.mul(o,a))),e},a.rotateY=r.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(e,t,i){var r=Math.sin(i),a=Math.cos(i),n=t[0],o=t[1],s=t[2],l=t[3],c=t[4],h=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*a+c*r,e[1]=o*a+h*r,e[2]=s*a+u*r,e[3]=l*a+d*r,e[4]=c*a-n*r,e[5]=h*a-o*r,e[6]=u*a-s*r,e[7]=d*a-l*r,e},a.SIMD.rotateZ=function(e,t,i){var r=SIMD.Float32x4.splat(Math.sin(i)),a=SIMD.Float32x4.splat(Math.cos(i));t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var n=SIMD.Float32x4.load(t,0),o=SIMD.Float32x4.load(t,4);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(e,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(n,r))),e},a.rotateZ=r.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromRotation=function(e,t,i){var a,n,o,s=i[0],l=i[1],c=i[2],h=Math.sqrt(s*s+l*l+c*c);return Math.abs(h)<r.EPSILON?null:(s*=h=1/h,l*=h,c*=h,a=Math.sin(t),o=1-(n=Math.cos(t)),e[0]=s*s*o+n,e[1]=l*s*o+c*a,e[2]=c*s*o-l*a,e[3]=0,e[4]=s*l*o-c*a,e[5]=l*l*o+n,e[6]=c*l*o+s*a,e[7]=0,e[8]=s*c*o+l*a,e[9]=l*c*o-s*a,e[10]=c*c*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},a.fromXRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromYRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromZRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromRotationTranslation=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=r+r,l=a+a,c=n+n,h=r*s,u=r*l,d=r*c,p=a*l,m=a*c,f=n*c,E=o*s,g=o*l,T=o*c;return e[0]=1-(p+f),e[1]=u+T,e[2]=d-g,e[3]=0,e[4]=u-T,e[5]=1-(h+f),e[6]=m+E,e[7]=0,e[8]=d+g,e[9]=m-E,e[10]=1-(h+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},a.fromRotationTranslationScale=function(e,t,i,r){var a=t[0],n=t[1],o=t[2],s=t[3],l=a+a,c=n+n,h=o+o,u=a*l,d=a*c,p=a*h,m=n*c,f=n*h,E=o*h,g=s*l,T=s*c,v=s*h,M=r[0],S=r[1],y=r[2];return e[0]=(1-(m+E))*M,e[1]=(d+v)*M,e[2]=(p-T)*M,e[3]=0,e[4]=(d-v)*S,e[5]=(1-(u+E))*S,e[6]=(f+g)*S,e[7]=0,e[8]=(p+T)*y,e[9]=(f-g)*y,e[10]=(1-(u+m))*y,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},a.fromRotationTranslationScaleOrigin=function(e,t,i,r,a){var n=t[0],o=t[1],s=t[2],l=t[3],c=n+n,h=o+o,u=s+s,d=n*c,p=n*h,m=n*u,f=o*h,E=o*u,g=s*u,T=l*c,v=l*h,M=l*u,S=r[0],y=r[1],R=r[2],x=a[0],b=a[1],H=a[2];return e[0]=(1-(f+g))*S,e[1]=(p+M)*S,e[2]=(m-v)*S,e[3]=0,e[4]=(p-M)*y,e[5]=(1-(d+g))*y,e[6]=(E+T)*y,e[7]=0,e[8]=(m+v)*R,e[9]=(E-T)*R,e[10]=(1-(d+f))*R,e[11]=0,e[12]=i[0]+x-(e[0]*x+e[4]*b+e[8]*H),e[13]=i[1]+b-(e[1]*x+e[5]*b+e[9]*H),e[14]=i[2]+H-(e[2]*x+e[6]*b+e[10]*H),e[15]=1,e},a.fromQuat=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=i+i,s=r+r,l=a+a,c=i*o,h=r*o,u=r*s,d=a*o,p=a*s,m=a*l,f=n*o,E=n*s,g=n*l;return e[0]=1-u-m,e[1]=h+g,e[2]=d-E,e[3]=0,e[4]=h-g,e[5]=1-c-m,e[6]=p+f,e[7]=0,e[8]=d+E,e[9]=p-f,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.frustum=function(e,t,i,r,a,n,o){var s=1/(i-t),l=1/(a-r),c=1/(n-o);return e[0]=2*n*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*l,e[6]=0,e[7]=0,e[8]=(i+t)*s,e[9]=(a+r)*l,e[10]=(o+n)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*n*2*c,e[15]=0,e},a.perspective=function(e,t,i,r,a){var n=1/Math.tan(t/2),o=1/(r-a);return e[0]=n/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*r*o,e[15]=0,e},a.perspectiveFromFieldOfView=function(e,t,i,r){var a=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(a+n);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(a-n)*c*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},a.ortho=function(e,t,i,r,a,n,o){var s=1/(t-i),l=1/(r-a),c=1/(n-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*s,e[13]=(a+r)*l,e[14]=(o+n)*c,e[15]=1,e},a.lookAt=function(e,t,i,n){var o,s,l,c,h,u,d,p,m,f,E=t[0],g=t[1],T=t[2],v=n[0],M=n[1],S=n[2],y=i[0],R=i[1],x=i[2];return Math.abs(E-y)<r.EPSILON&&Math.abs(g-R)<r.EPSILON&&Math.abs(T-x)<r.EPSILON?a.identity(e):(d=E-y,p=g-R,m=T-x,o=M*(m*=f=1/Math.sqrt(d*d+p*p+m*m))-S*(p*=f),s=S*(d*=f)-v*m,l=v*p-M*d,(f=Math.sqrt(o*o+s*s+l*l))?(o*=f=1/f,s*=f,l*=f):(o=0,s=0,l=0),c=p*l-m*s,h=m*o-d*l,u=d*s-p*o,(f=Math.sqrt(c*c+h*h+u*u))?(c*=f=1/f,h*=f,u*=f):(c=0,h=0,u=0),e[0]=o,e[1]=c,e[2]=d,e[3]=0,e[4]=s,e[5]=h,e[6]=p,e[7]=0,e[8]=l,e[9]=u,e[10]=m,e[11]=0,e[12]=-(o*E+s*g+l*T),e[13]=-(c*E+h*g+u*T),e[14]=-(d*E+p*g+m*T),e[15]=1,e)},a.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},e.exports=a},function(e,t,i){var r,a,n,o,s,l,c=i(1),h=i(4),u=i(7),d=i(8),p={create:function(){var e=new c.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};p.rotationTo=(r=u.create(),a=u.fromValues(1,0,0),n=u.fromValues(0,1,0),function(e,t,i){var o=u.dot(t,i);return o<-.999999?(u.cross(r,a,t),u.length(r)<1e-6&&u.cross(r,n,t),u.normalize(r,r),p.setAxisAngle(e,r,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(u.cross(r,t,i),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=1+o,p.normalize(e,e))}),p.setAxes=(o=h.create(),function(e,t,i,r){return o[0]=i[0],o[3]=i[1],o[6]=i[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-t[0],o[5]=-t[1],o[8]=-t[2],p.normalize(e,p.fromMat3(e,o))}),p.clone=d.clone,p.fromValues=d.fromValues,p.copy=d.copy,p.set=d.set,p.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},p.setAxisAngle=function(e,t,i){i*=.5;var r=Math.sin(i);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(i),e},p.add=d.add,p.multiply=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3],s=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*h+o*s+a*c-n*l,e[1]=a*h+o*l+n*s-r*c,e[2]=n*h+o*c+r*l-a*s,e[3]=o*h-r*s-a*l-n*c,e},p.mul=p.multiply,p.scale=d.scale,p.rotateX=function(e,t,i){i*=.5;var r=t[0],a=t[1],n=t[2],o=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=r*l+o*s,e[1]=a*l+n*s,e[2]=n*l-a*s,e[3]=o*l-r*s,e},p.rotateY=function(e,t,i){i*=.5;var r=t[0],a=t[1],n=t[2],o=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=r*l-n*s,e[1]=a*l+o*s,e[2]=n*l+r*s,e[3]=o*l-a*s,e},p.rotateZ=function(e,t,i){i*=.5;var r=t[0],a=t[1],n=t[2],o=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=r*l+a*s,e[1]=a*l-r*s,e[2]=n*l+o*s,e[3]=o*l-n*s,e},p.calculateW=function(e,t){var i=t[0],r=t[1],a=t[2];return e[0]=i,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-i*i-r*r-a*a)),e},p.dot=d.dot,p.lerp=d.lerp,p.slerp=function(e,t,i,r){var a,n,o,s,l,c=t[0],h=t[1],u=t[2],d=t[3],p=i[0],m=i[1],f=i[2],E=i[3];return(n=c*p+h*m+u*f+d*E)<0&&(n=-n,p=-p,m=-m,f=-f,E=-E),1-n>1e-6?(a=Math.acos(n),o=Math.sin(a),s=Math.sin((1-r)*a)/o,l=Math.sin(r*a)/o):(s=1-r,l=r),e[0]=s*c+l*p,e[1]=s*h+l*m,e[2]=s*u+l*f,e[3]=s*d+l*E,e},p.sqlerp=(s=p.create(),l=p.create(),function(e,t,i,r,a,n){return p.slerp(s,t,a,n),p.slerp(l,i,r,n),p.slerp(e,s,l,2*n*(1-n)),e}),p.invert=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=i*i+r*r+a*a+n*n,s=o?1/o:0;return e[0]=-i*s,e[1]=-r*s,e[2]=-a*s,e[3]=n*s,e},p.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},p.length=d.length,p.len=p.length,p.squaredLength=d.squaredLength,p.sqrLen=p.squaredLength,p.normalize=d.normalize,p.fromMat3=function(e,t){var i,r=t[0]+t[4]+t[8];if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var n=(a+1)%3,o=(a+2)%3;i=Math.sqrt(t[3*a+a]-t[3*n+n]-t[3*o+o]+1),e[a]=.5*i,i=.5/i,e[3]=(t[3*n+o]-t[3*o+n])*i,e[n]=(t[3*n+a]+t[3*a+n])*i,e[o]=(t[3*o+a]+t[3*a+o])*i}return e},p.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=p},function(e,t,i){var r,a=i(1),n={create:function(){var e=new a.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new a.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,i){var r=new a.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=i,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e},add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e},subtract:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}};n.sub=n.subtract,n.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e},n.mul=n.multiply,n.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e},n.div=n.divide,n.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e},n.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e},n.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e},n.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e},n.distance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(i*i+r*r+a*a)},n.dist=n.distance,n.squaredDistance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return i*i+r*r+a*a},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)},n.len=n.length,n.squaredLength=function(e){var t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},n.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},n.normalize=function(e,t){var i=t[0],r=t[1],a=t[2],n=i*i+r*r+a*a;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},n.cross=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=i[0],s=i[1],l=i[2];return e[0]=a*l-n*s,e[1]=n*o-r*l,e[2]=r*s-a*o,e},n.lerp=function(e,t,i,r){var a=t[0],n=t[1],o=t[2];return e[0]=a+r*(i[0]-a),e[1]=n+r*(i[1]-n),e[2]=o+r*(i[2]-o),e},n.hermite=function(e,t,i,r,a,n){var o=n*n,s=o*(2*n-3)+1,l=o*(n-2)+n,c=o*(n-1),h=o*(3-2*n);return e[0]=t[0]*s+i[0]*l+r[0]*c+a[0]*h,e[1]=t[1]*s+i[1]*l+r[1]*c+a[1]*h,e[2]=t[2]*s+i[2]*l+r[2]*c+a[2]*h,e},n.bezier=function(e,t,i,r,a,n){var o=1-n,s=o*o,l=n*n,c=s*o,h=3*n*s,u=3*l*o,d=l*n;return e[0]=t[0]*c+i[0]*h+r[0]*u+a[0]*d,e[1]=t[1]*c+i[1]*h+r[1]*u+a[1]*d,e[2]=t[2]*c+i[2]*h+r[2]*u+a[2]*d,e},n.random=function(e,t){t=t||1;var i=2*a.RANDOM()*Math.PI,r=2*a.RANDOM()-1,n=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=r*t,e},n.transformMat4=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=i[3]*r+i[7]*a+i[11]*n+i[15];return o=o||1,e[0]=(i[0]*r+i[4]*a+i[8]*n+i[12])/o,e[1]=(i[1]*r+i[5]*a+i[9]*n+i[13])/o,e[2]=(i[2]*r+i[6]*a+i[10]*n+i[14])/o,e},n.transformMat3=function(e,t,i){var r=t[0],a=t[1],n=t[2];return e[0]=r*i[0]+a*i[3]+n*i[6],e[1]=r*i[1]+a*i[4]+n*i[7],e[2]=r*i[2]+a*i[5]+n*i[8],e},n.transformQuat=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=i[0],s=i[1],l=i[2],c=i[3],h=c*r+s*n-l*a,u=c*a+l*r-o*n,d=c*n+o*a-s*r,p=-o*r-s*a-l*n;return e[0]=h*c+p*-o+u*-l-d*-s,e[1]=u*c+p*-s+d*-o-h*-l,e[2]=d*c+p*-l+h*-s-u*-o,e},n.rotateX=function(e,t,i,r){var a=[],n=[];return a[0]=t[0]-i[0],a[1]=t[1]-i[1],a[2]=t[2]-i[2],n[0]=a[0],n[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),n[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e},n.rotateY=function(e,t,i,r){var a=[],n=[];return a[0]=t[0]-i[0],a[1]=t[1]-i[1],a[2]=t[2]-i[2],n[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),n[1]=a[1],n[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e},n.rotateZ=function(e,t,i,r){var a=[],n=[];return a[0]=t[0]-i[0],a[1]=t[1]-i[1],a[2]=t[2]-i[2],n[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),n[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),n[2]=a[2],e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e},n.forEach=(r=n.create(),function(e,t,i,a,n,o){var s,l;for(t||(t=3),i||(i=0),l=a?Math.min(a*t+i,e.length):e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],n(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}),n.angle=function(e,t){var i=n.fromValues(e[0],e[1],e[2]),r=n.fromValues(t[0],t[1],t[2]);n.normalize(i,i),n.normalize(r,r);var a=n.dot(i,r);return a>1?0:Math.acos(a)},n.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},e.exports=n},function(e,t,i){var r,a=i(1),n={create:function(){var e=new a.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new a.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,i,r){var n=new a.ARRAY_TYPE(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,i,r,a){return e[0]=t,e[1]=i,e[2]=r,e[3]=a,e},add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e},subtract:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}};n.sub=n.subtract,n.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e},n.mul=n.multiply,n.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e},n.div=n.divide,n.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e},n.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e},n.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},n.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e},n.distance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(i*i+r*r+a*a+n*n)},n.dist=n.distance,n.squaredDistance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],n=t[3]-e[3];return i*i+r*r+a*a+n*n},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],i=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+i*i+r*r+a*a)},n.len=n.length,n.squaredLength=function(e){var t=e[0],i=e[1],r=e[2],a=e[3];return t*t+i*i+r*r+a*a},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},n.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},n.normalize=function(e,t){var i=t[0],r=t[1],a=t[2],n=t[3],o=i*i+r*r+a*a+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=i*o,e[1]=r*o,e[2]=a*o,e[3]=n*o),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},n.lerp=function(e,t,i,r){var a=t[0],n=t[1],o=t[2],s=t[3];return e[0]=a+r*(i[0]-a),e[1]=n+r*(i[1]-n),e[2]=o+r*(i[2]-o),e[3]=s+r*(i[3]-s),e},n.random=function(e,t){return t=t||1,e[0]=a.RANDOM(),e[1]=a.RANDOM(),e[2]=a.RANDOM(),e[3]=a.RANDOM(),n.normalize(e,e),n.scale(e,e,t),e},n.transformMat4=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=t[3];return e[0]=i[0]*r+i[4]*a+i[8]*n+i[12]*o,e[1]=i[1]*r+i[5]*a+i[9]*n+i[13]*o,e[2]=i[2]*r+i[6]*a+i[10]*n+i[14]*o,e[3]=i[3]*r+i[7]*a+i[11]*n+i[15]*o,e},n.transformQuat=function(e,t,i){var r=t[0],a=t[1],n=t[2],o=i[0],s=i[1],l=i[2],c=i[3],h=c*r+s*n-l*a,u=c*a+l*r-o*n,d=c*n+o*a-s*r,p=-o*r-s*a-l*n;return e[0]=h*c+p*-o+u*-l-d*-s,e[1]=u*c+p*-s+d*-o-h*-l,e[2]=d*c+p*-l+h*-s-u*-o,e[3]=t[3],e},n.forEach=(r=n.create(),function(e,t,i,a,n,o){var s,l;for(t||(t=4),i||(i=0),l=a?Math.min(a*t+i,e.length):e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],r[3]=e[s+3],n(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2],e[s+3]=r[3];return e}),n.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=n},function(e,t,i){var r,a=i(1),n={create:function(){var e=new a.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new a.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var i=new a.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,i){return e[0]=t,e[1]=i,e},add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},subtract:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}};n.sub=n.subtract,n.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e},n.mul=n.multiply,n.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e},n.div=n.divide,n.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e},n.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e},n.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},n.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e},n.distance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)},n.dist=n.distance,n.squaredDistance=function(e,t){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],i=e[1];return Math.sqrt(t*t+i*i)},n.len=n.length,n.squaredLength=function(e){var t=e[0],i=e[1];return t*t+i*i},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},n.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},n.normalize=function(e,t){var i=t[0],r=t[1],a=i*i+r*r;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},n.cross=function(e,t,i){var r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e},n.lerp=function(e,t,i,r){var a=t[0],n=t[1];return e[0]=a+r*(i[0]-a),e[1]=n+r*(i[1]-n),e},n.random=function(e,t){t=t||1;var i=2*a.RANDOM()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e},n.transformMat2=function(e,t,i){var r=t[0],a=t[1];return e[0]=i[0]*r+i[2]*a,e[1]=i[1]*r+i[3]*a,e},n.transformMat2d=function(e,t,i){var r=t[0],a=t[1];return e[0]=i[0]*r+i[2]*a+i[4],e[1]=i[1]*r+i[3]*a+i[5],e},n.transformMat3=function(e,t,i){var r=t[0],a=t[1];return e[0]=i[0]*r+i[3]*a+i[6],e[1]=i[1]*r+i[4]*a+i[7],e},n.transformMat4=function(e,t,i){var r=t[0],a=t[1];return e[0]=i[0]*r+i[4]*a+i[12],e[1]=i[1]*r+i[5]*a+i[13],e},n.forEach=(r=n.create(),function(e,t,i,a,n,o){var s,l;for(t||(t=2),i||(i=0),l=a?Math.min(a*t+i,e.length):e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],n(r,r,o),e[s]=r[0],e[s+1]=r[1];return e}),n.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},e.exports=n}])}));var value=0,pos=0;function progress(e){if(100==e)return $("progress").addClass("hidden"),$("#hint98").addClass("hidden"),void $("#instruction").addClass("appear");$("progress").val(e),pos=1-e/100,$("progress").prop("style","background-position: 0 "+pos+"em;"),86==e&&$("#hint98").addClass("appear")}(function(){var e,t,i;t="undefined"!=typeof exports&&null!==exports?exports:this,i=function(e){try{return JSON.parse(e)}catch(e){return!1}},e=function(){function e(){this.names=i('[ "Latin", "Chinese", "Arabic", "Devanagari", "Cyrillic", "Bengali/Assamese", "Kana", "Gurmukhi", "Javanese", "Hangul", "Telugu", "Tamil", "Malayalam", "Burmese", "Thai", "Sundanese", "Kannada", "Gujarati", "Lao", "Odia", "Ge-ez", "Sinhala", "Armenian", "Khmer", "Greek", "Lontara", "Hebrew", "Tibetan", "Georgian", "Modern Yi", "Mongolian", "Tifinagh", "Syriac", "Thaana", "Inuktitut", "Cherokee" ]'),this.codes=i("[[76,97,116,105,110], [27721,23383], [1575,1604,1593,1585,1576,1610,1577], [2342,2375,2357,2344,2366,2327,2352,2368], [1050,1080,1088,1080,1083,1080,1094,1072], [2476,2494,2434,2482,2494,32,47,32,2437,2488,2478,2496,2479,2492,2494], [20206,21517], [2583,2625,2608,2606,2625,2582,2624], [43415,43438], [54620,44544], [3108,3142,3122,3137,3095,3137], [2980,2990,3007,2996,3021], [3374,3378,3375,3390,3379,3330], [4121,4156,4116,4154,4121,4140], [3652,3607,3618], [7070,7077,7060,7082,7059], [3221,3240,3277,3240,3233], [2711,2753,2716,2736,2750,2724,2752], [3749,3762,3751], [2825,2852,2893,2837,2867], [4877,4821,4829], [3523,3538,3458,3524,3517], [1344,1377,1397,1400,1409], [6017,6098,6040,6082,6042], [917,955,955,951,957,953,954,972], [6674,6682,6664,6673], [1488,1500,1508,1489,1497,1514], [3926,3964,3921,3851], [4325,4304,4320,4311,4323,4314,4312], [41352,41760], [6190,6179,6185,6189,6179,6191], [11612,11593,11580,11593,11599,11568,11606], [1808,1834,1825,1821,1808], [1931,1960,1928,1964,1920,1960], [5123,5316,5251,5198,5200,5222], [5091,5043,5033], [55295, 7077]]"),this.fontSize=9,this.fontFace="Verdana",this.extraHeigth=15,this.results=[]}return e.prototype.begin=function(){var e,t,i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H;for(R=0,this.widths=[],this.heights=[],this.support=[],this.test_div=document.createElement("div"),document.body.appendChild(this.test_div),this.test_div.id="WritingTest",r=0,s=(v=this.codes).length;r<s;r++){for(t=v[r],this.height=[],this.width=[],this.div=document.createElement("div"),this.test_div.appendChild(this.div),R+=1,this.div.id=R,this.div.style.display="inline-block",a=0,l=t.length;a<l;a++)e=t[a],this.div.innerHTML="<font face = '"+this.fontFace+"' size = "+this.fontSize+">&#"+e+"</font>",this.height.push(document.getElementById(R).clientHeight),this.width.push(document.getElementById(R).clientWidth);for(this.div.innerHTML="",n=0,c=t.length;n<c;n++)e=t[n],this.div.innerHTML+="<font face = '"+this.fontFace+"' size = "+this.fontSize+">&#"+e+"</font>";this.test_div.innerHTML+=this.height+";"+this.width+"<br>",this.heights.push(this.height),this.widths.push(this.width)}for(this.tw=this.widths.pop(),this.sw1=this.tw[0],this.sw2=this.tw[1],this.sh=this.heights.pop()[0],o=0,h=(M=this.heights).length;o<h;o++){for(i=M[o],this.passed=0,f=0,u=i.length;f<u;f++)if(i[f]!==this.sh){this.support.push(!0),this.passed=1;break}0===this.passed&&this.support.push(!1)}for(this.writing_scripts_index=0,E=0,d=(S=this.widths).length;E<d;E++){for(g=0,p=(H=S[E]).length;g<p;g++)b=H[g],!1===this.support[this.writing_scripts_index]&&b!==this.sw1&&b!==this.sw2&&(this.support[this.writing_scripts_index]=!0);this.writing_scripts_index+=1}for(this.res=[],this.writing_scripts_index=0,T=0,m=(y=this.support).length;T<m;T++)x=y[T],this.test_div.innerHTML+=this.names[this.writing_scripts_index]+": "+x+" <br>",!0===x&&this.res.push(this.names[this.writing_scripts_index]),this.writing_scripts_index+=1;return this.test_div.remove(),this.res},e}(),t.get_writing_scripts=function(){var t;return t=new e,this.res=t.begin()}}).call(this),function(){var e,t;(t="undefined"!=typeof exports&&null!==exports?exports:this).createCopyButton=function(e,t){var i;return(i=new Clipboard(".btn")).on("success",(function(e){var t;if(e.clearSelection(),"tooltip"===(t=$(e.trigger)).attr("data-toggle"))return t.attr("data-original-title","Coppied").tooltip("fixTitle").tooltip("show"),setTimeout((function(){return t.tooltip("hide")}),1e3)})),i.on("error",(function(e){var t;if("tooltip"===(t=$(e.trigger)).attr("data-toggle"))return t.attr("data-original-title","Press Cmd+C to copy").tooltip("fixTitle").tooltip("show"),setTimeout((function(){return t.tooltip("hide")}),3e3)})),$("<button type='button' class='btn btn-default' data-clipboard-action='copy' data-clipboard-text='"+e+"' data-toggle='tooltip' data-trigger='manual' data-placement='auto' data-html='true' >Copy</button>").tooltip().appendTo($(t))},t.mobileAndTabletCheck=function(){return e=navigator.userAgent||navigator.vendor||window.opera,!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)));var e},e=function(){function e(){var e;this.parseURL(),this.numberOfAssets=0,this.numLoaded=0,this.loadJSONResource("static/assets/Susan.json",(e=this,function(t,i){return e.susanModel=i,t||e.assetLoaded(),!0})),this.loadJSONResource("static/assets/simple.json",function(e){return function(t,i){return e.simpleModel=i,t||e.assetLoaded(),!0}}(this)),this.loadImage("static/assets/color.png",function(e){return function(t,i){return e.texture=i,t||e.assetLoaded(),!0}}(this)),this.loadImage("static/assets/color2.png",function(e){return function(t,i){return e.texture1=i,t||e.assetLoaded(),!0}}(this))}return e.prototype.parseURL=function(){var e,i,r,a;if(this.url=document.URL,this.parser=document.createElement("a"),this.parser.href=this.url,this.commands=this.parser.search,this.requests={},this.commands)for(e=0,i=(r=this.commands.slice(1).split("&")).length;e<i;e++)a=r[e].split("="),this.requests[a[0]]=a[1];return t.requests=this.requests},e.prototype.assetLoaded=function(){if(this.numLoaded++,this.numLoaded===this.numberOfAssets)return this.beginTests()},e.prototype.loadTextResource=function(e,t){var i;return++this.numberOfAssets,(i=new XMLHttpRequest).open("GET",e+"?please-dont-cache="+Math.random(),!0),i.onload=function(){return i.status<200||i.status>299?t("Error: HTTP Status "+i.status+" on resource "+e):t(null,i.responseText)},i.send(),!0},e.prototype.loadImage=function(e,t){var i;return++this.numberOfAssets,(i=new Image).onload=function(){return t(null,i)},i.src=e,!0},e.prototype.loadJSONResource=function(e,t){return this.loadTextResource(e,(function(e,i){var r;if(e)return t(e);try{return t(null,JSON.parse(i))}catch(r){return t(r)}})),!0},e.prototype.beginTests=function(){var e,i,r,a,n,o,s,l,c,h,u,d,p,m,f,E,g;for(this.susanVertices=this.susanModel.meshes[0].vertices,this.susanIndices=[].concat.apply([],this.susanModel.meshes[0].faces),this.susanTexCoords=this.susanModel.meshes[0].texturecoords[0],this.susanNormals=this.susanModel.meshes[0].normals,this.simpleVertices=function(){var e,t,i,r;for(r=[],e=0,t=(i=this.simpleModel.meshes[0].vertices).length;e<t;e++)E=i[e],r.push(E/20);return r}.call(this),this.simpleIndices=[].concat.apply([],this.simpleModel.meshes[0].faces),this.simpleTexCoords=this.simpleModel.meshes[0].texturecoords[0],this.simpleNormals=this.simpleModel.meshes[0].normals,this.combinedVertices=new Array(this.simpleIndices.length+this.susanIndices.length),r=n=0,u=this.susanVertices.length;n<u;r=n+=3)this.combinedVertices[r+0]=this.susanVertices[r+0],this.combinedVertices[r+1]=this.susanVertices[r+1]+1.3,this.combinedVertices[r+2]=this.susanVertices[r+2];for(r=o=0,d=this.simpleVertices.length;o<d;r=o+=3)this.combinedVertices[r+0+this.susanVertices.length]=this.simpleVertices[r+0],this.combinedVertices[r+1+this.susanVertices.length]=this.simpleVertices[r+1]-1.3,this.combinedVertices[r+2+this.susanVertices.length]=this.simpleVertices[r+2];for(this.combinedIndices=new Array(this.simpleIndices.length+this.susanIndices.length),[].splice.apply(this.combinedIndices,[0,this.susanIndices.length-0].concat(this.susanIndices)),c=this.susanIndices.reduce((function(e,t){return Math.max(e,t)})),[].splice.apply(this.combinedIndices,[p=this.susanIndices.length,this.combinedIndices.length-p].concat(function(){var e,t,i,r;for(r=[],e=0,t=(i=this.simpleIndices).length;e<t;e++)a=i[e],r.push(a+1+c);return r}.call(this))),this.combinedTexCoords=this.susanTexCoords.concat(this.simpleTexCoords),this.combinedNormals=this.susanNormals.concat(this.simpleNormals),this.testList=[],t.sender=f=new Sender,this.testList.push(new CubeTest("normal")),this.testList.push(new CubeTest("aa")),this.testList.push(new CameraTest),this.testList.push(new LineTest("normal")),this.testList.push(new LineTest("aa")),this.testList.push(new TextureTest(this.susanVertices,this.susanIndices,this.susanTexCoords,this.texture)),this.testList.push(new TextureTest(this.combinedVertices,this.combinedIndices,this.combinedTexCoords,this.texture)),this.testList.push(new SimpleLightTest(this.susanVertices,this.susanIndices,this.susanTexCoords,this.susanNormals,this.texture)),this.testList.push(new SimpleLightTest(this.combinedVertices,this.combinedIndices,this.combinedTexCoords,this.combinedNormals,this.texture)),this.testList.push(new MoreLightTest(this.combinedVertices,this.combinedIndices,this.combinedTexCoords,this.combinedNormals,this.texture)),this.testList.push(new TwoTexturesMoreLightTest(this.combinedVertices,this.combinedIndices,this.combinedTexCoords,this.combinedNormals,this.texture,this.texture1)),this.testList.push(new TransparentTest(this.combinedVertices,this.combinedIndices,this.combinedTexCoords,this.combinedNormals,this.texture)),this.testList.push(new LightingTest),this.testList.push(new ClippingTest),this.testList.push(new BubbleTest),this.testList.push(new CompressedTextureTest),this.testList.push(new ShadowTest),this.asyncTests=[],f.finalized=!0,this.numberOfTests=this.testList.length+this.asyncTests.length,this.numComplete=0,g=this,h=function(){if(progress(++g.numComplete/g.numberOfTests*90),g.numComplete===g.numberOfTests)return"True"===g.requests.demo&&$("body canvas").remove(),f.sendData()},256,e=function(e,t){var i,r;this.testList=e,this.canvas=$("<canvas width='256' height='256'/>").appendTo(t)[0],this.numTestsComplete=0,r=this,i=function(){if(r.numTestsComplete++,h(),r.numTestsComplete<r.testList.length)return r.testList[r.numTestsComplete].begin(r.canvas,i)},this.testList[0].begin(this.canvas,i)},i="True"===this.requests.demo?$("body"):$("#test_canvases"),$("<canvas id='can_aa' width='256' height='256'/>").appendTo(i),new e(this.testList,i),s=0,l=(m=this.asyncTests).length;s<l;s++)m[s].begin(h);return!0},e}(),$((function(){return new e}))}.call(this),function(e){"use strict";function t(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function i(e,i,r,a,n,o){return t(function(e,t){return e<<t|e>>>32-t}(t(t(i,e),t(a,o)),n),r)}function r(e,t,r,a,n,o,s){return i(t&r|~t&a,e,t,n,o,s)}function a(e,t,r,a,n,o,s){return i(t&a|r&~a,e,t,n,o,s)}function n(e,t,r,a,n,o,s){return i(t^r^a,e,t,n,o,s)}function o(e,t,r,a,n,o,s){return i(r^(t|~a),e,t,n,o,s)}function s(e,i){e[i>>5]|=128<<i%32,e[14+(i+64>>>9<<4)]=i;var s,l,c,h,u,d=1732584193,p=-271733879,m=-1732584194,f=271733878;for(s=0;s<e.length;s+=16)l=d,c=p,h=m,u=f,d=r(d,p,m,f,e[s],7,-680876936),f=r(f,d,p,m,e[s+1],12,-389564586),m=r(m,f,d,p,e[s+2],17,606105819),p=r(p,m,f,d,e[s+3],22,-1044525330),d=r(d,p,m,f,e[s+4],7,-176418897),f=r(f,d,p,m,e[s+5],12,1200080426),m=r(m,f,d,p,e[s+6],17,-1473231341),p=r(p,m,f,d,e[s+7],22,-45705983),d=r(d,p,m,f,e[s+8],7,1770035416),f=r(f,d,p,m,e[s+9],12,-1958414417),m=r(m,f,d,p,e[s+10],17,-42063),p=r(p,m,f,d,e[s+11],22,-1990404162),d=r(d,p,m,f,e[s+12],7,1804603682),f=r(f,d,p,m,e[s+13],12,-40341101),m=r(m,f,d,p,e[s+14],17,-1502002290),d=a(d,p=r(p,m,f,d,e[s+15],22,1236535329),m,f,e[s+1],5,-165796510),f=a(f,d,p,m,e[s+6],9,-1069501632),m=a(m,f,d,p,e[s+11],14,643717713),p=a(p,m,f,d,e[s],20,-373897302),d=a(d,p,m,f,e[s+5],5,-701558691),f=a(f,d,p,m,e[s+10],9,38016083),m=a(m,f,d,p,e[s+15],14,-660478335),p=a(p,m,f,d,e[s+4],20,-405537848),d=a(d,p,m,f,e[s+9],5,568446438),f=a(f,d,p,m,e[s+14],9,-1019803690),m=a(m,f,d,p,e[s+3],14,-187363961),p=a(p,m,f,d,e[s+8],20,1163531501),d=a(d,p,m,f,e[s+13],5,-1444681467),f=a(f,d,p,m,e[s+2],9,-51403784),m=a(m,f,d,p,e[s+7],14,1735328473),d=n(d,p=a(p,m,f,d,e[s+12],20,-1926607734),m,f,e[s+5],4,-378558),f=n(f,d,p,m,e[s+8],11,-2022574463),m=n(m,f,d,p,e[s+11],16,1839030562),p=n(p,m,f,d,e[s+14],23,-35309556),d=n(d,p,m,f,e[s+1],4,-1530992060),f=n(f,d,p,m,e[s+4],11,1272893353),m=n(m,f,d,p,e[s+7],16,-155497632),p=n(p,m,f,d,e[s+10],23,-1094730640),d=n(d,p,m,f,e[s+13],4,681279174),f=n(f,d,p,m,e[s],11,-358537222),m=n(m,f,d,p,e[s+3],16,-722521979),p=n(p,m,f,d,e[s+6],23,76029189),d=n(d,p,m,f,e[s+9],4,-640364487),f=n(f,d,p,m,e[s+12],11,-421815835),m=n(m,f,d,p,e[s+15],16,530742520),d=o(d,p=n(p,m,f,d,e[s+2],23,-995338651),m,f,e[s],6,-198630844),f=o(f,d,p,m,e[s+7],10,1126891415),m=o(m,f,d,p,e[s+14],15,-1416354905),p=o(p,m,f,d,e[s+5],21,-57434055),d=o(d,p,m,f,e[s+12],6,1700485571),f=o(f,d,p,m,e[s+3],10,-1894986606),m=o(m,f,d,p,e[s+10],15,-1051523),p=o(p,m,f,d,e[s+1],21,-2054922799),d=o(d,p,m,f,e[s+8],6,1873313359),f=o(f,d,p,m,e[s+15],10,-30611744),m=o(m,f,d,p,e[s+6],15,-1560198380),p=o(p,m,f,d,e[s+13],21,1309151649),d=o(d,p,m,f,e[s+4],6,-145523070),f=o(f,d,p,m,e[s+11],10,-1120210379),m=o(m,f,d,p,e[s+2],15,718787259),p=o(p,m,f,d,e[s+9],21,-343485551),d=t(d,l),p=t(p,c),m=t(m,h),f=t(f,u);return[d,p,m,f]}function l(e){var t,i="",r=32*e.length;for(t=0;t<r;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function c(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function h(e){var t,i,r="0123456789abcdef",a="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),a+=r.charAt(t>>>4&15)+r.charAt(15&t);return a}function u(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return l(s(c(e),8*e.length))}(u(e))}function p(e,t){return function(e,t){var i,r,a=c(e),n=[],o=[];for(n[15]=o[15]=void 0,a.length>16&&(a=s(a,8*e.length)),i=0;i<16;i+=1)n[i]=909522486^a[i],o[i]=1549556828^a[i];return r=s(n.concat(c(t)),512+8*t.length),l(s(o.concat(r),640))}(u(e),u(t))}function m(e,t,i){return t?i?p(t,e):function(e,t){return h(p(e,t))}(t,e):i?d(e):function(e){return h(d(e))}(e)}"function"==typeof define&&define.amd?define((function(){return m})):"object"==typeof module&&module.exports?module.exports=m:e.md5=m}(this);var hex_chr="0123456789abcdef";function hex(e){for(var t="",i=7;i>=0;i--)t+=hex_chr.charAt(e>>4*i&15);return t}function str2blks_SHA1(e){for(var t=1+(e.length+8>>6),i=new Array(16*t),r=0;r<16*t;r++)i[r]=0;for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<24-r%4*8;return i[r>>2]|=128<<24-r%4*8,i[16*t-1]=8*e.length,i}function add(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function rol(e,t){return e<<t|e>>>32-t}function ft(e,t,i,r){return e<20?t&i|~t&r:e<40?t^i^r:e<60?t&i|t&r|i&r:t^i^r}function kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function calcSHA1(e){for(var i=str2blks_SHA1(e),r=new Array(80),a=1732584193,n=-271733879,o=-1732584194,s=271733878,l=-1009589776,c=0;c<i.length;c+=16){for(var h=a,u=n,d=o,p=s,m=l,f=0;f<80;f++)r[f]=f<16?i[c+f]:rol(r[f-3]^r[f-8]^r[f-14]^r[f-16],1),t=add(add(rol(a,5),ft(f,n,o,s)),add(add(l,r[f]),kt(f))),l=s,s=o,o=rol(n,30),n=a,a=t;a=add(a,h),n=add(n,u),o=add(o,d),s=add(s,p),l=add(l,m)}return hex(a)+hex(n)+hex(o)+hex(s)+hex(l)}var ip_address="54.251.234.227";function populateFontList(e){for(var t in fonts=[],e){var i=e[t];i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),fonts.push(i)}sender.addFonts(fonts)}function getResolution(){var e=detectZoom.device(),t=window.screen.width*e,i=window.screen.height*e;return Math.round(t)+"_"+Math.round(i)+"_"+e+"_"+window.screen.width+"_"+window.screen.height+"_"+window.screen.colorDepth+"_"+window.screen.availWidth+"_"+window.screen.availHeight+"_"+window.screen.left+"_"+window.screen.top+"_"+window.screen.availLeft+"_"+window.screen.availTop+"_"+window.innerWidth+"_"+window.outerWidth+"_"+detectZoom.zoom()}var Sender=function(){function e(e){var t,i,r,a=0;if(0===e.length)return a;for(t=0,i=e.length;t<i;t+=4)for(r=0;r<3;++r)a^=(a<<5)-a+(0|e[t])+2654435769|0,a|=0;return a}function t(e){for(var t=0,i=0;i<e.length;i+=4)t+=e[i+0],t+=e[i+1],t+=e[i+2];return t}this.finalized=!1,this.postData={fontlist:"No Flash",fonts:"",WebGL:!1,inc:"Undefined",gpu:"Undefined",hash:"Undefined",timezone:"Undefined",resolution:"Undefined",plugins:"Undefined",cookie:"Undefined",localstorage:"Undefined",manufacturer:"Undefined",gpuImgs:{},adBlock:"Undefined",cpu_cores:"Undefined",canvas_test:"Undefined",audio:"Undefined",langsDetected:[],video:[]},t=function(e){for(var t=0,i=0;i<e.length;i+=4)t+=parseFloat(e[i+0]),t+=parseFloat(e[i+1]),t+=parseFloat(e[i+2]);return t},this.addFonts=function(e){this.postData.fontlist=e},this.nextID=0,this.getID=function(){if(this.finalized)throw"Can no longer generate ID's";return this.nextID++},this.addFonts=function(e){this.postData.fontlist=e},this.nextID=0,this.getID=function(){if(this.finalized)throw"Can no longer generate ID's";return this.nextID++},this.getIDs=function(e){for(var t=[],i=0;i<e;i++)t.push(this.getID());return t},this.postLangsDetected=function(e){},this.getDataFromCanvas=function(i,r){if(!this.finalized)throw"Still generating ID's";var a=i.getImageData(0,0,256,256).data,n=function(e){var t,i,r=0;if(0===e.length)return r;for(t=0,i=e.length;t<i;t++)r^=(r<<5)-r+(0|e[t])+2654435769|0,r|=0;return r}(a);return this.toServer(!1,"None","None",n,r,a),t(a)>1?e(a):0},this.getData=function(i,r){if(!this.finalized)throw"Still generating ID's";var a,n,o=new Uint8Array(262144);i.readPixels(0,0,256,256,i.RGBA,i.UNSIGNED_BYTE,o);var s=i.getExtension("WEBGL_debug_renderer_info");s?(a=i.getParameter(s.UNMASKED_VENDOR_WEBGL),n=i.getParameter(s.UNMASKED_RENDERER_WEBGL)):(a="No debug Info",n="No debug Info");var l=o.hashCode();return this.toServer(!0,a,n,l,r,o),t(o)>1?e(o):0},this.urls=[],this.finished=0,this.toServer=function(e,t,i,r,a,n){this.postData.gpuImgs[a]=n.hashCode(),e&&(this.postData.WebGL=e,this.postData.inc=t,this.postData.gpu=i,this.postData.hash=r)},this.sendData=function(){$("#status").html("Getting Fonts (This may take a long time)"),this.fontsData="";var e=["Segoe WP","FreeMono","Heiti TC Light","VNI-Kun","Liberation Serif","Dotum","ML-TTVeenaHeavy","Brandon Grotesque Light","Adobe Hebrew Italic","MMa Etc Bold","Toledo","Ubuntu Mono derivative Powerline","Hannotate TC Regular","Droid Sans Thai","Cambria Italic","Abadi MT Condensed Extra Bold","Barrio","ML-TTVishu","MMa VariableB S","BurigangaSushreeOMJ","Pegypta","Avenir Next Condensed","TitilliumText22L-Bold","Corbel Bold Italic",".VnCourier New","Trajan Pro 3 Bold","Futura LT Condensed Light","FML-TTAmbili","dbldwrsw","PingFang HK Light","Soho Gothic Pro Italic","Tele-Marines","Cronos Pro","Noto Sans Brahmi","HANA","VNI Times","Rakesly El","WP MultinationalA Roman","HGSHeiseiKakugothictaiW5","Avenir Next W1G Medium","Segoe UI Semibold","Cambria Bold Italic","Futura Std Book","New Renex Terminal","HGSHeiseiKakugothictaiW9","KufiStandardGK Regular","VNI-Bodon-Poster","eurb9","MrsEavesRoman","WP Greek Century","STIXNonUnicode","Songti SC Bold","Kaushan Script","OpenSymbol","FML-TTJyotsna","EngraverTime","Charter Black Italic","Arno Pro","Tahoma Negreta","Century Schoolbook L","Circular Std Book Italic","Tall Boy 3D","Egyptian710 BT","ML-NILA03","ML-NILA02","ML-NILA01","Petrucci","Waseem Regular","ML-NILA06","ML-NILA05","NORMAL","eusm8","Z@R120A.tmp","Gulim","cmtcsc10","Merriweather Italic",".VnSouthernH","Lantinghei TC Heavy","Bangla Sangam MN","C-Medium","Nightclub BTN UltraCn","GoraiOMJ","Avenir Next Ultra Light","Myanmar Sangam MN","Matisse ITC","Droid Sans Mono Dotted for Powerline","Optima Italic","TitilliumText22L-Regular","Sketch Rockwell","MelodBold","cmsl10","Zapfino","cmsl12","Linux Libertine Display O","Manorama","DecoType Naskh Special","Caviar Dreams Bold Italic","Sauce Code Powerline","Courier New CE","BurigangaSushreeMJ","Aileron","Hiragino Sans","Smooth","MMCenturyOldGreek","Microsoft NeoGothic","Atzur","GLYPHICONS Halflings","Trattatello","LT-TM-Lakshman","Playbill","TeX Gyre Chorus","Myriad Pro SemiCondensed","Marlett","Open Sans Extrabold","Chaparral Pro Bold","GrilledCheese BTN Cn","Bitstream Charter","Noto Sans Tai Viet","Georgia Pro SemiBold","Rotis Sans Serif Std 56 Italic","ITF Devanagari Marathi Demi","Avenir Next W1G Thin","Priori Serif OT","Times Bold Italic","BurigangaKamalaOMJ","Literation Mono Powerline Italic","Quickpen","AR BONNIE","Caviar Dreams","Avenir Roman","Pujeeta","Deepak","cmmi12","FML-TTSankara","Bookman Old Style Italic",".VnArial","Antonio","Linowrite","GFS Gazis","FordLineDraw","ConcursoItalian BTN Wide","MMa CenturySS","Laksaman","Segoe Marker","Monotype Sorts","Bienhoa","Noto Sans Syriac Eastern","Caviar Dreams Bold","MMa Arrow Bold Italic","Diavlo Black","Garamond","Proxima Nova","BhairabOMJ","WP Phonetic","Myriad Pro","VNI-Fato","Myriad Pro Bold","MMVariableF Bold","Julius Sans One","EuroRoman","cmcsc9","cmcsc8","LaurenScript","VNI-Commerce","Freebooter Script","Math5","Party LET",".VnHelvetIns","American Typewriter","Roboto Mono Bold Italic for Powerline","Vineta BT","ML-TTPooram","MMa Extra Bold","Quangngai","MT Extra","TAM","Terminal Greek 737 (437G)","TITUS Cyberbit Basic","Kalakaumudi","Adobe Gurmukhi","HanziPen SC","cmff10","Praxis","FML-TTVishu","Microsoft MHei","VNI Greece","Sukhumvit Set Semi Bold","Swiss 721 Roman","Soho Gothic Pro Ultra Italic","STLiti","Marquisette BTN Light","Arimo Bold Italic for Powerline","ML-TTJaya","eusm9","Simplified Arabic","Kohinoor Devanagari Light","MS PMincho","Century Gothic Italic","HariSree","MyriadPro-Semibold","IPAexGothic","MS Reference Serif","eusm7","HelveticaNeueLT Pro 97 BlkCn","Quicksand Bold","Yu Mincho","VNI-Murray","ChandrabatiMJ","Sitka Banner","MMCenturyOldGreek Italic",".VnCommercial ScriptH","Interstate-Regular","Arimo Bold Italic","Latienne Pro","TAC-Valluvar","FML-Nanditha","MMa VariableF Bold","Tekton Pro Bold","Noto Serif","AmdtSymbols","Euclid Symbol","Songti SC Regular","Cambria Bold","Leelawadee","Meslo LG S DZ Regular for Powerline","Nexa Light","Party LET Plain:1.0","Minion Pro SmBd","AV-Font-Kan1","Clarendon Cn BT","Yu Mincho Demibold","Hypatia Sans Pro Semibold","Consolas","Seravek Bold Italic","Nightclub BTN Cn","Myriad Arabic Italic","Charter Roman","spinwerad","Gill Sans Nova Cond Ultra Bold","KG Corner of the Sky","DecoType Naskh Extensions","MLB-TTAmbili","YuMincho ","Futura LT Light","Latin Modern Roman","Gotham Narrow Black Italic","DIN-Light","VNI-Top","DotumChe","Giolinh","Muna Black","Apple Boy BTN","Clarendon BT","DINPro-Light","Playfair Display SC Black","Quixley LET","MMa Pascal Bold","Interstate-Light","American Typewriter Condensed Bold","Skia Condensed","Latienne Pro Bold","lcircle10","ML-IndulekhaHeavy","Source Serif Pro Semibold","Tamburo","Halong","Normande Italic","VNI-Book","MMa Extra Italic","Heavy","MMBinary","PondAllRounder","Euphemia UCAS Bold","Avenir Book Oblique","HP Simplified Light","HGSHeiseiKakugothictaiW3","Gill Sans Light","VNI-Garam","AlekyaMedium","Hebar","Stone Sans Sem ITC TT","DV1-TTYogesh","Adobe Arabic","Rosewood Std Regular","Marquisette BTN Lined","Gotham Book","Sukhumvit Set Medium",".VnTeknicalH","Z@R1762.tmp","MMa Gauss Bold","Avenir Next Condensed Demi Bold","Trebuchet MS Bold Italic","TlwgMono","Avenir Next W1G Bold","Flubber","Opus Figured Bass","Futura LT Heavy Oblique","Hiragino Mincho ProN","Nova Oval","Bangla MN","Opus Function Symbols","Microsoft JhengHei Light","STIXSizeOneSym","Magic School Two","Type Embellishments One LET Embellishments One LET Plain:1.0","Avenir Next Heavy","Sylfaen","Palatino Bold","Rockwell Extra Bold","Candara Italic","Gujarati MT Bold","Vinhan",".VnBahamasBH","SaiVrishin","AR ESSENCE","Frankfurter Venetian TT","Gillius ADF Cd","Mishafi Gold","System Font Medium","Roboto Mono Medium for Powerline","SF Distant Galaxy","Monotype.com","MMTextBook Bold","Gill Sans MT Italic","Tlwg Typewriter","Soho Gothic Pro ExtraBold","Gill Sans Ultra Bold","STIXSizeTwoSym-Bold","BaluBrush","System Font Bold","Roboto Light Italic","Times New Roman (Arabic)","Maestro Wide","Bickham Script Pro 3 Semibold","STXingkai","Annie BTN","AtraiOMJ","Aileron SemiBold","cmsy7","Bookshelf Symbol 3","Orator Std","Swis721 BdCnOul BT","Proxima Nova Bold","Shree Devanagari 714 Bold Italic","WP MultinationalA Helve","Noto Sans","Lucida Sans Italic","Phosphate Solid","Damascus","DengXian Light","Notram","Bordeaux Roman Bold LET Plain","Lantinghei SC Heavy","MMa CenturyS Italic","Noto Sans Phoenician","System Font","ADMUI3Sm","Shree Devanagari 714 Italic","kroeger 06","Belfast Light SF","KacstBook","PingFang SC Thin","Humanst521 BT","Futura Condensed Medium","WP Japanese","Hiragino Kaku Gothic Std W8","GaneshBold","Open Sans Italic","Aileron Bold","Euphemia UCAS",".VnFreeH","Swis721 BlkOul BT",".VnRevueH","Freehand521 BT","MMa Arrow Italic","Opus Chords Sans Condensed","OR-TTSarala","Montserrat Black","VNI-Avo","System Font Medium P4","VNI-GlabXb","HarvestItal","MMa VariableA S","Segoe WP Black","Courier10 BT",".VnLincolnH","eusb5","Marker Felt Thin","KacstTitleL","HelveticaNeueLT Pro 107 XBlkCn","IBM3270","MLB-TTIndulekha","PujeetaItalic","Bookman Old Style Bold","Latin Modern Sans","ELEGANCE","GhorautraMJ","MMExtra Bold","Rockwell Nova Cond","Minion Pro Cond","Brandon Grotesque Medium","HGHeiseiKakugothictaiW9","Euphemia UCAS Italic",".VnUniverseH","Avenir Book","ZapfHumnst Ult BT","Diwani Simple Striped","Myriad Pro Bold SemiCondensed","Raleway SemiBold Italic","Z@R1751.tmp","Hypatia Sans Pro Black","linew10",".VnCooperH","Adobe Ming Std","BlairMdITC TT Medium","Levenim MT","Ravie","FML-TTIndulekhaHeavy","Ruach LET","ML-TTJyothy","Brush Script MT","Latin Modern Mono Prop","ML-NILA04","TeX Gyre Pagella","Roboto Slab","eurb7","PFFuelPro-Regular","eurb5","MMGreek Bold","Oswald Stencil Bold","Georgia Bold","Noto Serif Thai","Selena","Perpetua Titling MT Bold","ColdSpaghetti BTN","Courier Oblique","Dosis Medium","Canter Bold Shadow","St Marie Thin","FML-TTGopika","STIXIntegralsSm-Bold","MMEtc Italic","CHANL","Yu Gothic UI","KacstNaskh","VNI-Palatin","GFS Porson","ML-TTAswathi","Myriad Pro Condensed Italic","Avenir Next Italic","WP ArabicScript Sihafa","Euclid Symbol Bold","Myriad Pro Semibold Condensed","PT Bold Broken","Goudy Old Style Bold","Racing Sans One","Bentham","Gotham Book Italic","Asimov","Avenir Next W1G Light","Ashwariya","Berlin Sans FB Demi","Myriad Pro Light Italic","VNI Helve Condense","Songti TC Regular","Verdana Italic","Nexa XBold Italic","Source Sans Pro","Dingbats","Synchro LET","OCR-A II","Deneane","MMExtra Bold Italic","Wellfleet","Jazz LET Plain:1.0","STIXIntegralsSm-Regular","MMa CenturyK","Javanese Text","Nova Script","Arial Hebrew Bold","PCMyungjo Regular","Bhuma","MMa CenturyS","Quicksand Dash","Gloucester MT Extra Condensed","Montserrat Bold","Jokerman Alts LET","Floraless","SF Compact Rounded Semibold","URW Gothic L","BadaBoom BB","Microsoft YaHei","Cantarell Oblique","Brush Script MT Italic","Raanana Bold",".VnArialH","IPAPGothic","BN-TTDurga","Times New Roman","WP MultinationalB Courier","Germanica","Paralucent Demi Bold Italic","Proxima Nova Soft Medium","Myriad Hebrew Bold","Telugu MN Bold","WP MathA","Proxima Nova Condensed Light Italic","IDAutomationPDF417n5","Algerian","Times New Roman Greek","FML-TTKaumudi","SF Compact Rounded Bold","Tinos Bold Italic for Powerline","Lantinghei TC","Stylus BT","Soho Gothic Pro Medium","Microsoft Tai Le","Broken Planewing","MMa Relation Bold Italic","MMCenturyNew Bold Italic","Droid Sans Ethiopic","3M Circular TT Bold","IDAutomationPDF417n2","Lato Black Italic","Liberation Sans","Sofia","Paralucent Light Italic","Geeza Pro","Dancing Script","DholeshwariMJ","eufm10","Century Schoolbook","Palatino Linotype Bold","Candy Round BTN","12x10","Rupee Foradian","SchoolHouse Cursive B","Stone Sans Sem ITC TT Semi","Coda","Sneakerhead BTN Condensed","Merriweather Light Italic","Academy Engraved LET","System Font Ultralight","Akshar Unicode","Helvetica","Lato Italic","Kohinoor Bangla Medium","ChandrabatiMatraOMJ","Futura LT Bold","Helvetica Bold","Batang","Arvo","Coolvetica","Gill Sans MT Ext Condensed Bold","AR BLANCA","PingFang HK Regular","Arial Narrow Italic","cmtex9","cmtex8","Chalkboard SE","Fren","MMa Negate S","Minion Pro Medium Italic","Meiryo UI","SWED","ITF Devanagari Marathi Light","athletic","Pointedly Mad","Farsi Simple Outline","Yuppy TC","Noto Sans Lao UI",".VnShelley Allegro","Quinhon","Courier Bold","Carrois Gothic SC","FangSong","PT Serif Bold Italic","ML-TTKanika","Avenir Next W1G Regular","GrilledCheese BTN Toasted","QuiverItal","Kanalisirung","FML-TTJaya","HelveticaNeueLT Pro 53 Ex","Cut Me Out","Khmer MN Bold","Skia Light","Garamond Italic","GothicG","Autour One","Opus PlainChords","Symbol Tiger","Lucida Fax Demibold","Athelas","Linux Libertine Initials O","STIXIntegralsUp-Bold","MMa VariableD SS","VNI-Aztek","MLW-TTKarthika","ML-TTChithira","Superclarendon Regular","Z@R185D.tmp",".VnPresent","Snell Roundhand","MMa Etc Italic","ADMUI3Lg","Brandon Grotesque Black","Avenir Next Condensed Italic","Circular Std Black","Futura LT Extra Bold Oblique","KanchanOMJ","cmcsc10",".VnCommercial Script","Segoe UI","Mathilde","GangaSagarMJ","Nunito Light","Code39AzaleaRegular3","Code39AzaleaRegular2","MMa Variable","STIXSizeTwoSym-Regular","Arabic Transparent","Kufi Extended Outline","Myriad Pro Bold SemiExtended Italic","Titillium Thin Italic","Aileron Heavy","Noto Serif Lao","Web Serveroff","Gautami","Sauce Code Powerline Bold","Yuanti TC Bold","Noto Sans Bamum","Calisto MT Italic","Myriad Arabic Bold Italic","uni 05","Noto Sans Runic","Sue Ellen Francisco","Hiragino Mincho Pro","GENUINE","FML-TTVarsha","Lucida Grande","Playfair Display SC Black Italic","Avenir Heavy Oblique","GaneshExtraBold","MMa CenturySS Bold","STIXSizeThreeSym-Bold","Kozuka Gothic Pro","KalegongaMJ","Lucida Sans Typewriter Regular","Judson","YuMincho  36p Kana Demibold","FML-TTVisakham","Trade Gothic LT Std Condensed No. 18 Oblique","Myriad Pro Semibold SemiCondensed","Segoe UI Emoji","Ubuntu Mono","Traditional Arabic","ChitraOMJ","DejaVu Sans Mono Bold Oblique for Powerline","Noto Sans Avestan","Piranesi It BT","PrimaSans BT","Mshtakan Oblique","Adamsky SF","Roboto Thin","Reklame Script Regular","Lato Regular","Myriad Arabic","Vollkorn Bold","New Peninim MT Inclined","HGHangle","Desdemona","KievitPro-Regular","Arno Pro Smbd SmText","Rotis Sans Serif Std 55 Regular","SimSun","Gill Sans Bold","Euclid Bold","Charter Black",".VnMysticalH","Rakesly Ul","Vogue-ExtraBold","ITAN","Mishafi Regular",".VnRevue","Mishafi","Old Antic Decorative","Sukhumvit Set Light","Photoshop Small","Pristina","TAU-Kambar","Magic School One","Trajan Pro 3","Corbel","Rage Italic LET","Constantia","Gill Sans MT Condensed","cmfib8","Xirod","Euphemia","Nimbus Sans L","Sacred Geometry","ELANGO-TML-Panchali-Normal","Georgia","Gill Sans MT Bold","Droid Sans Hebrew","CL","MMa Extra SS","HelveticaNeueLT Pro 75 BdOu","FML-TTAswathi","NATURALBORN","Pleasantly Plump","Blackletter686 BT","Bodoni MT Poster Compressed","Yuppy SC Regular","Arno Pro Smbd","Engl","Times New Roman Cyr","Gill Sans MT Bold Italic","Myriad Pro Light SemiCondensed","YuMincho Demibold","Canter Light","Broadway Copyist Text Ext","Marquisette BTN","Nova Cut","Rumburak","PT Bold Heading","TeX Gyre Termes","Dollar","System Font Regular","SWItalc","Noto Sans Devanagari","AV-Font-Hin1","DejaVu Sans Condensed","Huxley Titling","Roboto Bold","Noto Sans Cypriot","HelveticaNeueLT Pro 25 UltLt","Distant Galaxy","Nueva Std Italic","SWItalt","HELTERSKELTER","Adobe Gothic Std","Avenir Next W1G Italic","KacstTitle","Symap","Utsaah","Ancuu","cmmib7","Chaparral Pro Italic","STIXGeneral-BoldItalic","MMNegate Bold Italic","Birch Std","Silom","Futura Light BT","Felix Titling","Leelawadee UI","Proxy 7","Proxy 6","Proxy 5","Proxy 4","Proxy 3","MT Extra Tiger","Proxy 1","Clarendon Hv BT","Lantinghei TC Demibold","Stone Sans ITC TT Bold","Accord SF","Book Antiqua Italic","ML-TTNarmadaExBold","Proxy 9","Proxy 8","Bodoni MT","Bookman Old Style","Futura Medium BT","YuMincho","Lucida Blackletter","Noto Sans Gujarati","Z@R13D5.tmp","Belfast SF","Yu Gothic UI Light","Noto Sans Linear B","kroeger 05","Myriad Pro Semibold Condensed Italic","Futura Condensed ExtraBold","Roboto Regular","Broadway BT","LeviBrush","Verdana Pro Cond Black","Segoe Script","Bebas Neue Light","Yuanti SC","Futura Std Medium Condensed","Diwan Thuluth","EngraverTextH","cmmi10","HelveticaNeueLT Pro 47 LtCn","Verdana Bold Italic","Proxima Nova Rg","Lucida Fax Regular","System Font Medium Italic","Didot Bold","Hack Bold Italic","Segoe UI Light","Lucida Fax","HelveticaNeueLT Std","Segoe WP Semibold","Constantia Bold","Futura LT Medium Oblique","VNI-Univer","TAM-Shree800","EngraverTextT","Baby Kruffy","David Transparent","Calibri","HGSHeiseiMinchotaiW3","Fira Mono Medium for Powerline","Perpetua Titling MT","PT Sans Narrow Bold","header 08","Mesquite Std","HucklebuckJF","MANDELA","KacstArt","MMa Arrow S","Gridnik","Adobe Gurmukhi Bold","Noto Sans Lao","cmsy10orig","Asana Math","Adobe Caslon Pro Semibold Italic",".VnPresentH",".VnClarendonH","Lao MN Bold","Titillium Thin","Vivian","RomanD","ISOCP2","Logo3Mv3tt","MS Gothic","QTOptimum Bold","Baghdad","Cantarell Bold","Myriad Pro SemiExt","American Typewriter Light","Avenir Next W1G Thin Italic","Libian SC","Sitka Small","Noto Sans Saurashtra","Averia Sans","Interstate-Bold","Tw Cen MT Bold","wgl4","Bank Gothic","eusb10","AlekyaThin","Gujarati Sangam MN","HelveticaNeueLT Pro 65 Md","SaiIndira","Gill Sans","IrisUPC","RomanS","MMa CenturyKS Bold Italic","58","VNtimes new roman","MMa Binary Italic","55","Holiday Springs BTN","57","Roboto Mono Thin for Powerline","51","Adobe Gothic Std B","52","HelveticaNeueLT Std Cn","Noto Sans Gurmukhi","PT Mono Bold","Bastion","FML-TTChithira","54","Lohit Tamil","Yellowtail","VNI-Helve","Diwani Simple Outline 2","ML-TTIndulekha","Incised901 Ct BT","Verona","56","Calligraffitti","Eurostile Bold","Rockwell Nova Extra Bold","Gill Sans Italic","Nyala","SF Compact Rounded Regular","System","SWMeteo","GothicI","Chewy","53","Lato Thin","TeX Gyre Bonum","URW Bookman L","Hannotate SC Regular","ElegantIcons","MMa CenturyK Italic","GROBOLD","Bookshelf Symbol 2","PingFang TC Light","Playfair Display SC","Century Schoolbook Bold","Apple SD Gothic Neo UltraLight","Napa SF","cnefonts","STIXIntegralsUp","Corsiva Hebrew Bold","Zapfino Extra LT Ligatures","Stencil Std","Type Embellishments One LET","Iowan Old Style Bold","Lucida Sans Typewriter Bold Oblique","Myriad Pro Regular","Bell Gothic Std Bold","Bodoni 72 Oldstyle Bold","IchamotiOMJ","AV-Font-Ben1","STIXGeneral","Gujarati Sangam MN Bold","Adobe Caslon Pro Semibold","Mallige","VNI-Bazooka","Perpetua Bold","Roboto Condensed Italic","MMa Etc Bold Italic","Avenir Black Oblique","Muli Light Italic","Padauk Book","PT Mono","Museo Sans 300","Browallia New","Code39AzaleaRegular1","STIXSizeOneSym-Bold","MMExtra Italic","Rundkursiv","Times New Roman Bold Italic","Calisto MT","OldDreadfulNo7 BT","Bitstream Vera Serif","Cousine Italic for Powerline","Freehand","Roboto Italic","Droid Serif","Lato Thin Italic","MMCenturyOld","VAGRounded BT","Digital Readout Upright","Noto Sans Glagolitic","Old Antic Outline","Bickham Script Pro 3 Bold","AlternateGothic2 BT","Enliven","Kohinoor Telugu Medium","ESTO","Noto Sans Lisu","Smarty Pants BTN","Syastro","Microsoft JhengHei","WP TypographicSymbols","Kristi","Hoefler Text Ornaments","Courier New CYR","Albany AMT","Granjon Bold","Inconsolata","Sorts Mill Goudy","MMa VariableC S","cmbsy6","Noto Sans Osmanya","Farsi Simple Bold","GreekS","cmbsy7",".VnKoalaH","DhonooOMJ","Niagara Solid","cmbsy8","Euclid Math One Bold","Swiss 721","Ubuntu","GreekC","VNI-Bandit","URW Palladio L","YuMincho  36p Kana","Sanpya","MMa GreekSS","eufm9","AvantGarde Md BT","Weibei TC","Myriad Pro Black SemiExtended Italic","Bebas Neue Book","Menlo Bold Italic","eufm5","Soho Gothic Pro Thin Italic","NBP Informa FiveThree","Noto Serif Armenian","DejaVu Sans Mono Bold for Powerline","Trade Gothic LT Std Oblique",".VnBook-Antiqua","Humanst521 XBd BT","Diavlo Bold","WP CyrillicA","WP CyrillicB","ITF Devanagari Medium","Franklin Gothic Medium","FML-TTChithiraHeavy","ML-TTDevika","Superclarendon Light","balonez fantasia","Sitka Text","Tw Cen MT Condensed Extra Bold","Skia Black","cmbx12","ML-TTKamini","Alegreya Sans SC","Linux Libertine Display G","Italic","PT Sans Bold","Opus Special Extra","Ebrima","Gurmukhi Sangam MN","FML-TTOnam","ML-TTRevathi","Hiragino Mincho Pro W3","BongshaiMJ","Adobe Hebrew","Heiti SC","Optima ExtraBlack","Hiragino Mincho Pro W6","Kundli English","Luminari"," 20","Courier MM Screenwriter Italic","HelveticaNeue MediumCond","Swiss 721 Extended","cmmi8","GFS Didot Classic","Myriad Pro Light Condensed","PoetsenOne","Helvetica Neue Light","monooge 05","cmmi7","cmmi6","cmmi5","Tiger Expert","Latin Modern Mono Caps","Learning Curve Pro","RamuScriptMedium","Source Sans Pro Semibold Italic","cmmib10","KabinLightDB Bold","ParvathiThin","Belwe Bd BT","DV-TTYogesh","Russel Write TT","DINPro-Black","GaneshBlack","Carbon Block","Romantic","Valerie Hand","Harrington Bold","Bauer Bodoni Std 1 Roman","AV-Font-Symbol","Papyrus","Palatino Bold Italic","Nanum Brush Script","Noto Sans Egyptian Hieroglyphs","Paralucent ExtraLight Italic","Proxima Nova Semibold","SF Slapstick Comic Shaded Oblique","Prestige Elite Std Bold","FML-TTVaisali","ITF Devanagari Marathi Medium","Arial Hebrew Scholar","Lohit Gujarati","FML-TTChandrika","Calisto MT Bold Italic","SignPainter-HouseScript Semibold","MS Serif","Nirmala UI","Hiragino Kaku Gothic ProN W6","HelveticaNeueLT Pro 57 Cn","Hiragino Kaku Gothic ProN W3","Skia Light Condensed","LT-ET-Ramya","WenQuanYi Micro Hei Mono","ML-TTAshtamudi","Bank Gothic Light","EngraverFontExtras","Swiss 721 Condensed","PT Sans Caption","Georgia Pro Cond Black","Noto Sans Tifinagh","Latin Modern Roman Demi","News Gothic MT","Open Sans Semibold Italic","Snell Roundhand Bold","VNI-Stylus","GaneshNarrow","Gotham","DhorolaOMJ","Elephant","Seravek Bold","mixtapeMike","Pacifico","Perpetua Bold Italic","Gayathri","MMa Variable Bold","Kannada Sangam MN","croissant sandwich","TSCu","CSongGB18030C-Light","Nixie One","Myriad Pro Black Italic","TG Termes Math","Kaiti TC Regular","0","Bree Serif","C-MediumHWL","YuGothic Medium","System Font Bold Italic G3","ML-TTOnam","Trocchi","Noto Sans Kharoshthi","Gill Sans Nova Cond","Abril Fatface","36p Kana Medium","cmdunh10","Merriweather Bold","MMa Fermat Bold","MMa CenturyK Bold","TitilliumText22L-Thin","TLUrdu","MLB-TTAswathi","Rocket Arabic Fixed","American Typewriter Condensed Light","John Handy LET","Gill Sans SemiBold","Tuyenduc","System Font Semibold Italic","Nexa Thin Italic","MMExtra","VNI-Park","Gen W01 Light","Futura Heavy Oblique","SymbolProp BT","Cantarell Regular","FML-Leela","Avenir Next W1G Heavy","STIXIntegralsUpSm","KalindiMJ","Garamond Premr Pro","msam9","HelveticaNeueLT Std Blk Cn","Lato Hairline","KG Neatly Printed","Proxima Nova Semibold Italic","Gravur Condensed Light","Webdunia","msam7","Times New Roman TUR","msam5","SHELMAN","Banmai Times","Bodoni 72 Oldstyle Book","Dosis","Museo Sans 100","Roboto Slab Regular","Al Nile","Gravity","LT-TM-Barani","Cochin Bold Italic","Opus","ML-TTChithiraHeavy","Rockwell Italic","HanziPen TC Bold","A Sensible Armadillo","Hack Italic","Terminator Two","HelveticaNeueLT Std UltLt Cn","Noto Sans Cuneiform","Yu Mincho Light","Gill Sans MT","News Gothic MT Bold","Avenir Next Regular","Ubuntu Light","Rouge Script","SWLink","Kalinga","ML-TTGuruvayur","Lato Bold","IPAexMincho","Chalkboard Bold","ABSALOM","Sigmar","Museo 500 Regular","Stone Sans ITC TT","Franklin Gothic Medium Cond","Geeza Pro Bold","Ml","Khmer OS","Futura Std Medium","SC","HelveticaNeueLT Std UltLt Ext","Incised901 Nd BT","ML-TTMangalaExBold","Arial Nova Cond","Droid Sans Fallback","Noto Sans Carian","CommercialScript BT","Roboto Condensed","Kokonor Regular","Kievit Offc Pro","Arial Hebrew Scholar Bold","FML-TTGuruvayur","Nexa Black Italic","Garamond Premr Pro Smbd","ML-TTSruthy","WP MathExtendedA","PT Sans Bold Italic","CSongGB18030C-LightHWL","Finale Copyist Text Ext","Kohinoor Bangla Light","eusm6","Sinhala MN","Soho Gothic Pro Regular","Open Sans Bold Italic","eusm5","Herculanum","ML1-TTAswathi","BhagirathiOMJ","PilGi","Adobe Garamond Pro Bold","Titillium","DecoType Naskh Variants","Wawati TC","Kozuka Gothic Pro R","BaluBold","SketchFlow Print","Opus Percussion",".VnTeknical","Sniglet","Noto Sans Hanunoo","Lingoes Unicode","Sketch Block","Lato Semibold","Kozuka Gothic Pro B","Verdana Pro","Kozuka Gothic Pro M","Kozuka Gothic Pro L","Kozuka Gothic Pro H","Bodoni 72","VNI-Swiss-Condense","Book Antiqua","Roboto Mono for Powerline","SF Slapstick Comic Shaded","Mukti Narrow","Baskerville Bold Italic",".VnArial NarrowH","Opus Metronome","Xingkai SC Light","Gotham Bold","Tiger","VNI-Awchon","Accent SF","Baron Neue Italic","Boogaloo","Finale AlphaNotes","Optima Regular","Apple Braille Pinpoint 8 Dot","IPAPMincho","Blackout","Noto Sans Old Turkic","Calibri Italic","SWRomnt","Edwardian Script ITC","MaestroTimes","Open Sans Light","SWRomns","Tsukushi B Round Gothic Bold","NanumMyeongjo Bold","VNI-DesdemonaU","Avenir Next Demi Bold Italic","Telugu Sangam MN","MMSchoolRD Bold","SWRomnc","Baoli SC","Leitura Display Roman","Savoye LET Plain:1.0","DIN-RegularAlternate","Hiragino Kaku Gothic ProN","HeadLineA Regular","Charter","KacstPen","header 17","Hiragino Kaku Gothic Pro W3","Hiragino Maru Gothic ProN","Adobe Naskh","RUMA","Liberation Sans Narrow","Corbel Bold","Noto Sans Tai Le","Valluvan","Soho Gothic Pro Thin","Modena printed","News Gothic MT Alt 5","Avenir Next Condensed Bold Italic","VNI-Centur","Avenir Next Condensed Medium","Palatino Linotype","STIXSizeFourSym-Bold","TAMElango","cmsltt10","Letter Gothic Std Slanted","Noto Sans Coptic","Firenze SF","Six Caps","Fira Mono","MS Mincho","Malayalam Sangam MN","Kohinoor Devanagari Semibold","Rockwell Nova","Chalkboard","Biko","Gurmukhi MN Bold","IguanaLover BTN","Curlz MT","Induction","FML-TTNarmadaExBold","Walter","DokChampa","CAC Champagne","Ubuntu Mono derivative Powerline Italic",".VnVogueH","Myriad Pro Black","cnefont","Helvetica Neue Italic","Onyx","HERMAN","1","standard 07","Myanmar Text","Deepa","Shree Devanagari 714","Balthazar","Klee Demibold","standard 09","Geeza Pro Regular","Cinema Gothic BTN Shadow","PT Simple Bold Ruled","IRIS","Myriad Web Pro Condensed","VNI-Bauhaus","LuzSans-Light","Futura Medium Oblique","Kailasa Bold","Smudger Alts LET","Chiller","VNI-Standout","Noto Sans Thai UI","eurm10","MMa Etc S","Corporate","Detente","Oriya Sangam MN","Adobe Devanagari Bold Italic","Sinhala MN Bold","Linux Biolinum O","HelveticaNeueLT Pro 27 UltLtCn","Jazz LET","Linux Biolinum G","Airstream","AR DECODE","Alien Encounters","VNI-Wide Latin","Tlwg Mono","eurm8","fox in the snow","eurm6","eurm7","Euclid","eurm5","PMingLiU-ExtB","Noto Sans CJK SC","Perpetua Titling MT Light","Swis721 Ex BT","Roboto Mono Thin Italic for Powerline","Garamond Premier Pro","gargi","Futura Light Condensed BT","Museo 700 Regular","Placard MT Condensed","Euro Sign","Persia BT","Circular Std Medium","Nexa Book Italic","Hoefler Text","TakaoPGothic","Dutch 801 Roman","Waverly","ML-TTPeriyar","Trade Gothic LT Std Light Oblique","PT Bold Dusky","Ayuthaya","Tw Cen MT Bold Italic","GentiumAlt","Damascus Regular","Hiragino Mincho ProN W6","Shruti","Devanagari Sangam MN","Hiragino Mincho ProN W3","Z@R1774.tmp","Avenir Next Condensed Medium Italic","Opus Japanese Chords","Noto Sans Thai","Adobe Caslon Pro","Apple Chancery","Kannada MN",".VnVogue","Nobile","New Peninim MT Bold","Meiryo Italic","Roboto Mono Italic for Powerline","GFS Complutum","Verdana Pro Cond SemiBold","Augusta","Lucida Sans","Old Antic Outline Shaded","Harrington","Malayalam Sangam MN Bold","DS Crystal","Purisa","Adobe Hebrew Bold Italic","Iowan Old Style Black","Razer Header Regular","Monospac821 BT","Kohinoor Devanagari","Diwan Kufi Regular","Droid Sans Japanese","Lucida Fax Demibold Italic","Minion Pro Bold Italic","Marion Italic","Raleway ExtraLight","ArhialkhanMJ","Gungsuh","VNI-Souvir","Thonburi","Skia","Kaiti TC","Umpush","Candy Round BTN Cond Lt","ML-TTThunchan","BorhalMJ","PingFang TC Regular","Futura Medium","System Font Semibold","Roboto Slab Bold","Fanwood","Muli Light","Raisin des Sables","DFMaruGothic-Md","Al Bayan Bold","Noto Sans Mongolian","Apple Symbols","Muli Italic","Z@R1828.tmp","Source Sans Pro Bold","NanumGothic","MMRelation Italic","Noto Sans New Tai Lue","RaghuMalayalam","LetterOMatic!","Seravek Light","Baskerville Bold","MMGreek Bold Italic","QumpellkaNo12","GFS Olga","Times Italic","Futura Book BT","Glockenspiel","MS Reference Specialty","KanchanMJ","EngraverFontSet","MMa Binary","BN Jinx","Nova Flat","Yeseva One","Bauer Bodoni Std 1 Bold Italic","Kohinoor Telugu Semibold","TeX Gyre Heros","Georgia Pro Cond SemiBold","MMa Variable2 S","Inconsolata-g for Powerline","Simple Bold Jut Out","JLS Space GothicR NC","Circular Std Medium Italic","ML-TTAparna","Damascus Semi Bold","Opus Roman Chords","MS Dialog Light","MMa Negate","Chaparral Pro Light","Opus Note Names","Symbol Tiger Expert","SWComp","Cooper Std Black","JazzText","Langdon","FML-Mohini","Proxima Nova Regular Italic","Raleway ExtraBold Italic","cmtt12","DejaVu Sans Mono Oblique for Powerline","HUNTSON","Cantho","SWMusic","GENISO","Parchment","STHupo","Pricedown","Geotype TT","schoenecker 10","Photoshop Large","JACKIE","Averia","Granjon Roman","Bookshelf Symbol 7","Code39AzaleaNarrow1","Andong","Code39AzaleaNarrow3","Code39AzaleaNarrow2","Nexa Black","FML-TTPeriyar","Pirate","Formata Medium Condensed","Minerva","Futura LT Book","Kozuka Mincho Pro","LittleLordFontleroy","Tamil Sangam MN","Adobe Song Std L","SWIsop2","SWIsop3","STIXIntegralsSm","SWIsop1","Lao UI","Pothana2000","TAU-Valluvar","FML-TTLeela","BOUTON International Symbols","FontAwesome","Menlo Italic","MMa TextBook","Gothic720 BT","EucrosiaUPC","SF Slapstick Comic Bold","Gabriola","QuickType II Condensed","Bodoni 72 Oldstyle Book Italic",".Vn3DH","HelveticaNeueLT Std Bold Outln","Lohit Punjabi","Kaiti SC Black","HKSCS-ExtB","Modern No","Blackmoor LET Plain:2.0","MMa Century Bold Italic","Code39AzaleaWide3","Code39AzaleaWide2","Code39AzaleaWide1","19","Phatdiem","David","ML-TTAyilyamBold","Avinor","Adobe Devanagari","Al Tarikh Regular","Zolano Sans BTN","Drivebye 2","Drivebye 3","Ultra","Drivebye 1","Drivebye 4","Sneakerhead BTN Shadow","Songti SC Black","Radha","MMa Relation S","Ventilla Script","eufm8","Stone Sans OS ITC TT Bold","GFS Solomos",".VnCentury Schoolbook","Nexa Thin","Bordeaux Roman Bold LET Plain:1.0","Euclid Math Two","EngraverTextNCS","Meiryo Bold Italic","Cooper Std Black Italic","DynameBlackSSK","GaneshThin","LTHYSZK","Noto Sans Hebrew","AnjaliOldLipi","Meslo LG M Regular for Powerline","Silent Reaction","VNI-Free","Montserrat Extra Bold","Avenir Next","Apple Braille Pinpoint 6 Dot","CommercialPi BT","CopprplGoth BT","GJ-TTAvantika","monofur bold for Powerline","Arial (Arabic)","Courier Std","FML-TTSwathyBold","Avenir Oblique","eufm6","SuperFrench","Montserrat","Copperplate Gothic Bold","Gillius ADF No2 Cd","Lantinghei SC Demibold","Gill Sans Nova Light","HGHeiseiMinchotaiW3","Lato Black","Rod Transparent","Malayalam MN Bold","Euclid Fraktur Bold","VNI-Boston Black","ML-TTLeela","INSPECTIONXPERT GDT FRAMES","Bebas Neue Thin","mry","eufm7","SWMap","Proxima Nova Condensed Light","cmbxti10","Nexa Regular","Lucida Bright Demibold Italic","Optima LT Std","Georgia Pro Black","Titillium Semibold Italic","ParkAvenue BT","Franklin Gothic Medium Italic","PujeetaNarrow","Daclac","Xpress Heavy SF","Tibetan Machine Uni","DecoType Naskh Swashes","Arial Narrow","MMa TextBook Bold Italic","Titillium Thin Upright","Roland",".VnCooper","Stephen","Kino MT","HelvLight","Eurostile","Shonar Bangla","Helvetica Neue Thin","Orator Std Slanted","cmvtt10","MMCenturyNew Italic","DIN-Regular","Futura Book Oblique","Hack Regular","Nanum Gothic","SaiMeera","Apple SD Gothic Neo Thin","Source Code Pro ExtraLight","Myriad Pro Light SemiCond","Bank Gothic Medium","Swis721 Blk BT","Cambria Math","ChitraMJ","MS Dialog","Kokonor","ChitraSMJ","monofur for Powerline","Samathwa","Adobe Myungjo Std M","ML-TTVarsha","MMTextBookB Italic","AV-Font-Mal1","VN-NTime","MMa Extra Bold Italic","Paralucent Extra Light","Grand Hotel","MMRelation Bold","NanumMyeongjo","cmssdc10","Z@R183A.tmp","MMa Negate Italic","VNI-Harrington","Kruti Astro","DYMObvba","System Font Heavy","cmtt9","Avenir Next W1G Demi Italic",".VnBook-AntiquaH","La Bamba LET","Rage Italic","MMa Fraktur","Parisian BT","University Roman Alts LET","Lobster","Ideal Sans Book","Lucida Grande Bold","MMa VariableC Bold","MMa Binary Bold","Fixedsys","Adobe Naskh Medium","Vemana2000","Opus Special",".VnSouthern","Swis721 BT","ITF Devanagari Marathi","PT Sans Narrow","FML-TTRohini",".VnMemorandum","Siyam Rupali ANSI","Segoe UI Semilight","Rock Salt","Santa Fe LET Plain:1.0","ParvathiBold","Superclarendon","STIXIntegralsUpD-Regular","Salilam","Canter Bold","FML-TTBeckalBold","STIXIntegralsUp-Regular","MMCenturyNew","Georgia Pro Cond Light","Arial Italic","Nueva Std Bold Condensed","Latin Modern Math","FreeSans","SAS Monospace Bold","Tarzan","STIX","VnTimes","Typewriter","Arial TUR","Urvasi","Meslo LG L Regular for Powerline","Sans","cmr5","ML-TTSuparna","HelveticaNeueLT Pro 35 Th","Lato Medium","Futura Std Bold Condensed","Trade Gothic LT Std Bold Oblique","Thorndale AMT","Sitka Display","Complex","Bobcat","Kaiti TC Bold","Hansen","Rosewood Std","VNI-DOS Sample Font","Noto Sans Tagbanwa","Razer Header Light","MS Sans Serif","Maestro Percussion","Western Bang Bang","Shorelines Script Bold","Myriad Pro Bold Condensed Italic","Kohinoor Telugu Bold","SF Movie Poster","Harlow Solid Italic","Brandon Grotesque Bold","lettau 06","Z@R123A.tmp","Linux Libertine Mono O","Giadinh","Yuanti SC Bold","Rakesly Rg","Accanthis ADF Std No3","HooglyMJ","Nunito","HelveticaNeueLT Std Med","Helvetica Neue Condensed Bold","MMCenturyNew Bold","WP Arabic Sihafa","Archicoco","Realvirtue","MMa VariableA Bold","MMVariableA","Nimbus Roman No9 L","MMVariableC","MMVariableB","64","MMVariableD","66","MMVariableF","68","FML-TTAparna","ML-TTGauriHeavy","Chess Maya","Special Elite","Courier New TUR","Kozuka Mincho Pro L","Minion Pro Bold Cond Italic","VISCII Sample Font","Montserrat Semi Bold","BriLliant","LIVINGWELL","MMa Variable S","VNI-Jamai","FML-TTSabari","Binhlong","AtraiMJ","TeamViewer10","TeamViewer11","Broadway Copyist Text","GoraiMJ","American Typewriter Condensed","HGSHeiseiMinchotaiW9","Seravek Medium Italic","Belwe Cn BT","Abadi MT Condensed Light","Vanilla","WP Greek Helve","Trocchi Bold","Khmer MN","Roboto Condensed Regular","TitilliumText22L-Light","Nexa Bold Italic","cmss9","cmss8","IMG Symbols","ML-TTBhavana","Aldhabi","Weibei SC Bold","MMVariable2","AL Cinderella","Consolas Bold Italic","Monoton","Z@R16FD.tmp","Gill Sans Bold Italic","Khanhoa","MMVariableD Bold","Charter Bold Italic","AnandapatraCMJ","UniversalMath1 BT","Janaranjani","TeamViewer9","Days Regular","Times New Roman CE","Futura Bold Oblique","VNI-Korin","msbm5","HelveticaNeueLT Pro 23 UltLtEx","Spirituality","Sitka Heading","KasseFLF","TeX Gyre Heros Cn","GoudyHandtooled BT","Bebas Neue Bold","Henny Penny","JugantorMJ","Trebuchet MS Bold","Raleway Thin Italic","Lucida Bright Demibold","Prestige Elite Std","HGMinchoL","SonicCutThru Hv BT","BuiltTitlingRg-BoldItalic","Bickham Script Pro 3",".VnBodoni","Jazz","MYingHei","Muna","Lato","Minisystem","BurigangaMJ","Hoefler Text Black Italic","Andale Sans for VST","Diavlo Book",".VnArabia","Big Caslon Medium","Titillium Semibold","Mishafi Gold Regular","Qaskin Black Personal Use","cmssbx10","Oxygen","msbm7","cmmi9","Aileron Light","KacstOffice","Libian SC Regular","IMG Baby","Humanist","Montserrat Hairline","euex9","euex7","Courier 10 Pitch","ML-TTMadhaviExBold","AR DESTINE","Shree-Mal-0502","FML-TTAathira","cmbxsl10","FML-Indulekha","PingFang SC Ultralight","FML-Sruthy","FML-TTGauriHeavy","Adobe Fan Heiti Std B","Avenir Heavy","cmex8","Hiragino Sans GB W6","STIXIntegralsUpD","line10","Futura LT Condensed Bold Oblique","Admisi Display SSi","cmex7","Casual","CASMIRA",".VnLucida sans","STIXGeneral-Regular","Nueva Std Bold Condensed Italic","HGPHeiseiMinchotaiW9","Klee Medium","Accord Heavy SF","MMCenturyOld Italic","STIXNonUnicode-Italic","Fira Mono Bold for Powerline","Hadong","Apple Color Emoji","ML-TTAathira","3ds Light","AR DARLING","Bifurk","Palace Script MT","NanumGothic ExtraBold","Baghdad Regular","FML-TTThunchan","Vodafone Rg","GFS Neohellenic","Quicksand","Times New Roman Bold","PingFang TC Medium","Technic","Adobe Kaiti Std R","HGPHeiseiMinchotaiW3","Gen W01","HelveticaNeueLT Std Lt Ext",".VnPark","Avenir Next W1G Bold Italic","Roboto Black","New Renex Special Graphics","Brush Script Std","Segoe UI Historic","DejaVu Sans","Krungthep","ML-TTKala","Kohinoor Devanagari Demi","VNI-Hobo","GangaMJ","FML-TTRevathi","Sauce Code Powerline Semibold","Open Sans Bold","WP MultinationalA Courier","MMa CenturySS Bold Italic","Kohinoor Telugu","Bodoni 72 Smallcaps","VNI-StageCoach","HanziPen TC Regular","Agency FB","Reginet","Helvetica Neue Medium Italic","Helvetica Neue Condensed Black","ML-TTAnakha","Yuanti TC Light","65","Avenir Next Bold Italic","GF Zemen Unicode","Ice kingdom","Santa Fe LET","Gotham Narrow Book","Army","Latin Modern Sans Quotation","Moonbeam","67","Microsoft YaHei UI Light","Bell MT Italic","Myriad Arabic Bold","Lohit Bengali","Lato Hairline Italic","AppleGothic","Titan One","Lantinghei SC","Myriad Pro Black Condensed","Orator Std Medium","Kozuka Gothic Pro EL","Hollywood Hills","Tekton Pro Cond","Franklin Gothic Book Italic","ANDROID ROBOT","Diwan Kufi","Dutch801 Rm BT","future","Divya","Tlwg Typo","Xingkai SC","Open Sans","SutonnyMJ","Source Code Pro Semibold","Neo Sans Pro Light","FML-TTMalavika","Proxima Nova Condensed","Myriad Pro Black SemiExtended","cmtt8","Paralucent Demi Bold","3M Circular TT Light","VNI-Tubes","HelveticaNeueLT Pro 37 ThCn","Farah Regular","VNI-Duff","cmmib6","ML-TTChandrika","Amatic","Khalid Art bold","cmmib8","cmmib9","Ela Sans Light Caps","SF Compact Rounded Ultralight","Malgun Gothic Semilight","Latienne Pro Italic","Cortoba","Paralucent Heavy","VNI-Lithos","Shree-Tel-0900","MMGreek Italic","FML-TTJyothy","HelveticaNeueLT Pro 43 LtEx","Leitura Display Italic","Ostrich Sans",".VnBahamasB","Gill Sans UltraBold","FML-Padmanabha","Myriad Pro Light","PT Serif Italic","MMBinary Bold","Autumn","STIXVariants-Regular","Archive","Math3","Math2","Math1","FML-TTSarada","Euclid Math One","Futura LT Condensed Medium Oblique","Math4","Franklin Gothic Book","AR CARTER","Xpress SF","System Font Light","Literation Mono Powerline Bold Italic","Lato Semibold Italic","SymbolMono BT","HGPHeiseiKakugothictaiW5","HGPHeiseiKakugothictaiW3","Waree","PingFang TC Thin","Myriad Pro Black Cond","Adobe Heiti Std R","Learning Curve Dashed Pro","Smokum","Noto Sans Yi","HelveticaNeueLT Std Thin Cn","Mesquite Std Medium","Blackoak Std","kroeger 07","ML-TTNanditha","cmssi12","Avenir Medium","MS PGothic","Droid Sans","Finale Copyist Text","Merriweather UltraBold Italic","Kohinoor Devanagari Book","Reklame Script Black","System Font Regular G1","Sabrina","System Font Regular G3","System Font Regular G2","Arial Symbol","Lantinghei TC Extralight","cmbsy9","Kozuka Gothic Pr6N","Georgia Pro Light","Mangal","PT Bold Arch","JasmineUPC","Phosphate",".VnTifani Heavy","MMa CenturyKS","Logo3Mtt","STHeiti","MMNegate","AV-Web-Tel1","Opus Text","PingFang HK Thin","Century","Playfair Display SC Bold","Standard Symbols L","BhagirathiMJ","Bowlby One SC","mono 08","cmti7","DigifaceWide","PujeetaSpecial","Avenir Next W1G Medium Italic","Iowan Old Style Bold Italic","Italic Outline Art","cmu10","MMa Negate SS","Serifa Bold","mono 07","Dyuthi","Sauce Code Powerline ExtraLight","ae","kroeger 04","MMRelation","Arno Pro Smbd Display","MMRelation Bold Italic","Microsoft YaHei UI","Lucida Sans Regular","FML-TTThiruvathira","FREH","Nova Round","18030","SWGreks","PingFang SC Semibold","Adobe Heiti Std","Staccato222 BT","IDAutomationPDF417n4","cmssq8","Zapfino Extra LT Four","Verdana Pro Light","Euclid Fraktur","FlemishScript BT","AV-Font-Sin1","Monospace","Gotham Black Italic","Madre Script","Droid Sans Mono","TMBW-TTValluvar","cafeta","AR JULIAN","cmtex10","Oriya MN Bold","Buxton Sketch","HelveticaNeueLT Pro 45 Lt","Minion Pro Bold Cond","LiHei Pro","Raleway Light",".VnKoala","System Font Light Italic","Kiran","MingLiU-ExtB","Nueva Std Condensed Italic","Proxima Nova Soft Semibold","Circular Std Book","Beirut Regular","HelveticaNeueLT Pro 55 Roman","AR DELANEY","Candles","Lucida Sans Demibold Italic","Myriad Pro Bold Italic","Seravek Italic","Old English","Uttara","Formal436 BT","Latin Modern Roman Slanted","AcadEref","Soho Gothic Pro Light","Corbel Italic","Modern","Z@R277C.tmp","Microsoft JhengHei UI","Lato Heavy Italic","Comic Sans MS","Trade Gothic LT Std Light","Westwood LET","Old Antic Bold","Futura Std Heavy","DaunPenh","Euclid Symbol Italic","Noteworthy Bold","MMa CenturyKSS Bold","Year supply of fairy cakes","SutonnyOMJ","Open Sans Extrabold Italic","Tekton Pro Bold Condensed","Chancery Cursive","Quincho Script PERSONAL USE","Modern Antiqua","Verdana","System Font Thin","Merriweather Bold Italic","Gisha","Chaparral Pro Light Italic","MMa CenturyKS Bold","BolsterBold","AVGmdBU","Cir Arial","Lithos Pro Black","Papyrus Condensed","Seravek Medium","Chalkduster","Noto Sans CJK TC","MMa Greek Bold Italic","HeadLineA","MMVariableA Bold","Times New Roman Italic","Garuda","Permanent Marker","Yu Gothic UI Semilight","Myriad Pro Black SemiCondensed","Apple SD GothicNeo ExtraBold","Norasi","Arial Nova Light","PondFreeBoss","Avenir Light Oblique","Alice and the Wicked Monster","AvantGarde Bk BT","Arno Pro SmText","GungSeo","ori1Uni","HelveticaNeueLT Std Blk","DIN-LightAlternate","MMa CenturyKSS","MMa Relation SS","Andalus","VNI-Zap","BN Machine","Segoe MDL2 Assets","Rotis Sans Serif Std 45 Light",".VnGothicH","Proxima Nova Bold Italic","SAF","Futura Light Italic BT","Vivaldi",".VnCourier","Khmer Sangam MN","BorakOMJ","Roboto Mono Light Italic for Powerline","ML-TTTheyyam","Avenir Next Condensed Heavy Italic","Caladea","Noto Serif Georgian","Charlemagne Std Bold","HGHeiseiKakugothictaiW5","HGHeiseiKakugothictaiW3","BerlingRoman","Nadeem","Source Sans Pro Light Italic","Helvetica Neue UltraLight","stmary10","Impact","Sketch Match","Songti TC","Square721 BT","MMa VariableA SS","AV-Font-Guj1","Georgia Pro","DhorolaMJ","Yuanti SC Regular","Roboto Mono Light for Powerline","Poplar Std Black","Futura Light Oblique","Hypatia Sans Pro ExtraLight","ISOCPEUR","Alternate Gothic No2 D","Gillius ADF","copy 10","Noto Sans Ugaritic","Yuanti TC","Charlemagne Std","Reswysokr","ML-TTNila","Pamela want a Bike to Ride","Museo 100 Regular","Montserrat Ultra Light","System Font Bold G3","System Font Bold G2","System Font Bold G1","ChandrabatiMatraMJ","MingLiU","Noto Sans Tamil","NeueHaasGroteskText Pro","Savoye LET Plain CC.:1.0","classic 10","Droid Sans Georgian","Merriweather Regular","MMa Etc SS","Devanagari Sangam MN Bold","STIXSizeFiveSym","Proxy 2","MMEtc","SOLIDWORKS GDT","Superclarendon Italic","Sakkal Majalla","TextilePiEF","MMa Variable2","Songti TC Bold","STIXIntegralsD","Monotype Koufi","DIN Condensed","Noto Sans Tamil UI","Arial Baltic","Terminal Greek 869","Chess Berlin","System Font UltraLight","Microsoft YaHei Light","AR Sans Serif","FML-TTNalini","Noto Sans NKo","Joan","Adobe Fan Heiti Std","RomanC","MMa Arrow Bold","Verdana Pro Cond Light","Kannada Sangam MN Bold","Museo Sans 500","Bitstream Vera Sans","STIXSizeFiveSym-Regular","Mistral","CloisterBlack BT","DhakarchithiMJ","Latin Modern Sans Demi Cond","Czec","GothicE","IMG Extreme","WST","RomanT","Adobe Arabic Bold Italic","DINPro-Bold","Century Schoolbook Bold Italic",".VnBlack","VNI-Fillmore","Noto Sans Old Persian","Dutch801 XBd BT",".VnArial Narrow","Sathu","Avenir Next Medium Italic","Lato Heavy","MMVariableC Bold","Simple Indust Shaded","RowdyHeavy","Flamenco","PanRoman","Gotham Narrow Extra Light Italic","OLF SimpleSansOC","Folio XBd BT","Roman Mono","System Font Bold Italic G1","Sinhala Sangam MN Bold","Cataneo BT","System Font Bold Italic G2","Soho Gothic Pro ExtraBold It","Oriya Sangam MN Bold","JUSTICE","MMa Greek Italic","Gotham Medium","Arno Pro Light Display","Ezra SIL SR","Kokila","SD-TTSurekh","GrilledCheese BTN","Kannada MN Bold","Heiti SC Medium","Avenir Next W1G Heavy Italic","PT Serif Caption","Hiragino Maru Gothic Pro","Monotype Sorts 2","Myriad Pro Black SemiCond","Swis721 BlkEx BT","Tsukushi A Round Gothic","Futura LT Extra Bold","Titillium Regular Italic","French Script MT","Tw Cen MT","KacstDecorative","Lucida Sans Typewriter Oblique","Impregnable Personal Use Only","MMNegate Italic","Whimsy TT","Chess Marroquin","NBP Informa FiveSix","Lucida Sans Demibold Roman","msbm10","Gill Sans Nova Ultra Bold","copy 09","Blackmoor LET","Castellar","IPAMincho","MMa VariableB Bold","Superclarendon Bold","Titillium Black","Avenir","Lucida Sans Typewriter Bold","BrowalliaUPC","Steppes TT","VNI Cambodia","Kefa Bold","Helvetica Light Oblique","Avenir Next W1G Ultra Light Italic","JazzCord","Symbol Neu for Powerline","Emily Austin","Avenir Light","Tiranti Solid LET","Myriad Hebrew Italic","Monotype Corsiva","cmitt10","DhanshirhiOMJ","KacstDigital","kawoszeh","Cut Me Out 2","Cut Me Out 3","Myriad Pro Bold Condensed","boot","Fredericka the Great","Symusic","balonez fantasia br","Bitstream Vera Sans Mono","Devanagari MT","Noto Sans UI","Myriad Pro Semibold Italic","Noto Sans Vai","Razer Header Regular Oblique","Dot","Swed","ScriptKleio","Gillius ADF No2","Myriad Pro Bold SemiExtended","Prema","ConcursoItalian BTN","Pricedown Bl","Lantinghei SC Extralight","GillSans-Bold","Urdu Naskh Asiatype","Glegoo","Kohinoor Devanagari Bold","Vollkorn Regular","AngsanaUPC","Apple Casual","Freehand575 BT","PingFang SC Regular","Aharoni","Medlin","MMa Relation Bold","Arial","FML-TTAnjali","RADAGUND","Noto Sans Mandaic","Marion Regular","cminch","Seagull APL","Nueva Std","Pamela wants to Ride","Monotxt","cmtt10","TRENDY","Alex Brush","Playfair Display SC Italic","STIXIntegralsUpD-Bold","DecoType Naskh","Muli","Marker Felt Wide","Klee","PUPPYLIKE","Accanthis ADF Std No2","Cooper Std","Meslo LG L DZ Regular for Powerline","Droid Arabic Naskh","ITF Devanagari Demi","Verdana Pro SemiBold","Kalyani","Futura Md BT","Latino Elongated LET Plain:1.0","Brussels","Nasalization","Thonburi Bold","Kohinoor Devanagari Medium","Loma","Noto Sans Rejang","Typewriter Bold","Zapfino Extra LT One","Futura Heavy","Origin","Euclid Symbol Bold Italic","Gotham Narrow Bold Italic","smart watch","PFDaVinciScriptPro-Inked","Odessa LET","KG Fall For You","FMLTTAathira","MMNegate Bold","Gotham Thin","Cousine Bold for Powerline","Courier New Bold","Cracked","Arial Bold","GoomtiMJ","PingFang SC","Minion Pro Semibold Italic","VNI-WIN Sample Font","LA Headlights BTN","Moon Flower","VNI-Couri","Segoe WP Light","lcmssi8","Carlito","Eras Bold ITC","Proxima Nova Light","Oswald","Abel","Doulos SIL","Sanskrit","BRADDON","MMa Binary Bold Italic",".VnStamp","Raleway ExtraBold","VNI-Vari","DhakarchithiOMJ","Narkisim","Arno Pro Subhead","monoeger 05","Lithos Pro","Noto Sans CJK KR","Arial Black","Gigi","FML-TTVeenaHeavy","JaJaDiMJ","Supernatural Knight","Garamond Premier Pro Semibold","Didot","MMa Relation Italic","IDAutomationPDF417n3","Source Sans Pro ExtraLight Italic","STZhongsong","NSimSun","JuneBug","Candy Round BTN Lt","Georgia Bold Italic","BauerBodni BT","ML-TTRavivarma","Yu Gothic Light","monofur italic for Powerline","Webdings","Courier MM Screenwriter BoldIt","STXinwei","PenultimateLightItal","3 of 9 Barcode","Rockwell Nova Cond Light","Laila Medium","FML-TTSurya","Shree Devanagari 714 Bold","Metamorphous","Mekanik LET","Serif","Verdana Pro Black","ML1-TTAmbili","Lucida Handwriting Italic","Apple Braille Outline 8 Dot","Courier New Baltic","Euclid Italic","Opus Figured Bass Extras","Latin Modern Roman Unslanted","VNI-Allegie","Comic Sans MS Bold","Nina","ML-TTMalavika","18thCentury","PhrasticMedium","Amatic SC","Canter Bold 3D","Swis721 BlkCn BT","KalegongaOMJ","Nirmala UI Semilight","Lato Light","ISABELLE","Courier","Linux Libertine G","copy 08","Kedage","Raleway Light Italic",".VnLinus","Roboto Medium","Lithos Pro Regular","STIXNonUnicode-Regular","eufb9","eufb8","MARKETPRO","Skia Black Condensed","eufb7","eufb6","eufb5","VnTimes2","SWMath","Bamini","Anonymice Powerline Bold","Sukhumvit Set Thin","STFangsong","ML-TTAtchu","Cochin Italic","hooge 06","hooge 04","hooge 05","Tw Cen MT Italic","MMTimes Bold","IPAGothic","PingFang TC Ultralight","Copperplate Light","Consolas Italic","Kohinoor Telugu Light","TAU-Barathi","STIXIntegralsUpSm-Regular","FML-TTKeerthi","Vrinda","eurb6","KalindiOMJ","Blade Runner Movie Font","Source Sans Pro Bold Italic","TAC-Barathi","Adobe Ming Std L","PingFang SC Light","MMa Gauss","kor","MMa Variable2 Bold","Yu Gothic Medium","Tw Cen MT Condensed","Damascus Medium","Sugarskin BTN","QTOptimum Regular","Tekton Pro Bold Oblique","Adobe Fangsong Std R","italic 08","Sana Regular","MMa Century Bold","DIN Condensed Bold","(AH) Manal Black","Wolf in the City Light","Scriptina","Skinny","FML-TTNanditha","eusb9","Kalpurush ANSI","Canter Bold Strips","AdineKirnberg-Script","Minion Pro Semibold","Copperplate Bold","Trebuchet MS Italic","Myriad Hebrew Bold Italic","Hand Me Down S (BRK)","Latha",".VnMonotype corsivaH","VNI-Slogan","STIXSizeTwoSym","Thonburi Light","Consolas Bold","Orange LET","Candara Bold Italic","Gotham Light Italic","Trade Gothic LT Std Extended","Starliner BTN","NixieOneRegular",".VnAristoteH","chs","Rockwell Condensed","ML-TTSarada","Map Symbols","DejaVu Sans Mono","Telugu Sangam MN Bold","Courier New Bold Italic","Gotham Narrow Ultra","Victorian LET","Architects Daughter","MS Reference 1","ML-TTNalini","MS Reference 2","Dynalight","Baskerville Old Face","Optima Bold Italic","SimSun-ExtB","Vladimir Script","Hiragino Sans GB W3","Rockwell","63","Skia Black Extended","Helvetica Neue UltraLight Italic","Dominican","Futura LT Bold Oblique","Franklin Gothic Heavy","Cooper Black","Baskerville Italic","Open Sans Condensed","TAU-Kaveri","MMa Variable SS","Helvetica Neue Thin Italic","Arno Pro Display","MMa Negate Bold Italic","Xingkai SC Bold","Montserrat Light","cmti9","TAC-Kabilar","cmssi9","Roboto Condensed Light","cmssi8","Tunga","STIXVariants-Bold","SWGDT","Arabic Typesetting","SAS Monospace","Martina","Myriad Pro Light SemiCondensed Italic","Raavi","MMTimes","VNI-Dur","TitilliumText22L-XBold","FML-TTVinay","Titillium Light Upright","Savoye LET Plain CC","Bangkok Cirilica","Mongolian Baiti","Iowan Old Style","MMArrow Bold","Cairo SF","Arno Pro Smbd Subhead","Formata Light Condensed","PingFang HK Medium","Cousine for Powerline","Arial Nova","Stez Sans","FML-LeelaHeavy","Century Gothic Bold Italic","Mytho","STIXIntegralsD-Bold","cmsl9","Al Nile Bold","SWIsot3","Great Vibes","System Font Italic G2","System Font Italic G3","System Font Italic G1","BlackJackRegular","Quicksand Light","ZWAdobeF","Hypatia Sans Pro","Noto Sans Mono CJK SC","Nueva Std Condensed","SemiBold","Avenir Next Condensed Ultra Light","Athelas Bold Italic","MMa TextBook Italic","ML-TTKarthika","Swis721 Hv BT","AS-TTDurga","Clear Sans","Led Italic Font","Seravek","Dirty Headline","Lucida Fax Italic","Apple SD Gothic Neo Heavy","Roboto Mono Medium Italic for Powerline","Droid Sans Armenian","Hiragino Maru Gothic Pro W4","AlekyaBold","STIXGeneral-Bold","Candara","Tekton Pro","QuickType II","Fixed Miriam Transparent","Latienne Pro Bold Italic","cmbsy10","ABIGAIL","Latin Modern Mono Light","Bodoni 72 Book","Cinzel","Monaco","Kozuka Gothic Pr6N M","Kozuka Gothic Pr6N L","msam8","PAINTSTROKE","ML-TTRohini","Kozuka Gothic Pr6N H","Fingerpop","TRIAL","SWGothg","SWGothe","SWGothi","BacktalkSerif BTN","Courier New","MLU-Panini","Marion","Zapfino Extra LT Two","News Gothic MT Alt 4","Miriam Transparent","Copperplate Gothic Light","BankGothic Md BT","MS SystemEx","Proxima Nova Condensed Semibold","YuMincho  36p Kana Medium","Microsoft New Tai Lue","SF Slapstick Comic",".VnExoticH","Baron Neue Bold Italic","Swis721 LtEx BT","PilGi Regular","PT Bold Stars","Chalkboard SE Light","ThoolikaUnicode","Muna Regular","Nueva Std Bold","Roboto Slab Light","Khmer OS System","NanumMyeongjo ExtraBold","Noto Sans Devanagari UI","Centaur","IM FELL DW Pica","Cambria","Castro Script PERSONAL USE ONLY","JF Armenian Serif","MMCenturyNewRD Italic","AppleMyungjo Regular","PingFang SC Medium","Futura LT Condensed Extra Bold","Noto Sans Old Italic","Bradley Hand Bold","Al Bayan Plain","STIXSizeOneSym-Regular","MMa CenturySS Italic","News Gothic MT Italic","Gotham Extra Light Italic","Wawati SC","KB Vibrocentric","Anonymice Powerline","Harry P","Sana","Heiti TC Medium","News Gothic MT Alt 1","DYMO Symbols","Futura LT Heavy","cmss17","ML-TTGopika","Symbola","Yuppy SC","ADMUI2Sm","Meiryo","Woodcut","cmss10","OCR-A BT","STIXSizeThreeSym","Roboto Thin Italic","AR CENA","Iowan Old Style Roman","TlwgTypewriter","Baclieu","Optima Bold","Hannotate TC Bold","Adobe Hebrew Bold","Gurmukhi Sangam MN Bold","X-Files","Microsoft Uighur",".VnExotic","Trade Gothic LT Std Bold","BankGothic Lt BT","Lucida Sans Typewriter","MisterEarl BT","Parry Hotter","Mshtakan","Baron Neue","FML-TTAshtamudiExBold","VNI-Present","Hoefler Text Black","News Gothic MT Alt 3","Verlag Book","VNI Helve","Lucida Bright Italic","Cabin","Math1Mono","MMa GreekSS Italic","TL-TTHemalatha","Alibi","Roboto","Bell Gothic Std Black","Lexia","Proxima Nova Soft Regular","Vollkorn Italic","ChandrabatiSushreeMJ","Diwani Outline Shaded","News Cycle","Apple SD Gothic Neo SemiBold","Arial CE","Z@R1816.tmp","SamsungImaginationBold","Charter Bold","Canter Outline","Day Roman","ML-TTVinay","YuCiril Helvetica","Brush Script","Sorts Mill Goudy Italic","Simple Indust Outline","36p Kana Demibold","Latin Modern Roman Caps","Mayence Premium","Granjon Italic","Aparajita","Noto Sans Syloti Nagri","Highlight LET","Ferro Rosso","Hypatia Sans Pro Light","Hei Medium","ITF Devanagari Light","MS UI Gothic","OCR A Extended","VNI-Ariston","SWSimp","Holiday Springs BTN Quill","WP MathExtendedB","FML-TTGeethika","Eras Demi ITC","Verdana Pro Cond","Bordeaux Roman Bold LET","Voyager NBP","Goudy Old Style Italic","Oswald Regular","Giddyup Std","Harvest","Helvetica Neue Medium","Paralucent Medium","Times New Roman Uni","MMCenturyOld Bold","Ubuntu Mono derivative Powerline Bold Italic","Clarendon Lt BT","Emma Script Mvb","Raleway Medium Italic","Gotham Extra Light","Stone Sans Sem ITC TT SemiIta","Menlo Bold","FZLanTingHeiS-UL-GB","MMa Binary S","Constantia Bold Italic","jpn","Myanmar MN","MMCenturyOldGreek Bold Italic","AGA Arabesque","Inconsolata for Powerline","Maestro","Avenir Next Condensed Bold","PT Serif","Kozuka Gothic Pr6N EL","Myriad Pro SemiExtended","Source Code Pro Light","cmbx10","Bernard MT Condensed","Teen","Baiduan Number","AnticFont","Andale Mono","CordiaUPC","Hobo Std","Caviar Dreams Italic","Math4Mono","ceriph 05","Gentium Basic","ceriph 07","Heather BTN","MMVariableB Bold","FML-Akhila","Bradley Hand","Cookie","AR HERMANN","eusb8","MMa Fraktur Bold","Soho Gothic Pro Bold","Kozuka Mincho Pro R","PN-TTAmar","eusb6","eusb7","ML-TTSwathyBold","Roboto Light","Cochin Bold","Symeteo","VNI-Internet Mail","MMa Greek Bold","Kozuka Mincho Pro B","Kozuka Mincho Pro M","Bodoni 72 Smallcaps Book","ZDingbats","Proxima Nova Condensed Regular Italic","Kozuka Mincho Pro H","Superclarendon Light Italic","CountryBlueprint","MMGreek","Juice ITC","TanglewoodTales","MMa Greek","MMEtc Bold","Noto Sans CJK JP","HelveticaNeueLT Std Lt","Apple SD Gothic Neo Medium","Microsoft JhengHei UI Light","Broadway Copyist Perc","Handwriting - Dakota","PCMyungjo","AIGDT","Helvetica Neue Light Italic","Museo Sans 500 Italic","Oriya MN","Arial Unicode MS","MMa VariableC SS","Roboto Condensed Bold Italic","Circular Std Bold","GaneshMedium","Finale Percussion","Titillium Light","Arkhip","Al Bayan","PingFang HK Semibold","SAPIcons","Noto Sans Samaritan","Dancing Script OT","ELLIS","Museo Sans 700","Limousine","SF Slapstick Comic Oblique","Sukhumvit Set",".VnUniverse","Franklin Gothic Demi Cond","KarnaphuliOMJ","DFKGothic-Md","Monika Italic","VNI-Meli","MV Boli","TeX Gyre Schola","Finger Paint","Meslo LG M DZ Regular for Powerline","TURK","Noto Sans Limbu","Arimo Italic for Powerline","SPAN","KG Part of Me","Hiragino Kaku Gothic Pro","No Flash","Zolano Serif BTN","DIN Alternate Bold","Nanum Pen Script","Proxima Nova Lt","Commons","Lato Light Italic","Raleway Black Italic","Maiden Orange","Lato Bold Italic","PondFreeMe","Latin Modern Mono Light Cond","Myriad Pro Light Cond","Baron Neue Bold","Malayalam MN","Mshtakan Bold",".VnAvant","MMa VariableD S","Merriweather UltraBold","ITF Devanagari Marathi Book","Raleway Thin","Amudham","MMCenturyNewRD Bold Italic","DIN-Bold","Miriam Fixed","Roboto Mono Bold for Powerline","SaiSai","Symbol MT","Virtual DJ","FML-TTRavivarma",".VnArabiaH","FML-TTSruthy","HaldaOMJ","JazzPerc","Gotham Narrow Medium Italic","Avenir Black","Kalpurush","eufb10","Raleway","Arial Bold Italic","Sinhala Sangam MN","Inconsolata-dz for Powerline","Hiragino Kaku Gothic StdN","Lobster Two","QuickType II Mono","Nova Square","MMa CenturyK Bold Italic","Roboto Slab Thin","Lucida Sans Unicode","Coaster Shadow","Skia Light Extended","Skia Regular","Chipotle","Thorndale for VST","TeX Gyre Adventor","SERB","Simplex","Amiri Quran","Ubuntu Mono derivative Powerline Bold","Songti TC Light","One Stroke Script LET","Clarendon Blk BT","Poiret One","Source Code Pro","Fascinate","GrilledCheese BTN Wide Blk","AV-Font-Tam1","SWRomnd","Times","Noto Sans Ol Chiki","Source Code Pro Medium","HooglyOMJ","Gazzarelli","One Dance Bold","Myriad Pro Light SemiExtended","Math5Mono","Raleway ExtraLight Italic","VNI-Maria","Gotham Narrow Book Italic","Roboto Black Italic","Tekton Pro Bold Extended","Titillium Regular Upright","FML-TTGauri","Stencil Std Bold","Note this","Bebas Neue Regular","Rod","VNI-Times","cmsy9","cmsy8","Just Another Hand","lcirclew10","INSPECTIONXPERT GDT NOFRMS","Accord Light SF","MMa VariableA","Z@R170E.tmp","cmsy5","New Peninim MT","LuzSans-Book","cmsy6","CATIA Symbols","Bauer Bodoni Std 1 Bold","Z@R184B.tmp","Trebuchet MS","Sukhumvit Set Text","Tsukushi B Round Gothic Regular","HP Simplified","Waseem","HelveticaNeueLT Pro 67 MdCn","Hiragino Kaku Gothic Std","Phosphate Inline","PondFreeZoo","Arial Narrow Bold Italic","Kailasa Regular","ML-TTThiruvathira","FML-TTKala","GiovanniITCTT","Stone Sans Sem OS ITCTT SemiIta","Arimo","Trade Gothic LT Std Bold No. 2","Source Sans Pro ExtraLight","Soho Gothic Pro Medium Italic","Milano LET","WP BoxDrawing","Titillium Light Italic","Open Sans Light Italic","FML-Revathi","Kartika","Chalkboard SE Bold","Bickham Script Pro Semibold","MMCenturyOld Bold Italic","FML-TTKarthika","Unknown Caller BTN SC","Paralucent Heavy Italic","MMArrow Italic","PMingLiU","Gotham Narrow Thin Italic","Andale Mono IPA","DecoType Thuluth","04b","Urdu Typesetting",".VnFree","URW Chancery L","Apple SD Gothic Neo Bold","Noto Sans Tagalog","PingFang TC Semibold","FML-TTAtchu","PR Celtic Narrow","Abyssinica SIL","JaneAusten","TAMILNET","Jokerman","GDT","Dosis Light","Adobe Garamond Pro Bold Italic","Devanagari MT Bold","Arial CYR","MMa Extra","Poor Richard","Weibei SC","Existence Light","Lucida Bright","Tahoma","Microsoft Yi Baiti","IchamotiMJ","HKSCS","KG Shake it Off Chunky","Gadugi","WP Greek Courier","Comic Relief","KacstFarsi","PT Separated Baloon","Siyam Rupali","ScriptC","MMSchoolRD Bold Italic","SWTxt","DejaVu Sans Mono for Powerline","FML-TTTheyyam","Berlin Sans FB","Terminal","HGP-AGothic2-Latin1K","Blackadder ITC","ScriptS",".VnCourier NewH","Arno Pro Smbd Caption","Kristen ITC","CLARENCE","Source Serif Pro","OPENCLASSIC","OLIVEOIL","YuGothic Bold","LCD","KasseFLF-Bold","HelveticaNeueLT Std Thin Ext","CZEC","3M Circular TT Book","Bold Italic Art","Goudy Old Style","ChunkFive Roman","Redressed","Chess Alpha","Myriad Pro Black SemiCondensed Italic","Jameel Noori Nastaleeq","Master Of Break","Smudger LET","Kinnari","Apple SD Gothic Neo Light","Bellota","Helvetica Bold Oblique","cmssi17","Emmett","CabinSketch","Songti SC","cmex10","cmssi10","Angiang","SF Compact Rounded","Meslo LG S Regular for Powerline","ItalicT","SaiEmbed","Museo 900 Regular","Heiti TC","Futura LT Light Oblique","Iowan Old Style Italic","VNI-Aptima","Gotham Narrow Extra Light",".VnBodoniH","MMVariable Bold","MMArrow Bold Italic","Fluffy Slacks BTN","Gotham Narrow Thin","QuickType II Pi","lcmssb8","ItalicC","WP Hebrew David","Darlin BTN","Skia Extended","SF Compact Rounded Light","Splash","ML-TTSurya","Warsaw","Noto Sans Ogham","DhanshirhiMJ","MMa Etc","Kunstler Script","Brush Script Std Medium","Seravek Light Italic","Kaiti SC Regular","Myriad Pro SemiCondensed Italic","Futura Book Italic BT","JF Georgian Contrast","Songti SC Light","AV-Web-Hin1","Mudir MT","BuiltTitlingRg-Bold","Gocong","Arial Cyr","Corsiva Hebrew","Bickham Script Pro Regular","VNI-Coronet","BlairMdITC TT","FML-TTThakazhi","ITF Devanagari Marathi Bold","Courier MM Screenwriter","WenQuanYi Micro Hei","Kumudam","Stone Sans Sem OS ITC TT Semi","WP MultinationalB Roman","cmex9","Rakesly Bk","Times Roman","HanziPen SC Regular","Press Start 2P","Myriad Hebrew","Wide Latin","Raleway Medium","Futura Book","American Typewriter Bold","Hiragino Kaku Gothic Pro W6","MMa Arrow SS","HelveticaNeueLT Std Thin","HelveticaNeueLT Std Ext","KacstPoster","HanziPen SC Bold","Colbert","Proxima Nova Soft Bold","Calvin","Iowan Old Style Titling","MMa VariableF","Kozuka Mincho Pro EL","MMa VariableD","Galeforce BTN","MMa VariableB","MMa VariableC","Minion Pro Medium","Damascus Light","KacstQurn","Raleway SemiBold","Book Antiqua Bold Italic","Uncial Antiqua","Diwani Simple Outline","BrahmaputraMJ","SWIsot2","Gotham Ultra","Broadway Copyist","Osaka","VNI-Vivi","Meiryo Bold","Segoe WP SemiLight","STIX Math","SWIsot1","VNI-ShellaL","STIXIntegralsD-Regular","STIXSizeThreeSym-Regular","lcmss8","Neon Lights","Z@R16EB.tmp","ML-TTLeelaHeavy","ParvathiMedium","Clarendon","Amethyst","EQUIS","System Font Black","ITF Devanagari Bold","Lao Sangam MN","PT Serif Bold","Snap ITC","Inder","PT Bold Mirror","OCR-B 10 BT","MMVariable","VANAVIL-Avvaiyar","Arial Rounded MT Bold","ISOCT2","Dosis ExtraBold","Chaparral Pro Bold Italic","MMTextBookB Bold Italic","Times New Roman Symbol","VNI-Dom","HelveticaNeueLT Pro 95 Blk","Baoli SC Regular","BurigangaOMJ","Avenir Next Condensed Ultra Light Italic","Letter Gothic Std","JLS Data GothicR  NC","Roboto Medium Italic","Titillium Bold","Bookman Old Style Bold Italic","Myriad Pro Semi bold","ISOCT3","msam10","Source Sans Pro Semibold","Myriad Pro Semibold SemiCondensed Italic","Incised901 NdIt BT","DejaVu Sans Light","Myriad CAD","Light","Binhdinh","Rachgia","HGHeiseiMinchotaiW9","ChandrabatiOMJ",".VnTifani HeavyH","System Font Heavy Italic","GFS Artemisia","WP MultinationalB Helve","TAB","8514oem","Hack Bold","Athelas Bold","ArhialkhanOMJ","Calibri Light","Hoian","Avenir Next W1G Ultra Light","Vikatan","STKaiti","Adobe Hebrew Regular","Microsoft PhagsPa","Bradley Hand ITC","Utopia","MMa CenturyS Bold","KacstLetter","Apple SD Gothic Neo Regular","Heiti SC Light","ABeeZee","Chinyen","GB18030 Bitmap","Lucida Calligraphy Italic","euex10","HelveticaNeueLT Std Lt Cn","Anonymice Powerline Italic","News Gothic MT Alt 2","Apple SD Gothic Neo","Bell Gothic Std Light","MATTEROFFACT","Z@R1720.tmp","Titillium Bold Upright","ENGL","Engravers MT","Gotham Ultra Italic","Didot Italic","HelveticaNeueLT Pro 33 ThEx","Hot Mustard BTN Poster","Farah","MMTextBook Bold Italic","VNI-Shadow","New Gulim","MMa CenturyKS Italic","GungSeo Regular","Droid Sans Mono for Powerline","iso 08","POLI","Nova Slim","Hue","GothicNo13 BT","Proxima Nova Black","ML-TTAnjali","Caflisch Script Pro","Lao MN","HP PSG","VNI-Heather","Gill Sans Nova","cht","Opus Chords","Raleway Bold Italic","Informal Roman","Junicode","IMG Love","cmti10","Verdana Bold","Britannic Bold","Saab","ADMUI2Lg","Superclarendon Black Italic","OCR A Std","Hot Mustard BTN","cmti12","Francois One","Tsukushi B Round Gothic","Literation Mono Powerline","MAC C Times","Noto Sans Inscriptional Pahlavi","Proxima Nova Extrabold","Georgia Pro Cond","Helvetica Light","Remachine Script Personal Use","Pump Demi Bold LET","DilleniaUPC","Gentium Book Basic","VNI-Algerian","Lato Medium Italic","MMArrow","Niagara Engraved","FML-TTMadhaviExBold","SWScrpc","STIXSizeFourSym-Regular","Nafees Web Naskh","JLS Data GothicC  NC","TAC-Kambar","Century Gothic","Microsoft Tai Le Bold","SWScrps","Proxima Nova Light Italic","Tamil MN Bold","ML-TTGauri","ML-TTGeethika","AdineKirnberg","Rotis Sans Serif Std 75 Extra Bold","AR BERKLEY","Farisi","Rachana","Kerala","Chaparral Pro","Bubblegum Sans","Sasfont","System Font Italic","WP IconicSymbolsA","WP IconicSymbolsB","Throw My Hands Up in the Air","Sneakerhead BTN","CentSchbook BT","Incised901 BdCn BT","PortagoITC TT","HaldaMJ","MapInfo Cartographic","Belwe Lt BT","Kundli","Kozuka Mincho Pr6N EL","Swis721 Cn BT","MMBinary Bold Italic","SchoolHouse Printed A","VNI-Brush","Tsukushi A Round Gothic Regular","Vollkorn Bold Italic","Kozuka Gothic Pr6N R","Vijaya","Bodoni Ornaments","Futura LT Condensed Light Oblique","Nexa Regular Italic","KarnaphuliMJ","Damascus Bold","Gotham Black","Kohinoor Bangla","Noto Sans Mono CJK JP","Constantia Italic","ML-TTAshtamudiExBold","Angsana New","Times Bold","Arial Narrow Bold","MMa CenturyKSS Italic","DhonooMJ","Noto Sans Ethiopic","HelveticaNeueLT Std Med Ext","MMCenturyNewRD Bold","Yuppy TC Regular","SF Distant Galaxy Alternate","PT Sans","PingFang HK Ultralight","Athelas Italic","Sonic XBd BT","saxMono","Bangla MN Bold","Tinos Bold for Powerline","ChondanaMJ","Yuanti TC Regular","HelveticaNeueLT Pro 93 BlkEx","FML-TTSugatha","Ducmy","Germ","Padauk","YD2002","Sitka Subheading","Myriad Pro SemiCond","FreesiaUPC","Myriad Pro SemiExtended Italic","WP MathB","Noto Sans Buhid","Noto Sans Mono CJK TC","Noto Sans Inscriptional Parthian","msbm6","Kefa Regular","msbm8","msbm9","Savoye LET","Weibei TC Bold","LKLUG","FML-TTIndulekha","MMTimes Italic","Noto Sans Imperial Aramaic","VNI-Script",".VnParkH","Noto Sans Old South Arabian","Matura MT Script Capitals","Kozuka Gothic Pr6N B","TitilliumText22L-Medium","Euclid Bold Italic","Calisto MT Bold","Dosis Bold","Futura LT Medium","FML-TTKanika","Kufi Outline Shaded","Beirut","EXCESS","New Peninim MT Bold Inclined","Optima","Source Sans Pro Italic",".VnAristote",".VnTimeH","MMa Fermat","Tangerine","KodchiangUPC","Noto Sans Batak","eurb8","ML-TTPoornima","Myriad Web Pro","Paralucent Thin Italic","Avenir Next Demi Bold","msam6","MMa Century Italic","Ezra SIL",".VnTime","Miama","Futura LT Condensed Bold","Literation Mono Powerline Bold","Myriad Pro Condensed","MMa Arrow","SimHei","FML-TTNandini","Kaiti SC","SF Compact Rounded Medium","KG Primary Penmanship","LilyUPC","Skia Bold","ML-TTMayoori","VNI-Tekon","Vonique 64","Myriad Pro Cond","Arial Hebrew Scholar Light","Engravers MT Bold","Perpetua Italic","Arial Greek","Noteworthy","ML-TTIndulekhaHeavy","ISOCTEUR","Visitor TT2 BRK","Marker Felt","cmr17","SWAstro","LETT","AlekyaExtraBold","FML-TTYashasri","cmr10","Gothic720 Lt BT","Microdot",".VnClarendon","Book Antiqua Bold","HeiT",".VnAvantH","PT Serif Caption Italic","Princetown LET","Eccentric Std","8Pin Matrix","GangaOMJ","Kohinoor Bangla Bold","ML-TTJyotsna","Hoefler Text Italic","Iskoola Pota","Bodoni 72 Bold","Wingdings","Noto Sans Shavian","Bahiana","Roboto Bold Italic","Viner Hand ITC","Bauhaus 93","VNI-Franko","cmbx7","cmbx6","cmbx5","SAPGUI-Icons","Charter Italic","cmbx9","cmbx8","Gelfling SF","Aileron Black","Bookshelf Symbol 1","HGPHeiseiKakugothictaiW9","FML-TTPooram","Raanana","OCRA","Sanskrit New","Khmer UI","Cochin","Ostrich Sans Rounded","TLArabic","Latin Modern Mono","AG","Opus Chords Sans","Source Code Pro Bold","Source Sans Pro Black Italic","BorakMJ","Futura Bold","Big Caslon","Latin Modern Roman Dunhill","CAMPBELL","Futura Medium Italic","FML-TTSuparna","Footlight MT Light","FML-TTKamini","SignPainter","Noto Sans Armenian","Adobe Caslon Pro Italic","Latin Modern Mono Slanted","Wawati SC Regular","Dayton","Roman","Newton Phonetic ABBYY","MMBinary Italic","IMG Travel","Helvetica Oblique","FELIZ","Amiri","VNI-Colonna","JumunaOMJ","DIN Alternate","Lohit Devanagari","Aileron Thin","Tamil MN","GhorautraOMJ","Bodoni MT Black","Wolf in the City","FML-TTPoornima","Trade Gothic LT Std Bold Extended","Complete in Him","ITF Devanagari","Goudy Stout","Diwan Thuluth Regular","01 Digit","TeX Gyre Cursor","Playfair Display SC Bold Italic","HelveticaNeueLT Std Med Cn","Avenir Next Condensed Heavy","FrankRuehl","Hiragino Sans GB","GFS BodoniClassic","LightSC","Camranh","TAM-Kavi","Phetsarath OT","Symbol","High Tower Text","Rondalo","Miriam","Jayanthi","MMTextBook Italic","Leelawadee UI Semilight","OpineHeavy","Century Schoolbook Italic","Chalkboard SE Regular","SWTOR Trajan","ML-TTSugatha","SF Distant Galaxy Outline","Theatre Antoine","Heavy Heap","ML1-TTIndulekha","SFNS Display","Nexa Light Italic","Linux Biolinum Keyboard O","Adobe Devanagari Bold","BaluScript","Avenir Next Condensed Regular","ARDS1","cmssqi8","Tempus Sans ITC","Avenir Next Medium","GungsuhChe","ChondanaOMJ","B095","Borealis","Seravek ExtraLight Italic","Avenir Next Heavy Italic","Tamil Sangam MN Bold","HelveticaNeue","Tsukushi A Round Gothic Bold","VNI-Helve-Condense","FML-TTAnakha","Hiragino Kaku Gothic StdN W8",".VnMonotype corsiva","MMa VariableF S","Nightclub BTN","Berling","MMa VariableB SS","Z@R11F8.tmp","Suruma","Telugu MN","Linux Libertine O","Italianate","Raleway Italic","Span","ML-TTKeerthi","MMa Pascal","VNI-Scribble","Indie Flower","Avenir Next Condensed Demi Bold Italic","ML-TTVisakham","Arno Pro Caption","Qaskin White Personal Use","MMTextBookB","Al Tarikh","Berkshire Swash","Hobo Std Medium","DINPro-Regular","Circular Std Black Italic","Muna Bold","TechnicBold","SWMono","Sukhumvit Set Bold","Palatino Linotype Bold Italic",".VnCentury SchoolbookH","Euclid Math Two Bold","Creepygirl","ISOCP3","Source Sans Pro Black","MMa Relation","Futura LT Condensed Medium","BongshaiOMJ","VNI Aptima","Californian FB","Leitura Display Swashes","Gotham Narrow Ultra Italic","Math2Mono","Swis721 BdOul BT","Clubland","English157 BT","modstmary10","eurm9","euex8","Diavlo Medium","Iowan Old Style Black Italic","MMa GreekS","Adobe Garamond Pro","Cordia New Bold","PRETEXT","DengXian","University Roman LET","Open Sans Semibold","Soho Gothic Pro Ultra","Futura Extra Bold Oblique","Roboto Condensed Light Italic","Tamil-Aiswarya","ML-TTNandini","Showcard Gothic","Avenir Next Ultra Light Italic","Trade Gothic LT Std Bold Condensed No. 20","DFKai-SB","FML-TTAshtamudi","Ostrich Sans Dashed","Copperplate","Myriad Pro Semibold SemiExtended","NewRocker","DIN-MediumAlternate","Arimo Bold","Arial Hebrew","TLPashto","Gauge","Gotham Bold Italic","MMVariable2 Bold","FFF Tusj",".VnHelvetInsH","Embassy BT","MMSchoolRD Italic","Bodoni MT Condensed","Myriad Pro Semibold","CityBlueprint",".VnGothic","Source Code Pro Black","Futura Light","Baamini","Palatino Italic","GulimChe","SF Distant Galaxy AltOutline","Gotham Light","AcmeFont","Trade Gothic LT Std Bold Condensed No. 20 Oblique","DIN-Medium","Terminator Real NFI","Letter Gothic Std Bold Slanted","Gill Sans Light Italic","YuMincho Medium","Myriad Pro Light Condensed Italic","Myriad Pro Black Condensed Italic","Osaka-Mono","Bodoni 72 Oldstyle","Josefin Slab","Gurmukhi MN","Gauge Heavy","Haxton Logos TT","Perpetua","BhairabMJ","Fences","Gurmukhi MT","Good Times","MMa Extra S","Benguiat","DINPro-Medium","MMa Variable2 SS","Oswald Stencil","Apple Braille","HelveticaNeueLT Std Blk Ext","Noteworthy Light","Scruff LET","DIN-BlackAlternate","Letter Gothic Std Medium","Adobe Pi Std","Kozuka Mincho Pr6N","Menlo Regular","Almonte Snow","Belfast Heavy SF","Kaiti SC Bold","AR CHRISTY","VNI-Lydi","Cantarell Bold Oblique","Gentium","Bevan","Quicksand Light Regular","JLS Space GothicC  NC","True Lies","STIXVariants","MMa TextBook Bold","Segoe UI Black","Noto Sans Malayalam","eurb10","Averia Serif","Candy Round BTN Cond","ML-TTBeckalBold","Bariol Regular","Avenir Medium Oblique","Kohinoor Bangla Semibold","Helvetica Neue Bold","Broadway","ML-TTAmbili","Imprint MT Shadow","Noto Sans Mono CJK KR","cmfi10","UnitedStates","ML-NILA07","Chandas","Coolsville","Script","Franklin Gothic Demi","HelveticaNeueLT Pro 63 MdEx","Yuanti SC Light","FML-TTLeelaHeavy","Prisoner SF","Times New Roman CYR","News Gothic MT Alt 6","Bodoni 72 Book Italic","Shree-Kan-0853","Letter Gothic Std Bold","Rekha","Akhbar MT","DecoType Naskh Regular","Segoe Print","Gunplay","Nadeem Regular","Accanthis ADF Std","Roboto Condensed Bold","Adobe Caslon Pro Bold Italic","Helvetica Neue Bold Italic","Tlwg Typist","SF Compact Rounded Thin","Swiss 721 Bold BT","Jwala","Capitals","GFS Theokritos","cmr8","cmr9","cmr6","cmr7","SWGrekc","Timeless","w01","Microsoft Himalaya","Digifit","Minion Pro Med","Simple Outline Pat","MMa Negate Bold","Linden Hill","Courier New (Arabic)","Sauce Code Powerline Black","Noto Sans Gothic","Adobe Kaiti Std","AV-Web-Tam1","Athelas Regular","FML-TTMangalaExBold","Rockwell Bold Italic","Visitor TT1 BRK","Brandish","Futura LT Condensed Extra Bold Oblique","Manorly","Gotham Narrow Light","MS Outlook","cmti8","DejaVu Serif","Allura","Kailasa","Source Sans Pro Light","Burst My Bubble","ISOCT","Hannotate SC","ISOCP","Greek Diner Inline TT","Paralucent Thin","BuiltTitlingRg-Regular","Calligraphic","SF Slapstick Comic Bold Oblique","Soho Gothic Pro Light Italic","Euclid Extra","Sauce Code Powerline Light","Courier New Greek","Noto Sans Georgian","PT Sans Italic","Cousine Bold Italic for Powerline","Modern No. 20","VNI-Goudy","Math3Mono","Georgia Italic","Luna Bar","VNI-Bragga","Sawasdee","TAMLKamban","Paralucent Bold Italic","PingFang TC","Valken","MMCenturyNewRD","Meera","Saint Andrew des Kiwis","Courier Bold Oblique","Diavlo Light","HGSMinchoL","Diwani Bent","MMa VariableD Bold","Courier New Italic","Aileron UltraLight","Chess Merida","cmsl8","Snell Roundhand Black","Candara Bold","Grafolita Script Medium","Diwani Letter","Paralucent Bold","Adobe Devanagari Italic","VNI-Linus","cmss12","eusm10","Avenir Next W1G Light Italic","Seravek ExtraLight","Magneto","Interstate-Black","SignPainter-HouseScript","Euclid Extra Bold","System Font Medium Italic P4","TtsNote","Quicksand Book Oblique Regular","TAMILFIX","Industrial736 BT","Adobe Arabic Bold","InaiMathi","Tera Special","Myriad Pro Light SemiExtended Italic","NanumGothic Bold","MMTextBookB Bold","JaJaDiOMJ","Nimbus Mono L","Futura Std Bold","Finale Numerics","Moon Flower Bold","Baskerville","Lucida Console","Swis721 Lt BT","Mael","Nexa Heavy Italic","Becky","ML-TTKaumudi","TAU-Kabilar","MMa CenturyS Bold Italic","Violetta","Bell MT Bold","Palatino Linotype Italic","FML-TTNila","FML-Karthika","Rotis Sans Serif Std 65 Bold","PenultimateLight","VNI-Revue","Liberation Mono","Trade Gothic LT Std Bold No. 2 Oblique","GFS Didot","Eras Medium ITC",".VnBlackH","MMa Binary SS","ML-TTSabari","Bangla Sangam MN Bold","Stencil","AppleMyungjo","TM-TTValluvar","Gill Sans Ultra Bold Condensed","type 07","Yu Gothic UI Semibold","KN-TTUma","Playfair Display","Txt","Gotham Narrow Light Italic","Menlo","Zirkon","AV-Font-Sin","Microsoft Sans Serif","Tall Boy West","Yu Gothic","AMGDT","Simplified Arabic Fixed","STSong","Arimo for Powerline","Bell MT","KufiStandardGK","Nexa Bold","TG Pagella Math","Adobe Arabic Regular","Futura Extra Bold","SamsungImagination","Mycalc","MMa CenturyKSS Bold Italic","Superclarendon Black","Catull","HYSWLongFangSong","cmsy10","FML-TTAyilyamBold","Rakesly Lt","Haettenschweiler","SF Compact Rounded Heavy","Beatnik SF","Trajan Pro","Sosa Regular","Adobe Song Std","Raleway Bold","Bauer Bodoni Std 1 Italic","DholeshwariOMJ","VNI-StencilU","Kefa","STXihei","Garamond Bold","Trajan Pro Bold","Reklame Script Medium","AGA Arabesque Desktop","Savoye LET Plain","BATAVIA","Fabrica","Gidole","Abril Fatface Regular","Baskerville SemiBold","Gill Sans SemiBold Italic","Hombre","Helvetica Neue","STIXIntegralsUpSm-Bold","Vogue","Noto Sans Kayah Li","Noto Sans Lydian","Avenir Next Bold","Myriad Pro Light SemiExt","VNI-Bodon","Estrangelo Edessa","Titillium Semibold Upright","Kingthings Versalis","Droid Sans Mono Slashed for Powerline","Patrick Hand SC",".VnLinusH","Galatia SIL","Myanmar MN Bold","Anonymice Powerline Bold Italic","STIXNonUnicode-BoldItalic","IMG Seasons","KaiTi","NEOLITH","MS Reference Sans Serif","GFS Baskerville","PingFang HK","Adobe Garamond Pro Italic","OCR B MT","Bariol Regular Italic","Minion Pro Bold","Nexa XBold","AppleGothic Regular",".VnMemorandumH","HelveticaNeue BlackCond","Small Fonts","Myriad Pro Italic","Symath","Times New Roman Baltic","Spicy Rice","FML-TTMayoori","Wingdings 3","Wingdings 2","Zapf Dingbats","Rockwell Bold","JomunaMJ","Forte","Mona Lisa Solid ITC TT","FML-TTDevika","Gill Sans Nova Cond XBd","Lucida Calligraphy","HelveticaNeueLT Std UltLt","Palatino","HanziPen TC","Courier New Cyr","Seville","SF Compact Rounded Black","Colonna MT","HelveticaNeueLT Std ExtBlk Cn","Arial Hebrew Light","Canterbury Regular","Ital","Tekton Pro Ext","Dosis ExtraLight","Mshtakan BoldOblique","New Athena Unicode","Ubuntu Condensed","SansSerif","Century Gothic Bold","Nueva Std Cond","Malgun Gothic","STIXGeneral-Italic","Arial Nova Cond Light","Tinos for Powerline","CSD16","PFDaVinciScriptPro-Regular","KalindiSMJ","MMTimes Bold Italic","ML-TTSankara","JazzTextExtended","Courier MM Screenwriter Bold","Minion Pro","Calibri Bold Italic","Merriweather Light","FreeSerif","Old English Text MT","System Font Bold Italic","Baron Neue Black Italic","Avenir Next W1G Demi","Finale Mallets","Circular Std Bold Italic","Wawati TC Regular","Tinos Italic for Powerline","Trade Gothic LT Std Condensed No. 18","Paralucent Medium Italic","Cumberland AMT","VNI Laos","Camau","Eras Light ITC","Segoe UI Symbol","Aleo","DIN 1451 Mittelschrift","VNI-Chaucer","Cuulong",".VnMystical","Nexa Heavy","Kohinoor Devanagari Regular","HolidayPi BT","Jokerman LET","Salina","Arial monospaced for SAP","MMa Century","Baskerville SemiBold Italic","MMa GreekS Italic","Lapidary333 Blk BT","Lucida Handwriting","Adobe Myungjo Std","Alfredo","Dot-Matrix","Thanhoa","cmr12","Adobe Fangsong Std","BatangChe","Academy Engraved LET Plain:1.0","Calligraph421 BT","DejaVu Serif Condensed","SWItal","Futura LT Book Oblique","Noto Sans Lycian","Noto Sans Phags Pa","SF Compact Text","MAXIMO","Avanti","Adobe Caslon Pro Bold","Space Bd BT","November","Lavanderia","Maiandra GD","at most sphere","Farisi Regular","Gill Sans Nova Cond Lt","Razer Text Regular","VNI-Auchon","Myriad Pro Black SemiExt","KacstOne","Cordia New","Gotham Thin Italic","Raleway Black","Hiragino Sans W9","Hiragino Sans W8","MoolBoran","Penultimate","Hiragino Sans W5","Hiragino Sans W4","Hiragino Sans W7","Hiragino Sans W6","Hiragino Sans W1","Hiragino Sans W0","Hiragino Sans W3","Hiragino Sans W2","Minion Pro Italic","Kozuka Mincho Pr6N M","Kozuka Mincho Pr6N L","Proxima Nova Condensed Semibold Italic","Kozuka Mincho Pr6N H","Hiragino Maru Gothic ProN W4","HelveticaNeueLT Std Extended","NanumBarunGothic","Kozuka Mincho Pr6N B","VNI Russia","Reklame Script Bold","ML-TTThakazhi","MMSchoolRD","Futura Std Light","Poplar Std","Kozuka Mincho Pr6N R","Franklin Gothic","Paralucent Light","ML-TTVaisali","cmb10","Waseem Light","VNI-Cooper","Script MT Bold","Ethnocentric","STIXSizeFourSym","Praveen","Calibri Bold","ML-TTYashasri","Swis721 LtCn BT","Freestyle Script","Snowdrift","Myriad Pro Semibold SemiExtended Italic","LiSong Pro","Myanmar Sangam MN Bold","MMCenturyOldGreek Bold","VNI-Broad","YuGothic","American Typewriter Semibold","Hannotate SC Bold","Opus Ornaments","Arimo Italic","RamuBrush","TechnicLite","Geneva","Nexa Book","FML-IndulekhaHeavy","Arimo Bold for Powerline","Marion Bold","Apple Braille Outline 6 Dot","FML-TTBhavana","Nanum Myeongjo","PT Sans Caption Bold","Gotham Medium Italic","Vani","Quicksand Italic","Z@R195D.tmp","Soho Gothic Pro Bold Italic","Hannotate TC","ITF Devanagari Book","Cracked Johnnie","Rockwell Nova Light","HGPMinchoL","STIXNonUnicode-Bold","VNI-Arial Rounded","Braggadocio","Swiss921 BT","Futura","Museo 300 Regular","Adobe Arabic Italic","Trade Gothic LT Std","Titillium Bold Italic","VNI-Juni","Myriad Pro Bold SemiCondensed Italic","SWGamekeys MT","Plantagenet Cherokee","Comfortaa","Baron Neue Black","Latin Modern Mono Prop Light","Crystal","RamuScript","SAPDings","RadhaBold","Superclarendon Bold Italic","Libel Suit","Sneakerhead BTN Outline",".VnLincoln","MMTextBook","Gujarati MT","KacstScreen","MMEtc Bold Italic","Dosis SemiBold"],t=new fontDetector;for(n=0,len=e.length;n<len;++n)t.detect(e[n])?this.fontsData+="1":this.fontsData+="0";this.postData.fonts=this.fontsData,this.postData.timezone=(new Date).getTimezoneOffset(),this.postData.resolution=getResolution();for(var i,r=navigator.plugins.length,a="",n=0;n<r;n++)a+=navigator.plugins[n].name+"_";a=a.replace(/[^a-zA-Z ]/g,""),this.postData.plugins=a,this.postData.cookie=navigator.cookieEnabled;try{localStorage.setItem("test","test"),localStorage.removeItem("test"),this.postData.localstorage=!0}catch(e){this.postData.localstorage=!1}this.postData.adBlock=null==$("#ad")[0]?"Yes":"No",cvs_test=CanvasTest(),this.postData.canvas_test=Base64EncodeUrlSafe(calcSHA1(cvs_test.substring(22,cvs_test.length))),navigator.hardwareConcurrency?this.postData.cpu_cores=navigator.hardwareConcurrency:this.postData.cpu_cores="-1",this.postData.audio=audioFingerPrinting(),this.postData.langsDetected=get_writing_scripts(),$("#status").html("Waitting for the server..."),i=this.postData,$.ajax({url:"http://"+ip_address+"/features",dataType:"json",contentType:"application/json",type:"POST",data:JSON.stringify(i),success:function(e){e.finished=!0,localStorage.setItem("mid",e.cross),localStorage.setItem("bid",e.single)},error:function(e,t,i){}})}};Base64EncodeUrlSafe=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},stringify=function(e){for(var t="",i=0,r=e.length;i<r;i+=4)t+=String.fromCharCode(e[i+0]),t+=String.fromCharCode(e[i+1]),t+=String.fromCharCode(e[i+2]);var a=window.btoa(t);return Base64EncodeUrlSafe(a)},Uint8Array.prototype.hashCode=function(){var e,t,i=0;if(0===this.length)return i;for(e=0,t=this.length;e<t;e++)i=(i<<5)-i+this[e],i|=0;return i},getCanvas=function(e){return $("#"+e)[0]||$("#test_canvas").append("<canvas id='"+e+"' width='256' height='256'></canvas>"),$("#"+e)[0]},getGLAA=function(e){for(var t=null,i=0;i<4&&!(t=e.getContext(["webgl","experimental-webgl","moz-webgl","webkit-3d"][i],{antialias:!0,preserveDrawingBuffer:!0,willReadFrequently:!1,depth:!0}));++i);return t},getGL=function(e){for(var t=null,i=0;i<4&&!(t=e.getContext(["webgl","experimental-webgl","moz-webgl","webkit-3d"][i],{antialias:!1,preserveDrawingBuffer:!0,willReadFrequently:!1,depth:!0}));++i);return t},computeKernelWeight=function(e){var t=e.reduce((function(e,t){return e+t}));return t<=0?1:t};var loadTextResource=function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e+"?please-dont-cache="+Math.random(),!0),r.onload=function(){r.status<200||r.status>299?t("Error: HTTP Status "+r.status+" on resource "+e):t(null,r.responseText,i)},r.send()},loadImage=function(e,t,i){var r=new Image;r.onload=function(){t(null,r,i)},r.src=e},loadJSONResource=function(e,t,i){loadTextResource(e,(function(e,i,r){if(e)t(e);else try{t(null,JSON.parse(i),r)}catch(e){t(e)}}),i)};(function(){var e,t,i;t="undefined"!=typeof exports&&null!==exports?exports:this,i=function(e){try{return JSON.parse(e)}catch(e){return!1}},e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame,window.cancelAnimationFrame||window.mozcancelAnimationFrame||window.webkitcancelAnimationFrame||window.ocancelAnimationFrame,t.LanguageDector=function(){function t(){this.codes=i("[[76,97,116,105,110], [27721,23383], [1575,1604,1593,1585,1576,1610,1577], [2342,2375,2357,2344,2366,2327,2352,2368], [1050,1080,1088,1080,1083,1080,1094,1072], [2476,2494,2434,2482,2494,32,47,32,2437,2488,2478,2496,2479,2492,2494], [20206,21517], [2583,2625,2608,2606,2625,2582,2624], [43415,43438], [54620,44544], [3108,3142,3122,3137,3095,3137], [2980,2990,3007,2996,3021], [3374,3378,3375,3390,3379,3330], [4121,4156,4116,4154,4121,4140], [3652,3607,3618], [7070,7077,7060,7082,7059], [3221,3240,3277,3240,3233], [2711,2753,2716,2736,2750,2724,2752], [3749,3762,3751], [2825,2852,2893,2837,2867], [4877,4821,4829], [3523,3538,3458,3524,3517], [1344,1377,1397,1400,1409], [6017,6098,6040,6082,6042], [917,955,955,951,957,953,954,972], [6674,6682,6664,6673], [1488,1500,1508,1489,1497,1514], [3926,3964,3921,3851], [4325,4304,4320,4311,4323,4314,4312], [41352,41760], [6190,6179,6185,6189,6179,6191], [11612,11593,11580,11593,11599,11568,11606], [1808,1834,1825,1821,1808], [1931,1960,1928,1964,1920,1960], [5123,5316,5251,5198,5200,5222], [5091,5043,5033], [55295]]"),this.fontSize=20,this.extraHeigth=15,this.height=this.fontSize+this.extraHeigth,this.width=100,this.canvas=$("<canvas height='"+this.height+"' width='"+this.width+"'/>").appendTo($("#test_canvases")),this.ctx=this.canvas[0].getContext("2d"),this.results=[]}return t.prototype.begin=function(t){var i,r;return this.cb=t,r=this,i=function(t){var a,n,o,s,l;if(t===r.codes.length)return sender.postLangsDetected(r.results),r.cb();for(l="",n=0,o=(s=r.codes[t]).length;n<o;n++)a=s[n],l+=String.fromCharCode(a);return r.ctx.fillStyle="white",r.ctx.fillRect(0,0,r.width,r.height),r.ctx.fillStyle="black",r.ctx.font=r.fontSize+"px sans-serif",r.ctx.fillText(l,5,r.height-r.extraHeigth/2),r.results.push({w:r.width,h:r.height,pixels:stringify(r.ctx.getImageData(0,0,r.width,r.height).data)}),e((function(){return i(t+1)}))},e((function(){return i(0)}))},t}()}).call(this);var LineTest=function(e){var t=sender.getID();this.begin=function(i,r,a){var n=getGL(i);"normal"==e?n=getGL(i):(i=getCanvas("can_aa"),n=getGLAA(i));var o=function(){for(var e=[],t=0;t<256;t++){var i=256-100*Math.cos(2*Math.PI*t/100)+30*Math.cos(4*Math.PI*t/100)+6*Math.cos(6*Math.PI*t/100);e.push(t/150-.8,i/200-1.4,0)}return e}();o.push.apply(o,[-.7,-.1,0,-.3,.6,0,-.3,-.3,0,.2,.6,0,.3,-.3,0,.7,.6,0]);var s=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,new Float32Array(o),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null);var l=n.createShader(n.VERTEX_SHADER);n.shaderSource(l,"attribute vec3 coordinates;void main(void) { gl_Position = vec4(coordinates, 1.0);}"),n.compileShader(l);var c=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(c,"void main(void) {gl_FragColor = vec4(1, 1, 1, 1.0);}"),n.compileShader(c);var h=n.createProgram();n.attachShader(h,l),n.attachShader(h,c),n.linkProgram(h),n.useProgram(h),n.bindBuffer(n.ARRAY_BUFFER,s);var u=n.getAttribLocation(h,"coordinates");n.vertexAttribPointer(u,3,n.FLOAT,!1,0,0),n.enableVertexAttribArray(u),n.clearColor(0,0,0,1),n.enable(n.DEPTH_TEST),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.viewport(0,0,i.width,i.height),n.drawArrays(n.LINE_STRIP,0,256),n.drawArrays(n.LINES,256,6),sender.getData(n,t),r(a)}},MoreLightTest=function(e,t,i,r,a){this.vertices=e,this.indices=t,this.texCoords=i,this.texture=a,this.normals=r,this.canvas=null,this.cb=null,this.level=null,this.numChildren=3,this.children=[],this.IDs=sender.getIDs(this.numChildren),this.numChildrenRun=0,this.childComplete=function(){if(++this.numChildrenRun==this.numChildren)this.cb();else{var e=this.numChildrenRun;this.children[e].begin(this.canvas)}},this.numChildrenLoaded=0,this.childLoaded=function(){if(++this.numChildrenLoaded==this.numChildren){var e=this.numChildrenRun;this.children[e].begin(this.canvas)}};var n=function(e,t,i,r){this.begin=function(a){var n;1==i?(a=getCanvas("can_aa"),n=getGLAA(a)):n=getGL(a),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(n.BACK);var o=n.createShader(n.VERTEX_SHADER),s=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(o,e),n.shaderSource(s,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)&&(n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS))){var l=n.createProgram();if(n.attachShader(l,o),n.attachShader(l,s),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)&&(n.validateProgram(l),n.getProgramParameter(l,n.VALIDATE_STATUS))){var c=r.vertices,h=r.indices,u=r.texCoords,d=r.normals,p=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,new Float32Array(c),n.STATIC_DRAW);var m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,new Float32Array(u),n.STATIC_DRAW);var f=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,f),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),n.STATIC_DRAW);var E=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,E),n.bufferData(n.ARRAY_BUFFER,new Float32Array(d),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,p);var g=n.getAttribLocation(l,"vertPosition");n.vertexAttribPointer(g,3,n.FLOAT,n.FALSE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(g),n.bindBuffer(n.ARRAY_BUFFER,m);var T=n.getAttribLocation(l,"vertTexCoord");n.vertexAttribPointer(T,2,n.FLOAT,n.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(T),n.bindBuffer(n.ARRAY_BUFFER,E);var v=n.getAttribLocation(l,"vertNormal");n.vertexAttribPointer(v,3,n.FLOAT,n.TRUE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(v);var M=n.createTexture();n.bindTexture(n.TEXTURE_2D,M),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r.texture),n.bindTexture(n.TEXTURE_2D,null),n.useProgram(l);var S=n.getUniformLocation(l,"mWorld"),y=n.getUniformLocation(l,"mView"),R=n.getUniformLocation(l,"mProj"),x=new Float32Array(16),b=new Float32Array(16),H=new Float32Array(16);mat4.identity(x),mat4.lookAt(b,[0,0,-7],[0,0,0],[0,1,0]),mat4.perspective(H,glMatrix.toRadian(45),a.width/a.height,.1,1e3),n.uniformMatrix4fv(S,n.FALSE,x),n.uniformMatrix4fv(y,n.FALSE,b),n.uniformMatrix4fv(R,n.FALSE,H);var B=new Float32Array(16),L=new Float32Array(16);n.useProgram(l);var A=n.getUniformLocation(l,"ambientLightIntensity"),w=n.getUniformLocation(l,"sun.direction"),_=n.getUniformLocation(l,"sun.diffuse"),C=n.getUniformLocation(l,"sun.specular");n.uniform3f(A,.3,.3,.3),n.uniform3f(w,.8,-.8,-.8),n.uniform3f(_,.75,.75,1),n.uniform3f(C,.8,.8,.8);var I=new Float32Array(16);mat4.identity(I);var P=0,F=49,N=51;2==i&&(F=98,N=100),I=new Float32Array(16),mat4.identity(I),n.enable(n.DEPTH_TEST);var D=function(){var e=requestAnimationFrame(D);P=F++/20,mat4.rotate(L,I,P,[0,1,0]),mat4.rotate(B,I,P/4,[1,0,0]),mat4.mul(x,L,B),n.uniformMatrix4fv(S,n.FALSE,x),n.clearColor(0,0,0,1),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT),n.bindTexture(n.TEXTURE_2D,M),n.activeTexture(n.TEXTURE0),n.drawElements(n.TRIANGLES,h.length,n.UNSIGNED_SHORT,0),F==N&&(cancelAnimationFrame(e),sender.getData(n,r.IDs[i]),r.childComplete())};requestAnimationFrame(D)}}}};this.begin=function(e,t){this.canvas=e,this.cb=t;var i="static/assets/";loadTextResource(i+"shader_mlight.vs.glsl",(function(e,t,r){e||loadTextResource(i+"shader_mlight.fs.glsl",(function(e,i,r){e||(r.children.push(new n(t,i,0,r)),r.childLoaded(),r.children.push(new n(t,i,1,r)),r.childLoaded(),r.children.push(new n(t,i,2,r)),r.childLoaded())}),r)}),this)}},SimpleLightTest=function(e,t,i,r,a){this.vertices=e,this.indices=t,this.texCoords=i,this.texture=a,this.normals=r,this.canvas=null,this.cb=null,this.level=null,this.numChildren=1,this.children=[],this.IDs=sender.getIDs(this.numChildren),this.numChildrenRun=0,this.childComplete=function(){if(++this.numChildrenRun==this.numChildren)this.cb(this.level);else{var e=this.numChildrenRun;this.children[e].begin(this.canvas)}},this.numChildrenLoaded=0,this.childLoaded=function(){if(++this.numChildrenLoaded==this.numChildren){var e=this.numChildrenRun;this.children[e].begin(this.canvas)}};var n=function(e,t,i,r){this.begin=function(a){var n=getGL(a);n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(n.BACK);var o=n.createShader(n.VERTEX_SHADER),s=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(o,e),n.shaderSource(s,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)&&(n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS))){var l=n.createProgram();if(n.attachShader(l,o),n.attachShader(l,s),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)&&(n.validateProgram(l),n.getProgramParameter(l,n.VALIDATE_STATUS))){var c=r.vertices,h=r.indices,u=r.texCoords,d=r.normals,p=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,new Float32Array(c),n.STATIC_DRAW);var m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,new Float32Array(u),n.STATIC_DRAW);var f=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,f),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),n.STATIC_DRAW);var E=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,E),n.bufferData(n.ARRAY_BUFFER,new Float32Array(d),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,p);var g=n.getAttribLocation(l,"vertPosition");n.vertexAttribPointer(g,3,n.FLOAT,n.FALSE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(g),n.bindBuffer(n.ARRAY_BUFFER,m);var T=n.getAttribLocation(l,"vertTexCoord");n.vertexAttribPointer(T,2,n.FLOAT,n.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(T),n.bindBuffer(n.ARRAY_BUFFER,E);var v=n.getAttribLocation(l,"vertNormal");n.vertexAttribPointer(v,3,n.FLOAT,n.TRUE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(v);var M=n.createTexture();n.bindTexture(n.TEXTURE_2D,M),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r.texture),n.bindTexture(n.TEXTURE_2D,null),n.useProgram(l);var S=n.getUniformLocation(l,"mWorld"),y=n.getUniformLocation(l,"mView"),R=n.getUniformLocation(l,"mProj"),x=new Float32Array(16),b=new Float32Array(16),H=new Float32Array(16);mat4.identity(x),mat4.lookAt(b,[0,0,-7],[0,0,0],[0,1,0]),mat4.perspective(H,glMatrix.toRadian(45),a.width/a.height,.1,1e3),n.uniformMatrix4fv(S,n.FALSE,x),n.uniformMatrix4fv(y,n.FALSE,b),n.uniformMatrix4fv(R,n.FALSE,H);var B=new Float32Array(16),L=new Float32Array(16);n.useProgram(l);var A=n.getUniformLocation(l,"ambientLightIntensity"),w=n.getUniformLocation(l,"sun.direction"),_=n.getUniformLocation(l,"sun.color");n.uniform3f(A,.3,.3,.3),n.uniform3f(w,3,4,-2),n.uniform3f(_,2,2,2);var C=0,I=49,P=new Float32Array(16);mat4.identity(P),n.enable(n.DEPTH_TEST);var F=function(){var e=requestAnimationFrame(F);C=I++/20,mat4.rotate(L,P,C,[0,1,0]),mat4.rotate(B,P,C/4,[1,0,0]),mat4.mul(x,L,B),n.uniformMatrix4fv(S,n.FALSE,x),n.clearColor(0,0,0,1),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT),n.bindTexture(n.TEXTURE_2D,M),n.activeTexture(n.TEXTURE0),n.drawElements(n.TRIANGLES,h.length,n.UNSIGNED_SHORT,0),50==I&&(cancelAnimationFrame(e),sender.getData(n,r.IDs[i]),r.childComplete())};requestAnimationFrame(F)}}}};this.begin=function(e,t,i){this.canvas=e,this.cb=t,this.level=i;var r="static/assets/";loadTextResource(r+"shader_slight.vs.glsl",(function(e,t,i){e||loadTextResource(r+"shader_slight.fs.glsl",(function(e,i,r){e||(r.children.push(new n(t,i,0,r)),r.childLoaded())}),i)}),this)}},TextureTest=function(e,t,i,r){this.vertices=e,this.indices=t,this.texCoords=i,this.texture=r,this.canvas=null,this.cb=null,this.level=null,this.numChildren=1,this.children=[],this.numChildrenRun=0,this.IDs=sender.getIDs(this.numChildren),this.childComplete=function(){if(++this.numChildrenRun==this.numChildren)this.cb();else{var e=this.numChildrenRun;this.children[e].begin(this.canvas)}},this.numChildrenLoaded=0,this.childLoaded=function(){if(++this.numChildrenLoaded==this.numChildren){var e=this.numChildrenRun;this.children[e].begin(this.canvas)}};var a=function(e,t,i,r){this.begin=function(a){var n=getGL(a);n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(n.BACK);var o=n.createShader(n.VERTEX_SHADER),s=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(o,e),n.shaderSource(s,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)&&(n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS))){var l=n.createProgram();if(n.attachShader(l,o),n.attachShader(l,s),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)&&(n.validateProgram(l),n.getProgramParameter(l,n.VALIDATE_STATUS))){var c=r.vertices,h=r.indices,u=r.texCoords,d=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,new Float32Array(c),n.STATIC_DRAW);var p=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,new Float32Array(u),n.STATIC_DRAW);var m=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,m),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,d);var f=n.getAttribLocation(l,"vertPosition");n.vertexAttribPointer(f,3,n.FLOAT,n.FALSE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(f),n.bindBuffer(n.ARRAY_BUFFER,p);var E=n.getAttribLocation(l,"vertTexCoord");n.vertexAttribPointer(E,2,n.FLOAT,n.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(E);var g=n.createTexture();n.bindTexture(n.TEXTURE_2D,g),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r.texture),n.bindTexture(n.TEXTURE_2D,null),n.useProgram(l);var T=n.getUniformLocation(l,"mWorld"),v=n.getUniformLocation(l,"mView"),M=n.getUniformLocation(l,"mProj"),S=new Float32Array(16),y=new Float32Array(16),R=new Float32Array(16);mat4.identity(S),mat4.lookAt(y,[0,0,-7],[0,0,0],[0,1,0]),mat4.perspective(R,glMatrix.toRadian(45),a.width/a.height,.1,1e3),n.uniformMatrix4fv(T,n.FALSE,S),n.uniformMatrix4fv(v,n.FALSE,y),n.uniformMatrix4fv(M,n.FALSE,R);var x=new Float32Array(16),b=new Float32Array(16),H=new Float32Array(16);mat4.identity(H);var B=0,L=45;H=new Float32Array(16),mat4.identity(H),n.enable(n.DEPTH_TEST);var A=function(){var e=requestAnimationFrame(A);B=L++/20,mat4.rotate(b,H,B,[0,1,0]),mat4.rotate(x,H,B/4,[1,0,0]),mat4.mul(S,b,x),n.uniformMatrix4fv(T,n.FALSE,S),n.clearColor(0,0,0,1),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT),n.bindTexture(n.TEXTURE_2D,g),n.activeTexture(n.TEXTURE0),n.drawElements(n.TRIANGLES,h.length,n.UNSIGNED_SHORT,0),50==L&&(cancelAnimationFrame(e),sender.getData(n,r.IDs[i]),r.childComplete())};requestAnimationFrame(A)}}}};this.begin=function(e,t){this.canvas=e,this.cb=t;var i="static/assets/";loadTextResource(i+"shader_tex.vs.glsl",(function(e,t,r){e||loadTextResource(i+"shader_tex.fs.glsl",(function(e,i,r){e||(r.children.push(new a(t,i,0,r)),r.childLoaded())}),r)}),this)}},BubbleTest=function(){var e,t,i,r=sender.getID();Math.seedrandom("Three.js bubble scene random seed"),Detector.webgl||Detector.addGetWebGLMessage();var a=[];!function(){(e=new THREE.PerspectiveCamera(60,1,1,1e5)).position.z=3200;var i="static/assets/",r=[i+"posx.jpg",i+"negx.jpg",i+"posy.jpg",i+"negy.jpg",i+"posz.jpg",i+"negz.jpg"],n=(new THREE.CubeTextureLoader).load(r);n.format=THREE.RGBFormat,(t=new THREE.Scene).background=n;var o=new THREE.SphereGeometry(100,32,16),s=THREE.FresnelShader,l=THREE.UniformsUtils.clone(s.uniforms);l.tCube.value=n;for(var c=new THREE.ShaderMaterial({uniforms:l,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader}),h=0;h<500;h++){var u=new THREE.Mesh(o,c);u.position.x=1e4*Math.random()-5e3,u.position.y=1e4*Math.random()-5e3,u.position.z=1e4*Math.random()-5e3,u.scale.x=u.scale.y=u.scale.z=3*Math.random()+1,t.add(u),a.push(u)}t.matrixAutoUpdate=!1}(),this.begin=function(n,o,s){(i=new THREE.WebGLRenderer({context:getGL(n),canvas:n},!1)).setPixelRatio(1),i.setSize(n.width,n.height);var l=0;requestAnimationFrame((function n(){var c=requestAnimationFrame(n),h=.005*l++,u=.5*(500*Math.sin(5*h)-e.position.x),d=.5*(500*Math.cos(5*h)-e.position.y);isNaN(u)||isNaN(d)||(e.position.x+=u,e.position.y+=d),e.lookAt(t.position);for(var p=0,m=a.length;p<m;p++){var f=a[p];f.position.x=5e3*Math.cos(h+p),f.position.y=5e3*Math.sin(h+1.1*p)}i.render(t,e),10==l&&(cancelAnimationFrame(c),sender.getData(i.getContext(),r),o(s))}))}},ClippingTest=function(){function e(e){for(var t=new Array(e),i=0;i!==e;++i)t[i]=new THREE.Plane;return t}function t(e,t,i){for(var r=0,a=t.length;r!==a;++r)e[r].copy(t[r]).applyMatrix4(i)}var i,r,a,n,o,s,l,c,h,u,d=(i=new THREE.Vector3,r=new THREE.Vector3,a=new THREE.Vector3,function(e){var t=e.normal,n=new THREE.Matrix4;return Math.abs(t.x)>Math.abs(t.z)?r.set(-t.y,t.x,0):r.set(0,-t.z,t.y),i.crossVectors(r.normalize(),t),e.coplanarPoint(a),n.set(i.x,r.x,t.x,a.x,i.y,r.y,t.y,a.y,i.z,r.z,t.z,a.z,0,0,0,1)}),p=function(e,t){for(var i=t.length/3,r=new Array(i),a=0,n=0;a<i;++a,n+=3){var o=e[t[n]],s=e[t[n+1]],l=e[t[n+2]];r[a]=(new THREE.Plane).setFromCoplanarPoints(o,s,l)}return r}([new THREE.Vector3(1,0,+Math.SQRT1_2),new THREE.Vector3(-1,0,+Math.SQRT1_2),new THREE.Vector3(0,1,-Math.SQRT1_2),new THREE.Vector3(0,-1,-Math.SQRT1_2)],[0,1,2,0,2,3,0,3,1,1,3,2]),m=p.map(d);function f(e,t){var i=e.parent;o.updateMatrixWorld(),e.matrix.getInverse(i.matrixWorld),e.applyMatrix(t)}GlobalClippingPlanes=function(t,i){for(var r=e(5),a=0;5!==a;++a){var n=r[a],o=a*Math.PI*2/5;n.normal.set(Math.cos(o),0,Math.sin(o)),n.constant=3.5}return r}(),Empty=Object.freeze([]),function(){(n=new THREE.PerspectiveCamera(36,1,.25,16)).position.set(0,1.5,5),(o=new THREE.Scene).add(new THREE.AmbientLight(5263440));var t=new THREE.SpotLight(16777215);t.angle=Math.PI/5,t.penumbra=.2,t.position.set(2,3,3),t.castShadow=!0,t.shadow.camera.near=3,t.shadow.camera.far=10,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024,o.add(t);var i=new THREE.DirectionalLight(5591130,1);i.position.set(0,2,0),i.castShadow=!0,i.shadow.camera.near=1,i.shadow.camera.far=10,i.shadow.camera.right=1,i.shadow.camera.left=-1,i.shadow.camera.top=1,i.shadow.camera.bottom=-1,i.shadow.mapSize.width=1024,i.shadow.mapSize.height=1024,o.add(i),c=new THREE.MeshPhongMaterial({color:15600144,shininess:100,side:THREE.DoubleSide,clippingPlanes:e(p.length),clipShadows:!0}),l=new THREE.Group;for(var r=new THREE.BoxBufferGeometry(.18,.18,.18),a=-2;a<=2;++a)for(var s=-2;s<=2;++s)for(var u=-2;u<=2;++u){var d=new THREE.Mesh(r,c);d.position.set(u/5,s/5,a/5),d.castShadow=!0,l.add(d)}o.add(l);var m=new THREE.PlaneBufferGeometry(3,3,1,1),f=new THREE.Color;(h=new THREE.Group).visible=!0;for(var E=0,g=p.length;E!==g;++E){var T=new THREE.MeshBasicMaterial({color:f.setHSL(E/g,.5,.5).getHex(),side:THREE.DoubleSide,opacity:.2,transparent:!0,clippingPlanes:c.clippingPlanes.filter((function(e,t){return t!==E}))});h.add(new THREE.Mesh(m,T))}o.add(h);var v=new THREE.Mesh(m,new THREE.MeshPhongMaterial({color:10530223,shininess:150}));v.rotation.x=-Math.PI/2,v.scale.multiplyScalar(3),v.receiveShadow=!0,o.add(v)}();var E=sender.getID();this.begin=function(i,r){(s=new THREE.WebGLRenderer({context:getGL(i),canvas:i},!1)).shadowMap.enabled=!0,s.shadowMap.renderSingleSided=!1,s.setPixelRatio(1),s.setSize(i.width,i.height),u=e(GlobalClippingPlanes.length),s.clippingPlanes=u,s.localClippingEnabled=!0;var a=49,d=new THREE.Matrix4,g=new THREE.Matrix4;requestAnimationFrame((function e(){var i=.05*a++,T=requestAnimationFrame(e);l.position.y=1,l.rotation.x=.5*i,l.rotation.y=.2*i,l.updateMatrix(),d.copy(l.matrix);var v=.5*Math.cos(.5*i)+.7;d.multiply(g.makeScale(v,v,v)),t(c.clippingPlanes,p,d);for(var M=h.children,S=0,y=M.length;S!==y;++S)g.multiplyMatrices(d,m[S]),f(M[S],g);d.makeRotationY(.1*i),t(u,GlobalClippingPlanes,d),s.render(o,n),50==a&&(cancelAnimationFrame(T),sender.getData(s.getContext(),E),r())}))}}().call(this),LightingTest=function(){var e,t,i,r,a,n,o,s,l;this.IDs=sender.getIDs(2),Detector.webgl||Detector.addGetWebGLMessage();function c(h,u,d,p){var m;m=d?getGLAA(getCanvas("can_aa")):getGL(h),(i=new THREE.WebGLRenderer({context:m,canvas:h},!1)).setClearColor(t.fog.color),i.setPixelRatio(1),i.setSize(h.width,h.height),i.gammaInput=!0,i.gammaOutput=!0;var f,E=45,g=75;requestAnimationFrame((function m(){f=requestAnimationFrame(m),function(){var m=.035*E;r.position.x=Math.sin(.7*m)*g,r.position.z=Math.cos(.3*m)*g,a.position.x=Math.cos(.3*m)*g,a.position.z=Math.sin(.7*m)*g,n.position.x=Math.sin(.7*m)*g,n.position.z=Math.sin(.5*m)*g,o.position.x=Math.sin(.3*m)*g,o.position.z=Math.sin(.5*m)*g,s.position.x=Math.cos(.3*m)*g,s.position.z=Math.sin(.5*m)*g,l.position.x=Math.cos(.7*m)*g,l.position.z=Math.cos(.5*m)*g,++E,i.render(t,e),50==E&&(cancelAnimationFrame(f),sender.getData(i.getContext(),p),1==d?c(h,u,!1,p+1):u())}()}))}Math.seedrandom("Three.js lighting renderer seed"),function(){(e=new THREE.PerspectiveCamera(50,1,1,300)).position.set(0,15,150),e.lookAt(new THREE.Vector3),(t=new THREE.Scene).fog=new THREE.Fog(262918,10,300);var i=(new THREE.TextureLoader).load("static/assets/color_3_tex.png");i.repeat.set(20,10),i.wrapS=i.wrapT=THREE.RepeatWrapping,i.format=THREE.RGBFormat;var c=new THREE.MeshPhongMaterial({color:16777215,map:i}),h=new THREE.MeshStandardMaterial({color:16777215,roughness:.5,metalness:1});(p=new THREE.Mesh(new THREE.PlaneBufferGeometry(800,400,2,2),c)).position.y=-5,p.rotation.x=-Math.PI/2,t.add(p);for(var u=new THREE.TorusGeometry(1.5,.4,8,16),d=0;d<5e3;d++){var p=new THREE.Mesh(u,h);p.position.x=400*(.5-Math.random()),p.position.y=50*(.5-Math.random())+25,p.position.z=200*(.5-Math.random()),p.rotation.y=3.14*(.5-Math.random()),p.rotation.x=3.14*(.5-Math.random()),p.matrixAutoUpdate=!1,p.updateMatrix(),t.add(p)}var m=new THREE.SphereGeometry(.25,16,8);(r=new THREE.PointLight(16711744,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:16711744}))),t.add(r),(a=new THREE.PointLight(16639,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:16639}))),t.add(a),(n=new THREE.PointLight(8454016,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:8454016}))),t.add(n),(o=new THREE.PointLight(16755200,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:16755200}))),t.add(o),(s=new THREE.PointLight(65450,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:65450}))),t.add(s),(l=new THREE.PointLight(16716032,2.5,100,2)).add(new THREE.Mesh(m,new THREE.MeshBasicMaterial({color:16716032}))),t.add(l);var f=new THREE.DirectionalLight(16777215,.05);f.position.set(.5,1,0).normalize(),t.add(f)}(),this.begin=function(h,u){!function(h,u,d,p){var m;m=getGLAA(getCanvas("can_aa")),(i=new THREE.WebGLRenderer({context:m,canvas:h},!1)).setClearColor(t.fog.color),i.setPixelRatio(1),i.setSize(h.width,h.height),i.gammaInput=!0,i.gammaOutput=!0;var f,E=45,g=75;requestAnimationFrame((function d(){var m;f=requestAnimationFrame(d),m=.035*E,r.position.x=Math.sin(.7*m)*g,r.position.z=Math.cos(.3*m)*g,a.position.x=Math.cos(.3*m)*g,a.position.z=Math.sin(.7*m)*g,n.position.x=Math.sin(.7*m)*g,n.position.z=Math.sin(.5*m)*g,o.position.x=Math.sin(.3*m)*g,o.position.z=Math.sin(.5*m)*g,s.position.x=Math.cos(.3*m)*g,s.position.z=Math.sin(.5*m)*g,l.position.x=Math.cos(.7*m)*g,l.position.z=Math.cos(.5*m)*g,++E,i.render(t,e),50==E&&(cancelAnimationFrame(f),sender.getData(i.getContext(),p),c(h,u,!1,p+1))}))}(h,u,0,this.IDs[0])}},THREE={REVISION:"78"};"function"==typeof define&&define.amd?define("three",THREE):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=THREE),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}),Object.assign(THREE,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:THREE.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201}),THREE.Color=function(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){return e instanceof THREE.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){this.r=e,this.g=e,this.b=e},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(){function e(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}return function(t,i,r){if(t=THREE.Math.euclideanModulo(t,1),i=THREE.Math.clamp(i,0,1),r=THREE.Math.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var a=r<=.5?r*(1+i):r+i-r*i,n=2*r-a;this.r=e(n,a,t+1/3),this.g=e(n,a,t),this.b=e(n,a,t-1/3)}return this}}(),setStyle:function(e){function t(e){void 0!==e&&parseFloat(e)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,a=i[1],n=i[2];switch(a){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,h=(c=i[1]).length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0&&void 0!==(c=THREE.ColorKeywords[e])&&this.setHex(c),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,i,r=e||{h:0,s:0,l:0},a=this.r,n=this.g,o=this.b,s=Math.max(a,n,o),l=Math.min(a,n,o),c=(l+s)/2;if(l===s)t=0,i=0;else{var h=s-l;switch(i=c<=.5?h/(s+l):h/(2-s-l),s){case a:t=(n-o)/h+(n<o?6:0);break;case n:t=(o-a)/h+2;break;case o:t=(a-n)/h+4}t/=6}return r.h=t,r.s=i,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=i,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==r?r:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof THREE.Euler==0)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(e._x/2),r=Math.cos(e._y/2),a=Math.cos(e._z/2),n=Math.sin(e._x/2),o=Math.sin(e._y/2),s=Math.sin(e._z/2),l=e.order;return"XYZ"===l?(this._x=n*r*a+i*o*s,this._y=i*o*a-n*r*s,this._z=i*r*s+n*o*a,this._w=i*r*a-n*o*s):"YXZ"===l?(this._x=n*r*a+i*o*s,this._y=i*o*a-n*r*s,this._z=i*r*s-n*o*a,this._w=i*r*a+n*o*s):"ZXY"===l?(this._x=n*r*a-i*o*s,this._y=i*o*a+n*r*s,this._z=i*r*s+n*o*a,this._w=i*r*a-n*o*s):"ZYX"===l?(this._x=n*r*a-i*o*s,this._y=i*o*a+n*r*s,this._z=i*r*s-n*o*a,this._w=i*r*a+n*o*s):"YZX"===l?(this._x=n*r*a+i*o*s,this._y=i*o*a+n*r*s,this._z=i*r*s-n*o*a,this._w=i*r*a-n*o*s):"XZY"===l&&(this._x=n*r*a-i*o*s,this._y=i*o*a-n*r*s,this._z=i*r*s+n*o*a,this._w=i*r*a+n*o*s),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,r=i[0],a=i[4],n=i[8],o=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],d=r+s+u;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(h-l)*t,this._y=(n-c)*t,this._z=(o-a)*t):r>s&&r>u?(t=2*Math.sqrt(1+r-s-u),this._w=(h-l)/t,this._x=.25*t,this._y=(a+o)/t,this._z=(n+c)/t):s>u?(t=2*Math.sqrt(1+s-r-u),this._w=(n-c)/t,this._x=(a+o)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*Math.sqrt(1+u-r-s),this._w=(o-a)/t,this._x=(n+c)/t,this._y=(l+h)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t;return function(i,r){return void 0===e&&(e=new THREE.Vector3),(t=i.dot(r)+1)<1e-6?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?this.multiplyQuaternions(e,t):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,r=e._y,a=e._z,n=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=i*c+n*o+r*l-a*s,this._y=r*c+n*s+a*o-i*l,this._z=a*c+n*l+i*s-r*o,this._w=n*c-i*o-r*s-a*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,r=this._y,a=this._z,n=this._w,o=n*e._w+i*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=n,this._x=i,this._y=r,this._z=a,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(n+this._w),this._x=.5*(i+this._x),this._y=.5*(r+this._y),this._z=.5*(a+this._z),this;var l=Math.atan2(s,o),c=Math.sin((1-t)*l)/s,h=Math.sin(t*l)/s;return this._w=n*c+this._w*h,this._x=i*c+this._x*h,this._y=r*c+this._y*h,this._z=a*c+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(THREE.Quaternion,{slerp:function(e,t,i,r){return i.copy(e).slerp(t,r)},slerpFlat:function(e,t,i,r,a,n,o){var s=i[r+0],l=i[r+1],c=i[r+2],h=i[r+3],u=a[n+0],d=a[n+1],p=a[n+2],m=a[n+3];if(h!==m||s!==u||l!==d||c!==p){var f=1-o,E=s*u+l*d+c*p+h*m,g=E>=0?1:-1,T=1-E*E;if(T>Number.EPSILON){var v=Math.sqrt(T),M=Math.atan2(v,E*g);f=Math.sin(f*M)/v,o=Math.sin(o*M)/v}var S=o*g;if(s=s*f+u*S,l=l*f+d*S,c=c*f+p*S,h=h*f+m*S,f===1-o){var y=1/Math.sqrt(s*s+l*l+c*c+h*h);s*=y,l*=y,c*=y,h*=y}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=h}}),THREE.Vector2=function(e,t){this.x=e||0,this.y=t||0},THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new THREE.Vector2,t=new THREE.Vector2),e.set(i,i),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this},rotateAround:function(e,t){var i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,n=this.y-e.y;return this.x=a*i-n*r+e.x,this.y=a*r+n*i+e.y,this}},THREE.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?this.multiplyVectors(e,t):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return THREE.Euler,void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e;return function(t,i){return void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12],this.y=a[1]*t+a[5]*i+a[9]*r+a[13],this.z=a[2]*t+a[6]*i+a[10]*r+a[14],this},applyProjection:function(e){var t=this.x,i=this.y,r=this.z,a=e.elements,n=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*n,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*n,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*n,this},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,a=e.x,n=e.y,o=e.z,s=e.w,l=s*t+n*r-o*i,c=s*i+o*t-a*r,h=s*r+a*i-n*t,u=-a*t-n*i-o*r;return this.x=l*s+u*-a+c*-o-h*-n,this.y=c*s+u*-n+h*-a-l*-o,this.z=h*s+u*-o+l*-n-c*-a,this},project:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new THREE.Vector3,t=new THREE.Vector3),e.set(i,i,i),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){if(void 0!==t)return this.crossVectors(e,t);var i=this.x,r=this.y,a=this.z;return this.x=r*e.z-a*e.y,this.y=a*e.x-i*e.z,this.z=i*e.y-r*e.x,this},crossVectors:function(e,t){var i=e.x,r=e.y,a=e.z,n=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*n-i*s,this.z=i*o-r*n,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(THREE.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this},setFromMatrixColumn:function(e,t){if("number"==typeof e){var i=e;e=t,t=i}return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this}},THREE.Vector4=function(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,a=this.w,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r+n[12]*a,this.y=n[1]*t+n[5]*i+n[9]*r+n[13]*a,this.z=n[2]*t+n[6]*i+n[10]*r+n[14]*a,this.w=n[3]*t+n[7]*i+n[11]*r+n[15]*a,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,a,n=e.elements,o=n[0],s=n[4],l=n[8],c=n[1],h=n[5],u=n[9],d=n[2],p=n[6],m=n[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+p)<.1&&Math.abs(o+h+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,E=(h+1)/2,g=(m+1)/2,T=(s+c)/4,v=(l+d)/4,M=(u+p)/4;return f>E&&f>g?f<.01?(i=0,r=.707106781,a=.707106781):(r=T/(i=Math.sqrt(f)),a=v/i):E>g?E<.01?(i=.707106781,r=0,a=.707106781):(i=T/(r=Math.sqrt(E)),a=M/r):g<.01?(i=.707106781,r=.707106781,a=0):(i=v/(a=Math.sqrt(g)),r=M/a),this.set(i,r,a,t),this}var S=Math.sqrt((p-u)*(p-u)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(S)<.001&&(S=1),this.x=(p-u)/S,this.y=(l-d)/S,this.z=(c-s)/S,this.w=Math.acos((o+h+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new THREE.Vector4,t=new THREE.Vector4),e.set(i,i,i,i),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this}},THREE.Euler=function(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._order=r||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var r=THREE.Math.clamp,a=e.elements,n=a[0],o=a[4],s=a[8],l=a[1],c=a[5],h=a[9],u=a[2],d=a[6],p=a[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,n)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,n),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,n))):"ZYX"===t?(this._y=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,n)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,n)):(this._x=Math.atan2(-h,p),this._y=0)),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,i,r){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,i,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new THREE.Quaternion;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},THREE.Line3=function(e,t){this.start=void 0!==e?e:new THREE.Vector3,this.end=void 0!==t?t:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new THREE.Vector3;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i,r){e.subVectors(i,this.start),t.subVectors(this.end,this.start);var a=t.dot(t),n=t.dot(e)/a;return r&&(n=THREE.Math.clamp(n,0,1)),n}}(),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t),a=i||new THREE.Vector3;return this.delta(a).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},THREE.Box2=function(e,t){this.min=void 0!==e?e:new THREE.Vector2(1/0,1/0),this.max=void 0!==t?t:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new THREE.Vector2;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new THREE.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new THREE.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},THREE.Box3=function(e,t){this.min=void 0!==e?e:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,i=1/0,r=1/0,a=-1/0,n=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],h=e[s+1],u=e[s+2];c<t&&(t=c),h<i&&(i=h),u<r&&(r=u),c>a&&(a=c),h>n&&(n=h),u>o&&(o=u)}this.min.set(t,i,r),this.max.set(a,n,o)},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new THREE.Vector3;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new THREE.Vector3;return function(t){var i=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse((function(t){var r=t.geometry;if(void 0!==r)if(r instanceof THREE.Geometry)for(var a=r.vertices,n=0,o=a.length;n<o;n++)e.copy(a[n]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e);else if(r instanceof THREE.BufferGeometry&&void 0!==r.attributes.position){var s=r.attributes.position.array;for(n=0,o=s.length;n<o;n+=3)e.fromArray(s,n),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e)}})),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new THREE.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=e.constant&&i>=e.constant},clampPoint:function(e,t){return(t||new THREE.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new THREE.Vector3;return function(t){var i=t||new THREE.Sphere;return i.center=this.center(),i.radius=.5*this.size(e).length(),i}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1])},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,i,r,a,n,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=a,c[5]=s,c[6]=i,c[7]=n,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToVector3Array:function(){var e;return function(t,i,r){void 0===e&&(e=new THREE.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length);for(var a=0,n=i;a<r;a+=3,n+=3)e.fromArray(t,n),e.applyMatrix3(this),e.toArray(t,n);return t}}(),applyToBuffer:function(){var e;return function(t,i,r){void 0===e&&(e=new THREE.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length/t.itemSize);for(var a=0,n=i;a<r;a++,n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],n=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*n*c-t*o*l-i*a*c+i*o*s+r*a*l-r*n*s},getInverse:function(e,t){THREE.Matrix4;var i=e.elements,r=this.elements,a=i[0],n=i[1],o=i[2],s=i[3],l=i[4],c=i[5],h=i[6],u=i[7],d=i[8],p=d*l-c*u,m=c*h-d*s,f=u*s-l*h,E=a*p+n*m+o*f;if(0===E){if(t)throw new Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}var g=1/E;return r[0]=p*g,r[1]=(o*u-d*n)*g,r[2]=(c*n-o*l)*g,r[3]=m*g,r[4]=(d*a-o*h)*g,r[5]=(o*s-c*a)*g,r[6]=f*g,r[7]=(n*h-u*a)*g,r[8]=(l*a-n*s)*g,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){return this.toArray(e,t)},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}},THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,i,r,a,n,o,s,l,c,h,u,d,p,m,f){var E=this.elements;return E[0]=e,E[4]=t,E[8]=i,E[12]=r,E[1]=a,E[5]=n,E[9]=o,E[13]=s,E[2]=l,E[6]=c,E[10]=h,E[14]=u,E[3]=d,E[7]=p,E[11]=m,E[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new THREE.Vector3);var i=this.elements,r=t.elements,a=1/e.setFromMatrixColumn(t,0).length(),n=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return i[0]=r[0]*a,i[1]=r[1]*a,i[2]=r[2]*a,i[4]=r[4]*n,i[5]=r[5]*n,i[6]=r[6]*n,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,this}}(),makeRotationFromEuler:function(e){THREE.Euler;var t=this.elements,i=e.x,r=e.y,a=e.z,n=Math.cos(i),o=Math.sin(i),s=Math.cos(r),l=Math.sin(r),c=Math.cos(a),h=Math.sin(a);if("XYZ"===e.order){var u=n*c,d=n*h,p=o*c,m=o*h;t[0]=s*c,t[4]=-s*h,t[8]=l,t[1]=d+p*l,t[5]=u-m*l,t[9]=-o*s,t[2]=m-u*l,t[6]=p+d*l,t[10]=n*s}else if("YXZ"===e.order){var f=s*c,E=s*h,g=l*c,T=l*h;t[0]=f+T*o,t[4]=g*o-E,t[8]=n*l,t[1]=n*h,t[5]=n*c,t[9]=-o,t[2]=E*o-g,t[6]=T+f*o,t[10]=n*s}else if("ZXY"===e.order)f=s*c,E=s*h,g=l*c,T=l*h,t[0]=f-T*o,t[4]=-n*h,t[8]=g+E*o,t[1]=E+g*o,t[5]=n*c,t[9]=T-f*o,t[2]=-n*l,t[6]=o,t[10]=n*s;else if("ZYX"===e.order)u=n*c,d=n*h,p=o*c,m=o*h,t[0]=s*c,t[4]=p*l-d,t[8]=u*l+m,t[1]=s*h,t[5]=m*l+u,t[9]=d*l-p,t[2]=-l,t[6]=o*s,t[10]=n*s;else if("YZX"===e.order){var v=n*s,M=n*l,S=o*s,y=o*l;t[0]=s*c,t[4]=y-v*h,t[8]=S*h+M,t[1]=h,t[5]=n*c,t[9]=-o*c,t[2]=-l*c,t[6]=M*h+S,t[10]=v-y*h}else"XZY"===e.order&&(v=n*s,M=n*l,S=o*s,y=o*l,t[0]=s*c,t[4]=-h,t[8]=l*c,t[1]=v*h+y,t[5]=n*c,t[9]=M*h-S,t[2]=S*h-M,t[6]=o*c,t[10]=y*h+v);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,i=e.x,r=e.y,a=e.z,n=e.w,o=i+i,s=r+r,l=a+a,c=i*o,h=i*s,u=i*l,d=r*s,p=r*l,m=a*l,f=n*o,E=n*s,g=n*l;return t[0]=1-(d+m),t[4]=h-g,t[8]=u+E,t[1]=h+g,t[5]=1-(c+m),t[9]=p-f,t[2]=u-E,t[6]=p+f,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,i;return function(r,a,n){void 0===e&&(e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3);var o=this.elements;return i.subVectors(r,a).normalize(),0===i.lengthSq()&&(i.z=1),e.crossVectors(n,i).normalize(),0===e.lengthSq()&&(i.z+=1e-4,e.crossVectors(n,i).normalize()),t.crossVectors(i,e),o[0]=e.x,o[4]=t.x,o[8]=i.x,o[1]=e.y,o[5]=t.y,o[9]=i.y,o[2]=e.z,o[6]=t.z,o[10]=i.z,this}}(),multiply:function(e,t){return void 0!==t?this.multiplyMatrices(e,t):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,a=this.elements,n=i[0],o=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],d=i[13],p=i[2],m=i[6],f=i[10],E=i[14],g=i[3],T=i[7],v=i[11],M=i[15],S=r[0],y=r[4],R=r[8],x=r[12],b=r[1],H=r[5],B=r[9],L=r[13],A=r[2],w=r[6],_=r[10],C=r[14],I=r[3],P=r[7],F=r[11],N=r[15];return a[0]=n*S+o*b+s*A+l*I,a[4]=n*y+o*H+s*w+l*P,a[8]=n*R+o*B+s*_+l*F,a[12]=n*x+o*L+s*C+l*N,a[1]=c*S+h*b+u*A+d*I,a[5]=c*y+h*H+u*w+d*P,a[9]=c*R+h*B+u*_+d*F,a[13]=c*x+h*L+u*C+d*N,a[2]=p*S+m*b+f*A+E*I,a[6]=p*y+m*H+f*w+E*P,a[10]=p*R+m*B+f*_+E*F,a[14]=p*x+m*L+f*C+E*N,a[3]=g*S+T*b+v*A+M*I,a[7]=g*y+T*H+v*w+M*P,a[11]=g*R+T*B+v*_+M*F,a[15]=g*x+T*L+v*C+M*N,this},multiplyToArray:function(e,t,i){var r=this.elements;return this.multiplyMatrices(e,t),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToVector3Array:function(){var e;return function(t,i,r){void 0===e&&(e=new THREE.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length);for(var a=0,n=i;a<r;a+=3,n+=3)e.fromArray(t,n),e.applyMatrix4(this),e.toArray(t,n);return t}}(),applyToBuffer:function(){var e;return function(t,i,r){void 0===e&&(e=new THREE.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length/t.itemSize);for(var a=0,n=i;a<r;a++,n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],n=e[1],o=e[5],s=e[9],l=e[13],c=e[2],h=e[6],u=e[10],d=e[14];return e[3]*(+a*s*h-r*l*h-a*o*u+i*l*u+r*o*d-i*s*d)+e[7]*(+t*s*d-t*l*u+a*n*u-r*n*d+r*l*c-a*s*c)+e[11]*(+t*l*h-t*o*d-a*n*h+i*n*d+a*o*c-i*l*c)+e[15]*(-r*o*c-t*s*h+t*o*u+r*n*h-i*n*u+i*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){return this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new THREE.Vector3),e.setFromMatrixColumn(this,3)}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,r=e.elements,a=r[0],n=r[1],o=r[2],s=r[3],l=r[4],c=r[5],h=r[6],u=r[7],d=r[8],p=r[9],m=r[10],f=r[11],E=r[12],g=r[13],T=r[14],v=r[15],M=p*T*u-g*m*u+g*h*f-c*T*f-p*h*v+c*m*v,S=E*m*u-d*T*u-E*h*f+l*T*f+d*h*v-l*m*v,y=d*g*u-E*p*u+E*c*f-l*g*f-d*c*v+l*p*v,R=E*p*h-d*g*h-E*c*m+l*g*m+d*c*T-l*p*T,x=a*M+n*S+o*y+s*R;if(0===x){if(t)throw new Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return this.identity()}var b=1/x;return i[0]=M*b,i[1]=(g*m*s-p*T*s-g*o*f+n*T*f+p*o*v-n*m*v)*b,i[2]=(c*T*s-g*h*s+g*o*u-n*T*u-c*o*v+n*h*v)*b,i[3]=(p*h*s-c*m*s-p*o*u+n*m*u+c*o*f-n*h*f)*b,i[4]=S*b,i[5]=(d*T*s-E*m*s+E*o*f-a*T*f-d*o*v+a*m*v)*b,i[6]=(E*h*s-l*T*s-E*o*u+a*T*u+l*o*v-a*h*v)*b,i[7]=(l*m*s-d*h*s+d*o*u-a*m*u-l*o*f+a*h*f)*b,i[8]=y*b,i[9]=(E*p*s-d*g*s-E*n*f+a*g*f+d*n*v-a*p*v)*b,i[10]=(l*g*s-E*c*s+E*n*u-a*g*u-l*n*v+a*c*v)*b,i[11]=(d*c*s-l*p*s-d*n*u+a*p*u+l*n*f-a*c*f)*b,i[12]=R*b,i[13]=(d*g*o-E*p*o+E*n*m-a*g*m-d*n*T+a*p*T)*b,i[14]=(E*c*o-l*g*o-E*n*h+a*g*h+l*n*T-a*c*T)*b,i[15]=(l*p*o-d*c*o+d*n*h-a*p*h-l*n*m+a*c*m)*b,this},scale:function(e){var t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),a=1-i,n=e.x,o=e.y,s=e.z,l=a*n,c=a*o;return this.set(l*n+i,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+i,c*s-r*n,0,l*s-r*o,c*s+r*n,a*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},compose:function(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(){var e,t;return function(i,r,a){void 0===e&&(e=new THREE.Vector3,t=new THREE.Matrix4);var n=this.elements,o=e.set(n[0],n[1],n[2]).length(),s=e.set(n[4],n[5],n[6]).length(),l=e.set(n[8],n[9],n[10]).length();this.determinant()<0&&(o=-o),i.x=n[12],i.y=n[13],i.z=n[14],t.elements.set(this.elements);var c=1/o,h=1/s,u=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=u,t.elements[9]*=u,t.elements[10]*=u,r.setFromRotationMatrix(t),a.x=o,a.y=s,a.z=l,this}}(),makeFrustum:function(e,t,i,r,a,n){var o=this.elements,s=2*a/(t-e),l=2*a/(r-i),c=(t+e)/(t-e),h=(r+i)/(r-i),u=-(n+a)/(n-a),d=-2*n*a/(n-a);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(e,t,i,r){var a=i*Math.tan(THREE.Math.DEG2RAD*e*.5),n=-a,o=n*t,s=a*t;return this.makeFrustum(o,s,n,a,i,r)},makeOrthographic:function(e,t,i,r,a,n){var o=this.elements,s=1/(t-e),l=1/(i-r),c=1/(n-a),h=(t+e)*s,u=(i+r)*l,d=(n+a)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}},THREE.Ray=function(e,t){this.origin=void 0!==e?e:new THREE.Vector3,this.direction=void 0!==t?t:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new THREE.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var i=t||new THREE.Vector3;i.subVectors(e,this.origin);var r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new THREE.Vector3;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(r,a,n,o){e.copy(r).add(a).multiplyScalar(.5),t.copy(a).sub(r).normalize(),i.copy(this.origin).sub(e);var s,l,c,h,u=.5*r.distanceTo(a),d=-this.direction.dot(t),p=i.dot(this.direction),m=-i.dot(t),f=i.lengthSq(),E=Math.abs(1-d*d);if(E>0)if(l=d*p-m,h=u*E,(s=d*m-p)>=0)if(l>=-h)if(l<=h){var g=1/E;c=(s*=g)*(s+d*(l*=g)+2*p)+l*(d*s+l+2*m)+f}else l=u,c=-(s=Math.max(0,-(d*l+p)))*s+l*(l+2*m)+f;else l=-u,c=-(s=Math.max(0,-(d*l+p)))*s+l*(l+2*m)+f;else l<=-h?c=-(s=Math.max(0,-(-d*u+p)))*s+(l=s>0?-u:Math.min(Math.max(-u,-m),u))*(l+2*m)+f:l<=h?(s=0,c=(l=Math.min(Math.max(-u,-m),u))*(l+2*m)+f):c=-(s=Math.max(0,-(d*u+p)))*s+(l=s>0?u:Math.min(Math.max(-u,-m),u))*(l+2*m)+f;else l=d>0?-u:u,c=-(s=Math.max(0,-(d*l+p)))*s+l*(l+2*m)+f;return n&&n.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new THREE.Vector3;return function(t,i){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),a=e.dot(e)-r*r,n=t.radius*t.radius;if(a>n)return null;var o=Math.sqrt(n-a),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var i,r,a,n,o,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(i=(e.min.x-u.x)*l,r=(e.max.x-u.x)*l):(i=(e.max.x-u.x)*l,r=(e.min.x-u.x)*l),c>=0?(a=(e.min.y-u.y)*c,n=(e.max.y-u.y)*c):(a=(e.max.y-u.y)*c,n=(e.min.y-u.y)*c),i>n||a>r?null:((a>i||i!=i)&&(i=a),(n<r||r!=r)&&(r=n),h>=0?(o=(e.min.z-u.z)*h,s=(e.max.z-u.z)*h):(o=(e.max.z-u.z)*h,s=(e.min.z-u.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,t)))},intersectsBox:function(){var e=new THREE.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Vector3;return function(a,n,o,s,l){t.subVectors(n,a),i.subVectors(o,a),r.crossVectors(t,i);var c,h=this.direction.dot(r);if(h>0){if(s)return null;c=1}else{if(!(h<0))return null;c=-1,h=-h}e.subVectors(this.origin,a);var u=c*this.direction.dot(i.crossVectors(e,i));if(u<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(u+d>h)return null;var p=-c*e.dot(r);return p<0?null:this.at(p/h,l)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},THREE.Sphere=function(e,t){this.center=void 0!==e?e:new THREE.Vector3,this.radius=void 0!==t?t:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new THREE.Box3;return function(t,i){var r=this.center;void 0!==i?r.copy(i):e.setFromPoints(t).center(r);for(var a=0,n=0,o=t.length;n<o;n++)a=Math.max(a,r.distanceToSquared(t[n]));return this.radius=Math.sqrt(a),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),r=t||new THREE.Vector3;return r.copy(e),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new THREE.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},THREE.Frustum=function(e,t,i,r,a,n){this.planes=[void 0!==e?e:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==a?a:new THREE.Plane,void 0!==n?n:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,i,r,a,n){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,r=i[0],a=i[1],n=i[2],o=i[3],s=i[4],l=i[5],c=i[6],h=i[7],u=i[8],d=i[9],p=i[10],m=i[11],f=i[12],E=i[13],g=i[14],T=i[15];return t[0].setComponents(o-r,h-s,m-u,T-f).normalize(),t[1].setComponents(o+r,h+s,m+u,T+f).normalize(),t[2].setComponents(o+a,h+l,m+d,T+E).normalize(),t[3].setComponents(o-a,h-l,m-d,T-E).normalize(),t[4].setComponents(o-n,h-c,m-p,T-g).normalize(),t[5].setComponents(o+n,h+c,m+p,T+g).normalize(),this},intersectsObject:function(){var e=new THREE.Sphere;return function(t){var i=t.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),e.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new THREE.Sphere;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,i=e.center,r=-e.radius,a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0},intersectsBox:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i){for(var r=this.planes,a=0;a<6;a++){var n=r[a];e.x=n.normal.x>0?i.min.x:i.max.x,t.x=n.normal.x>0?i.max.x:i.min.x,e.y=n.normal.y>0?i.min.y:i.max.y,t.y=n.normal.y>0?i.max.y:i.min.y,e.z=n.normal.z>0?i.min.z:i.max.z,t.z=n.normal.z>0?i.max.z:i.min.z;var o=n.distanceToPoint(e),s=n.distanceToPoint(t);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}},THREE.Plane=function(e,t){this.normal=void 0!==e?e:new THREE.Vector3(1,0,0),this.constant=void 0!==t?t:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i,r,a){var n=e.subVectors(a,r).cross(t.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);return(t||new THREE.Vector3).copy(this.normal).multiplyScalar(i)},intersectLine:function(){var e=new THREE.Vector3;return function(t,i){var r=i||new THREE.Vector3,a=t.delta(e),n=this.normal.dot(a);if(0===n)return 0===this.distanceToPoint(t.start)?r.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/n;return o<0||o>1?void 0:r.copy(a).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new THREE.Vector3,t=new THREE.Matrix3;return function(i,r){var a=this.coplanarPoint(e).applyMatrix4(i),n=r||t.getNormalMatrix(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},THREE.Spherical=function(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this},THREE.Spherical.prototype={constructor:THREE.Spherical,set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius.copy(e.radius),this.phi.copy(e.phi),this.theta.copy(e.theta),this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(THREE.Math.clamp(e.y/this.radius,-1,1))),this}},THREE.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),r=0;return function(){for(var a=0;a<36;a++)8===a||13===a||18===a||23===a?i[a]="-":14===a?i[a]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,i[a]=t[19===a?3&e|8:e]);return i.join("")}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,r,a){return r+(e-t)*(a-r)/(i-t)},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},random16:function(){return Math.random()},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*THREE.Math.DEG2RAD},radToDeg:function(e){return e*THREE.Math.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}},THREE.Spline=function(e){this.points=e;var t,i,r,a,n,o,s,l,c,h=[],u={x:0,y:0,z:0};function d(e,t,i,r,a,n,o){var s=.5*(i-e),l=.5*(r-t);return(2*(t-i)+s+l)*o+(-3*(t-i)-2*s-l)*n+s*a+t}this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return t=(this.points.length-1)*e,i=Math.floor(t),r=t-i,h[0]=0===i?i:i-1,h[1]=i,h[2]=i>this.points.length-2?this.points.length-1:i+1,h[3]=i>this.points.length-3?this.points.length-1:i+2,o=this.points[h[0]],s=this.points[h[1]],l=this.points[h[2]],c=this.points[h[3]],n=r*(a=r*r),u.x=d(o.x,s.x,l.x,c.x,r,a,n),u.y=d(o.y,s.y,l.y,c.y,r,a,n),u.z=d(o.z,s.z,l.z,c.z,r,a,n),u},this.getControlPointsArray=function(){var e,t,i=this.points.length,r=[];for(e=0;e<i;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,i,r,a,n=0,o=0,s=0,l=new THREE.Vector3,c=new THREE.Vector3,h=[],u=0;for(h[0]=0,e||(e=100),r=this.points.length*e,l.copy(this.points[0]),t=1;t<r;t++)i=t/r,a=this.getPoint(i),c.copy(a),u+=c.distanceTo(l),l.copy(a),n=(this.points.length-1)*i,(o=Math.floor(n))!==s&&(h[o]=u,s=o);return h[h.length]=u,{chunks:h,total:u}},this.reparametrizeByArcLength=function(e){var t,i,r,a,n,o,s,l,c=[],h=new THREE.Vector3,u=this.getLength();for(c.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(o=u.chunks[t]-u.chunks[t-1],s=Math.ceil(e*o/u.total),a=(t-1)/(this.points.length-1),n=t/(this.points.length-1),i=1;i<s-1;i++)r=a+i*(1/s)*(n-a),l=this.getPoint(r),c.push(h.copy(l).clone());c.push(h.copy(this.points[t]).clone())}this.points=c}},THREE.Triangle=function(e,t,i){this.a=void 0!==e?e:new THREE.Vector3,this.b=void 0!==t?t:new THREE.Vector3,this.c=void 0!==i?i:new THREE.Vector3},THREE.Triangle.normal=function(){var e=new THREE.Vector3;return function(t,i,r,a){var n=a||new THREE.Vector3;n.subVectors(r,i),e.subVectors(t,i),n.cross(e);var o=n.lengthSq();return o>0?n.multiplyScalar(1/Math.sqrt(o)):n.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(r,a,n,o,s){e.subVectors(o,a),t.subVectors(n,a),i.subVectors(r,a);var l=e.dot(e),c=e.dot(t),h=e.dot(i),u=t.dot(t),d=t.dot(i),p=l*u-c*c,m=s||new THREE.Vector3;if(0===p)return m.set(-2,-1,-1);var f=1/p,E=(u*h-c*d)*f,g=(l*d-c*h)*f;return m.set(1-E-g,g,E)}}(),THREE.Triangle.containsPoint=function(){var e=new THREE.Vector3;return function(t,i,r,a){var n=THREE.Triangle.barycoordFromPoint(t,i,r,a,e);return n.x>=0&&n.y>=0&&n.x+n.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e,t,i,r;return function(a,n){void 0===e&&(e=new THREE.Plane,t=[new THREE.Line3,new THREE.Line3,new THREE.Line3],i=new THREE.Vector3,r=new THREE.Vector3);var o=n||new THREE.Vector3,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(a,i),!0===this.containsPoint(i))o.copy(i);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var l=0;l<t.length;l++){t[l].closestPointToPoint(i,!0,r);var c=i.distanceToSquared(r);c<s&&(s=c,o.copy(r))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},THREE.Interpolant=function(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i},THREE.Interpolant.prototype={constructor:THREE.Interpolant,evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{var n;i:{r:if(!(e<r)){for(var o=i+2;;){if(void 0===r){if(e<a)break r;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,a)}if(i===o)break;if(a=r,e<(r=t[++i]))break t}n=t.length;break i}if(e>=a)break e;var s=t[1];for(e<s&&(i=2,a=s),o=i-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===o)break;if(r=a,e>=(a=t[--i-1]))break t}n=i,i=0}for(;i<n;){var l=i+n>>>1;e<t[l]?n=l:i=l+1}if(r=t[i],void 0===(a=t[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,a,e)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r,n=0;n!==r;++n)t[n]=i[a+n];return t},interpolate_:function(e,t,i,r){throw new Error("call to abstract method")},intervalChanged_:function(e,t,i){}},Object.assign(THREE.Interpolant.prototype,{beforeStart_:THREE.Interpolant.prototype.copySampleValue_,afterEnd_:THREE.Interpolant.prototype.copySampleValue_}),THREE.CubicInterpolant=function(e,t,i,r){THREE.Interpolant.call(this,e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},THREE.CubicInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.CubicInterpolant,DefaultSettings_:{endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},intervalChanged_:function(e,t,i){var r=this.parameterPositions,a=e-2,n=e+1,o=r[a],s=r[n];if(void 0===o)switch(this.getSettings_().endingStart){case THREE.ZeroSlopeEnding:a=e,o=2*t-i;break;case THREE.WrapAroundEnding:o=t+r[a=r.length-2]-r[a+1];break;default:a=e,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case THREE.ZeroSlopeEnding:n=e,s=2*i-t;break;case THREE.WrapAroundEnding:n=1,s=i+r[1]-r[0];break;default:n=e-1,s=t}var l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-i),this._offsetPrev=a*c,this._offsetNext=n*c},interpolate_:function(e,t,i,r){for(var a=this.resultBuffer,n=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(i-t)/(r-t),m=p*p,f=m*p,E=-u*f+2*u*m-u*p,g=(1+u)*f+(-1.5-2*u)*m+(-.5+u)*p+1,T=(-1-d)*f+(1.5+d)*m+.5*p,v=d*f-d*m,M=0;M!==o;++M)a[M]=E*n[c+M]+g*n[l+M]+T*n[s+M]+v*n[h+M];return a}}),THREE.DiscreteInterpolant=function(e,t,i,r){THREE.Interpolant.call(this,e,t,i,r)},THREE.DiscreteInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.DiscreteInterpolant,interpolate_:function(e,t,i,r){return this.copySampleValue_(e-1)}}),THREE.LinearInterpolant=function(e,t,i,r){THREE.Interpolant.call(this,e,t,i,r)},THREE.LinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.LinearInterpolant,interpolate_:function(e,t,i,r){for(var a=this.resultBuffer,n=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(i-t)/(r-t),h=1-c,u=0;u!==o;++u)a[u]=n[l+u]*h+n[s+u]*c;return a}}),THREE.QuaternionLinearInterpolant=function(e,t,i,r){THREE.Interpolant.call(this,e,t,i,r)},THREE.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.QuaternionLinearInterpolant,interpolate_:function(e,t,i,r){for(var a=this.resultBuffer,n=this.sampleValues,o=this.valueSize,s=e*o,l=(i-t)/(r-t),c=s+o;s!==c;s+=4)THREE.Quaternion.slerpFlat(a,0,n,s-o,n,s,l);return a}}),THREE.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=(performance||Date).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},THREE.EventDispatcher=function(){},Object.assign(THREE.EventDispatcher.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;var i=[],r=0,a=t.length;for(r=0;r<a;r++)i[r]=t[r];for(r=0;r<a;r++)i[r].call(this,e)}}}}),THREE.Layers=function(){this.mask=1},THREE.Layers.prototype={constructor:THREE.Layers,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!=(this.mask&e.mask)}},function(e){function t(e,t){return e.distance-t.distance}function i(e,t,r,a){if(!1!==e.visible&&(e.raycast(t,r),!0===a))for(var n=e.children,o=0,s=n.length;o<s;o++)i(n[o],t,r,!0)}e.Raycaster=function(t,i,r,a){this.ray=new e.Ray(t,i),this.near=r||0,this.far=a||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})},e.Raycaster.prototype={constructor:e.Raycaster,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,i){i instanceof e.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize()):i instanceof e.OrthographicCamera&&(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld))},intersectObject:function(e,r){var a=[];return i(e,this,a,r),a.sort(t),a},intersectObjects:function(e,r){var a=[];if(!1===Array.isArray(e))return a;for(var n=0,o=e.length;n<o;n++)i(e[n],this,a,r);return a.sort(t),a}}}(THREE),THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=THREE.Object3D.DefaultUp.clone();var e=new THREE.Vector3,t=new THREE.Euler,i=new THREE.Quaternion,r=new THREE.Vector3(1,1,1);t.onChange((function(){i.setFromEuler(t,!1)})),i.onChange((function(){t.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new THREE.Matrix4},normalMatrix:{value:new THREE.Matrix3}}),this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new THREE.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0),THREE.Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(THREE.Object3D.prototype,THREE.EventDispatcher.prototype,{applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new THREE.Quaternion;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new THREE.Vector3;return function(t,i){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new THREE.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new THREE.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this||e instanceof THREE.Object3D&&(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)),this},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var i=this.children.indexOf(e);-1!==i&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,r=this.children.length;i<r;i++){var a=this.children[i].getObjectByProperty(e,t);if(void 0!==a)return a}},getWorldPosition:function(e){var t=e||new THREE.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i){var r=i||new THREE.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new THREE.Quaternion;return function(t){var i=t||new THREE.Euler;return this.getWorldQuaternion(e),i.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new THREE.Vector3,t=new THREE.Quaternion;return function(i){var r=i||new THREE.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new THREE.Quaternion;return function(t){var i=t||new THREE.Vector3;return this.getWorldQuaternion(e),i.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(e){var t=void 0===e||""===e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(t){var n=c(e.geometries),o=c(e.materials),s=c(e.textures),l=c(e.images);n.length>0&&(i.geometries=n),o.length>0&&(i.materials=o),s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i.object=r,i;function c(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var r=e.children[i];this.add(r.clone())}return this}}),THREE.Object3DIdCount=0,THREE.Face3=function(e,t,i,r,a,n){this.a=e,this.b=t,this.c=i,this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=a instanceof THREE.Color?a:new THREE.Color,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==n?n:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},THREE.BufferAttribute=function(e,t,i){this.uuid=THREE.Math.generateUUID(),this.array=e,this.itemSize=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0,this.normalized=!0===i},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var n=e[r];void 0===n&&(n=new THREE.Color),t[i++]=n.r,t[i++]=n.g,t[i++]=n.b}return this},copyIndicesArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var n=e[r];t[i++]=n.a,t[i++]=n.b,t[i++]=n.c}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var n=e[r];void 0===n&&(n=new THREE.Vector2),t[i++]=n.x,t[i++]=n.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var n=e[r];void 0===n&&(n=new THREE.Vector3),t[i++]=n.x,t[i++]=n.y,t[i++]=n.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,r=0,a=e.length;r<a;r++){var n=e[r];void 0===n&&(n=new THREE.Vector4),t[i++]=n.x,t[i++]=n.y,t[i++]=n.z,t[i++]=n.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this},setXYZW:function(e,t,i,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this},clone:function(){return(new this.constructor).copy(this)}},THREE.Int8Attribute=function(e,t){return new THREE.BufferAttribute(new Int8Array(e),t)},THREE.Uint8Attribute=function(e,t){return new THREE.BufferAttribute(new Uint8Array(e),t)},THREE.Uint8ClampedAttribute=function(e,t){return new THREE.BufferAttribute(new Uint8ClampedArray(e),t)},THREE.Int16Attribute=function(e,t){return new THREE.BufferAttribute(new Int16Array(e),t)},THREE.Uint16Attribute=function(e,t){return new THREE.BufferAttribute(new Uint16Array(e),t)},THREE.Int32Attribute=function(e,t){return new THREE.BufferAttribute(new Int32Array(e),t)},THREE.Uint32Attribute=function(e,t){return new THREE.BufferAttribute(new Uint32Array(e),t)},THREE.Float32Attribute=function(e,t){return new THREE.BufferAttribute(new Float32Array(e),t)},THREE.Float64Attribute=function(e,t){return new THREE.BufferAttribute(new Float64Array(e),t)},THREE.DynamicBufferAttribute=function(e,t){return new THREE.BufferAttribute(e,t).setDynamic(!0)},THREE.InstancedBufferAttribute=function(e,t,i){THREE.BufferAttribute.call(this,e,t),this.meshPerAttribute=i||1},THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute,THREE.InstancedBufferAttribute.prototype.copy=function(e){return THREE.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},THREE.InterleavedBuffer=function(e,t){this.uuid=THREE.Math.generateUUID(),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)}},THREE.InstancedInterleavedBuffer=function(e,t,i){THREE.InterleavedBuffer.call(this,e,t),this.meshPerAttribute=i||1},THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype),THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer,THREE.InstancedInterleavedBuffer.prototype.copy=function(e){return THREE.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},THREE.InterleavedBufferAttribute=function(e,t,i){this.uuid=THREE.Math.generateUUID(),this.data=e,this.itemSize=t,this.offset=i},THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){return this.array.length},get count(){return this.data.count},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this},setXYZW:function(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(THREE.Geometry.prototype,THREE.EventDispatcher.prototype,{applyMatrix:function(e){for(var t=(new THREE.Matrix3).getNormalMatrix(e),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(e);for(i=0,r=this.faces.length;i<r;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var n=0,o=a.vertexNormals.length;n<o;n++)a.vertexNormals[n].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,i,r){return void 0===e&&(e=new THREE.Matrix4),e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,i,r){return void 0===e&&(e=new THREE.Matrix4),e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new THREE.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,i=null!==e.index?e.index.array:void 0,r=e.attributes,a=r.position.array,n=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=[],h=[],u=[],d=0,p=0;d<a.length;d+=3,p+=2)t.vertices.push(new THREE.Vector3(a[d],a[d+1],a[d+2])),void 0!==n&&c.push(new THREE.Vector3(n[d],n[d+1],n[d+2])),void 0!==o&&t.colors.push(new THREE.Color(o[d],o[d+1],o[d+2])),void 0!==s&&h.push(new THREE.Vector2(s[p],s[p+1])),void 0!==l&&u.push(new THREE.Vector2(l[p],l[p+1]));function m(e,i,r,a){var d=void 0!==n?[c[e].clone(),c[i].clone(),c[r].clone()]:[],p=void 0!==o?[t.colors[e].clone(),t.colors[i].clone(),t.colors[r].clone()]:[],m=new THREE.Face3(e,i,r,d,p,a);t.faces.push(m),void 0!==s&&t.faceVertexUvs[0].push([h[e].clone(),h[i].clone(),h[r].clone()]),void 0!==l&&t.faceVertexUvs[1].push([u[e].clone(),u[i].clone(),u[r].clone()])}if(void 0!==i){var f=e.groups;if(f.length>0)for(d=0;d<f.length;d++)for(var E=f[d],g=E.start,T=(p=g,g+E.count);p<T;p+=3)m(i[p],i[p+1],i[p+2],E.materialIndex);else for(d=0;d<i.length;d+=3)m(i[d],i[d+1],i[d+2])}else for(d=0;d<a.length/3;d+=3)m(d,d+1,d+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,r=new THREE.Matrix4;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new THREE.Vector3,t=new THREE.Vector3,i=0,r=this.faces.length;i<r;i++){var a=this.faces[i],n=this.vertices[a.a],o=this.vertices[a.b],s=this.vertices[a.c];e.subVectors(s,o),t.subVectors(n,o),e.cross(t),e.normalize(),a.normal.copy(e)}},computeVertexNormals:function(e){var t,i,r,a,n,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)o[t]=new THREE.Vector3;if(e){var s,l,c,h=new THREE.Vector3,u=new THREE.Vector3;for(r=0,a=this.faces.length;r<a;r++)n=this.faces[r],s=this.vertices[n.a],l=this.vertices[n.b],c=this.vertices[n.c],h.subVectors(c,l),u.subVectors(s,l),h.cross(u),o[n.a].add(h),o[n.b].add(h),o[n.c].add(h)}else for(r=0,a=this.faces.length;r<a;r++)o[(n=this.faces[r]).a].add(n.normal),o[n.b].add(n.normal),o[n.c].add(n.normal);for(t=0,i=this.vertices.length;t<i;t++)o[t].normalize();for(r=0,a=this.faces.length;r<a;r++){var d=(n=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(o[n.a]),d[1].copy(o[n.b]),d[2].copy(o[n.c])):(d[0]=o[n.a].clone(),d[1]=o[n.b].clone(),d[2]=o[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,r,a;for(i=0,r=this.faces.length;i<r;i++)for((a=this.faces[i]).__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),e=0,t=a.vertexNormals.length;e<t;e++)a.__originalVertexNormals[e]?a.__originalVertexNormals[e].copy(a.vertexNormals[e]):a.__originalVertexNormals[e]=a.vertexNormals[e].clone();var n=new THREE.Geometry;for(n.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)l=new THREE.Vector3,c={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},o.push(l),s.push(c)}var l,c,h=this.morphNormals[e];for(n.vertices=this.morphTargets[e].vertices,n.computeFaceNormals(),n.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)a=this.faces[i],l=h.faceNormals[i],c=h.vertexNormals[i],l.copy(a.normal),c.a.copy(a.vertexNormals[0]),c.b.copy(a.vertexNormals[1]),c.c.copy(a.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(a=this.faces[i]).normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeTangents:function(){},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,r=t.length;i<r;i++)i>0&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e instanceof THREE.Geometry!=0){var r,a=this.vertices.length,n=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===i&&(i=0),void 0!==t&&(r=(new THREE.Matrix3).getNormalMatrix(t));for(var u=0,d=o.length;u<d;u++){var p=o[u].clone();void 0!==t&&p.applyMatrix4(t),n.push(p)}for(u=0,d=l.length;u<d;u++){var m,f,E,g=l[u],T=g.vertexNormals,v=g.vertexColors;(m=new THREE.Face3(g.a+a,g.b+a,g.c+a)).normal.copy(g.normal),void 0!==r&&m.normal.applyMatrix3(r).normalize();for(var M=0,S=T.length;M<S;M++)f=T[M].clone(),void 0!==r&&f.applyMatrix3(r).normalize(),m.vertexNormals.push(f);for(m.color.copy(g.color),M=0,S=v.length;M<S;M++)E=v[M],m.vertexColors.push(E.clone());m.materialIndex=g.materialIndex+i,s.push(m)}for(u=0,d=h.length;u<d;u++){var y=h[u],R=[];if(void 0!==y){for(M=0,S=y.length;M<S;M++)R.push(y[M].clone());c.push(R)}}}},mergeMesh:function(e){e instanceof THREE.Mesh!=0&&(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,i,r,a,n,o,s,l={},c=[],h=[],u=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)e=this.vertices[i],void 0===l[t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u)]?(l[t]=i,c.push(this.vertices[i]),h[i]=c.length-1):h[i]=h[l[t]];var d=[];for(i=0,r=this.faces.length;i<r;i++){(a=this.faces[i]).a=h[a.a],a.b=h[a.b],a.c=h[a.c],n=[a.a,a.b,a.c];for(var p=0;p<3;p++)if(n[p]===n[(p+1)%3]){d.push(i);break}}for(i=d.length-1;i>=0;i--){var m=d[i];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-c.length;return this.vertices=c,f},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,a,n=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(n&&n.length===t&&(r=[]),o&&o.length===t&&(a=[]),i=0;i<t;i++){var s=e[i]._id;r&&r.push(n[s]),a&&a.push(o[s])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}for(var r=[],a=0;a<this.vertices.length;a++){var n=this.vertices[a];r.push(n.x,n.y,n.z)}var o=[],s=[],l={},c=[],h={},u=[],d={};for(a=0;a<this.faces.length;a++){var p=this.faces[a],m=void 0!==this.faceVertexUvs[0][a],f=p.normal.length()>0,E=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,T=p.vertexColors.length>0,v=0;if(v=R(v,0,0),v=R(v,1,!0),v=R(v,2,!1),v=R(v,3,m),v=R(v,4,f),v=R(v,5,E),v=R(v,6,g),v=R(v,7,T),o.push(v),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var M=this.faceVertexUvs[0][a];o.push(H(M[0]),H(M[1]),H(M[2]))}if(f&&o.push(x(p.normal)),E){var S=p.vertexNormals;o.push(x(S[0]),x(S[1]),x(S[2]))}if(g&&o.push(b(p.color)),T){var y=p.vertexColors;o.push(b(y[0]),b(y[1]),b(y[2]))}}function R(e,t,i){return i?e|1<<t:e&~(1<<t)}function x(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function b(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=c.length,c.push(e.getHex())),h[t]}function H(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=u.length/2,u.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),u.length>0&&(e.data.uvs=[u]),e.data.faces=o,e},clone:function(){return(new THREE.Geometry).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var t=e.vertices,i=0,r=t.length;i<r;i++)this.vertices.push(t[i].clone());var a=e.faces;for(i=0,r=a.length;i<r;i++)this.faces.push(a[i].clone());for(i=0,r=e.faceVertexUvs.length;i<r;i++){var n=e.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var o=0,s=n.length;o<s;o++){for(var l=n[o],c=[],h=0,u=l.length;h<u;h++){var d=l[h];c.push(d.clone())}this.faceVertexUvs[i].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),THREE.GeometryIdCount=0,THREE.DirectGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(THREE.DirectGeometry.prototype,THREE.EventDispatcher.prototype,{computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){},computeVertexNormals:function(){},computeGroups:function(e){for(var t,i,r=[],a=e.faces,n=0;n<a.length;n++){var o=a[n];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,i=e.faces,r=e.vertices,a=e.faceVertexUvs,n=a[0]&&a[0].length>0,o=a[1]&&a[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]=[];this.morphTargets.position=t}var h,u=e.morphNormals,d=u.length;if(d>0){for(h=[],c=0;c<d;c++)h[c]=[];this.morphTargets.normal=h}var p=e.skinIndices,m=e.skinWeights,f=p.length===r.length,E=m.length===r.length;for(c=0;c<i.length;c++){var g=i[c];this.vertices.push(r[g.a],r[g.b],r[g.c]);var T=g.vertexNormals;if(3===T.length)this.normals.push(T[0],T[1],T[2]);else{var v=g.normal;this.normals.push(v,v,v)}var M,S=g.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{var y=g.color;this.colors.push(y,y,y)}!0===n&&(void 0!==(M=a[0][c])?this.uvs.push(M[0],M[1],M[2]):this.uvs.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2)),!0===o&&(void 0!==(M=a[1][c])?this.uvs2.push(M[0],M[1],M[2]):this.uvs2.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2));for(var R=0;R<l;R++){var x=s[R].vertices;t[R].push(x[g.a],x[g.b],x[g.c])}for(R=0;R<d;R++){var b=u[R].vertexNormals[c];h[R].push(b.a,b.b,b.c)}f&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),E&&this.skinWeights.push(m[g.a],m[g.b],m[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},Object.assign(THREE.BufferGeometry.prototype,THREE.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){if(t instanceof THREE.BufferAttribute!=0||t instanceof THREE.InterleavedBufferAttribute!=0){if("index"!==e)return this.attributes[e]=t,this;this.setIndex(t)}else this.addAttribute(e,new THREE.BufferAttribute(arguments[1],arguments[2]))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var i=this.attributes.normal;return void 0!==i&&((new THREE.Matrix3).getNormalMatrix(e).applyToVector3Array(i.array),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,i,r){return void 0===e&&(e=new THREE.Matrix4),e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,i,r){return void 0===e&&(e=new THREE.Matrix4),e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new THREE.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e instanceof THREE.Points||e instanceof THREE.Line){var i=new THREE.Float32Attribute(3*t.vertices.length,3),r=new THREE.Float32Attribute(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var a=new THREE.Float32Attribute(t.lineDistances.length,1);this.addAttribute("lineDistance",a.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e instanceof THREE.Mesh&&t instanceof THREE.Geometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t,i=e.geometry;if(e instanceof THREE.Mesh){var r=i.__directGeometry;if(void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(i.vertices),t.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(i.normals),t.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(i.colors),t.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(i.uvs),t.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(i.lineDistances),t.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(e.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new THREE.DirectGeometry).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new THREE.BufferAttribute(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new THREE.BufferAttribute(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new THREE.BufferAttribute(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var a=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new THREE.BufferAttribute(a,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var n=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new THREE.BufferAttribute(n,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=new(e.vertices.length>65535?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new THREE.BufferAttribute(o,1).copyIndicesArray(e.indices))}for(var s in this.groups=e.groups,e.morphTargets){for(var l=[],c=e.morphTargets[s],h=0,u=c.length;h<u;h++){var d=c[h],p=new THREE.Float32Attribute(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[s]=l}if(e.skinIndices.length>0){var m=new THREE.Float32Attribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new THREE.Float32Attribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;void 0!==e?this.boundingBox.setFromArray(e):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var e=new THREE.Box3,t=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var i=this.attributes.position;if(i){var r=i.array,a=this.boundingSphere.center;e.setFromArray(r),e.center(a);for(var n=0,o=0,s=r.length;o<s;o+=3)t.fromArray(r,o),n=Math.max(n,a.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,i=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(r.length),3));else for(var a=t.normal.array,n=0,o=a.length;n<o;n++)a[n]=0;var s,l,c,h=t.normal.array,u=new THREE.Vector3,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3,f=new THREE.Vector3;if(e){var E=e.array;0===i.length&&this.addGroup(0,E.length);for(var g=0,T=i.length;g<T;++g){var v=i[g],M=v.start;for(n=M,o=M+v.count;n<o;n+=3)s=3*E[n+0],l=3*E[n+1],c=3*E[n+2],u.fromArray(r,s),d.fromArray(r,l),p.fromArray(r,c),m.subVectors(p,d),f.subVectors(u,d),m.cross(f),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z}}else for(n=0,o=r.length;n<o;n+=9)u.fromArray(r,n),d.fromArray(r,n+3),p.fromArray(r,n+6),m.subVectors(p,d),f.subVectors(u,d),m.cross(f),h[n]=m.x,h[n+1]=m.y,h[n+2]=m.z,h[n+3]=m.x,h[n+4]=m.y,h[n+5]=m.z,h[n+6]=m.x,h[n+7]=m.y,h[n+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e instanceof THREE.BufferGeometry!=0){void 0===t&&(t=0);var i=this.attributes;for(var r in i)if(void 0!==e.attributes[r])for(var a=i[r].array,n=e.attributes[r],o=n.array,s=0,l=n.itemSize*t;s<o.length;s++,l++)a[l]=o[s];return this}},normalizeNormals:function(){for(var e,t,i,r,a=this.attributes.normal.array,n=0,o=a.length;n<o;n+=3)e=a[n],t=a[n+1],i=a[n+2],r=1/Math.sqrt(e*e+t*t+i*i),a[n]*=r,a[n+1]*=r,a[n+2]*=r},toNonIndexed:function(){if(null===this.index)return this;var e=new THREE.BufferGeometry,t=this.index.array,i=this.attributes;for(var r in i){for(var a=i[r],n=a.array,o=a.itemSize,s=new n.constructor(t.length*o),l=0,c=0,h=0,u=t.length;h<u;h++){l=t[h]*o;for(var d=0;d<o;d++)s[c++]=n[l++]}e.addAttribute(r,new THREE.BufferAttribute(s,o))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var a=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:a}}var n=this.attributes;for(var i in n){var o=n[i];a=Array.prototype.slice.call(o.array),e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:a,normalized:o.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new THREE.BufferGeometry).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var r in i){var a=i[r];this.addAttribute(r,a.clone())}for(var n=e.groups,o=0,s=n.length;o<s;o++){var l=n[o];this.addGroup(l.start,l.count,l.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),THREE.BufferGeometry.MaxIndex=65535,THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry,THREE.InstancedBufferGeometry.prototype.addGroup=function(e,t,i){this.groups.push({start:e,count:t,instances:i})},THREE.InstancedBufferGeometry.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var r in i){var a=i[r];this.addAttribute(r,a.clone())}for(var n=e.groups,o=0,s=n.length;o<s;o++){var l=n[o];this.addGroup(l.start,l.count,l.instances)}return this},THREE.Uniform=function(e){"string"==typeof e&&(e=arguments[1]),this.value=e,this.dynamic=!1},THREE.Uniform.prototype={constructor:THREE.Uniform,onUpdate:function(e){return this.dynamic=!0,this.onUpdateCallback=e,this}},THREE.AnimationAction=function(){throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.")},THREE.AnimationAction._new=function(e,t,i){this._mixer=e,this._clip=t,this._localRoot=i||null;for(var r=t.tracks,a=r.length,n=new Array(a),o={endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},s=0;s!==a;++s){var l=r[s].createInterpolant(null);n[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=n,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=THREE.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},THREE.AnimationAction._new.prototype={constructor:THREE.AnimationAction._new,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this._startTime,this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(this._mixer,e.fadeOut(t),this.fadeIn(t),i){var r=this._clip.duration,a=e._clip.duration,n=a/r,o=r/a;e.warp(1,n,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var r=this._mixer,a=r.time,n=this._timeScaleInterpolant,o=this.timeScale;null===n&&(n=r._lendControlInterpolant(),this._timeScaleInterpolant=n);var s=n.parameterPositions,l=n.sampleValues;return s[0]=a,s[1]=a+i,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,r){var a=this._startTime;if(null!==a){var n=(e-a)*i;if(n<0||0===i)return;this._startTime=null,t=i*n}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var i=this._clip.duration,r=this.loop,a=this._loopCount;if(r===THREE.LoopOnce){-1===a&&(this.loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=i)t=i;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var n=r===THREE.LoopPingPong;if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,n)):this._setEndings(0===this.repetitions,!0,n)),t>=i||t<0){var o=Math.floor(t/i);t-=i*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var l=e<0;this._setEndings(l,!l,n)}else this._setEndings(!1,!1,n);this._loopCount=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(n&&1==(1&a))return this.time=t,i-t}return this.time=t,t},_setEndings:function(e,t,i){var r=this._interpolantSettings;i?(r.endingStart=THREE.ZeroSlopeEnding,r.endingEnd=THREE.ZeroSlopeEnding):(r.endingStart=e?this.zeroSlopeAtStart?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding,r.endingEnd=t?this.zeroSlopeAtEnd?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding)},_scheduleFading:function(e,t,i){var r=this._mixer,a=r.time,n=this._weightInterpolant;null===n&&(n=r._lendControlInterpolant(),this._weightInterpolant=n);var o=n.parameterPositions,s=n.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=i,this}},THREE.AnimationClip=function(e,t,i){this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.uuid=THREE.Math.generateUUID(),this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,resetDuration:function(){for(var e=0,t=0,i=this.tracks.length;t!==i;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(THREE.AnimationClip,{parse:function(e){for(var t=[],i=e.tracks,r=1/(e.fps||1),a=0,n=i.length;a!==n;++a)t.push(THREE.KeyframeTrack.parse(i[a]).scale(r));return new THREE.AnimationClip(e.name,e.duration,t)},toJSON:function(e){for(var t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t},a=0,n=i.length;a!==n;++a)t.push(THREE.KeyframeTrack.toJSON(i[a]));return r},CreateFromMorphTargetSequence:function(e,t,i,r){for(var a=t.length,n=[],o=0;o<a;o++){var s=[],l=[];s.push((o+a-1)%a,o,(o+1)%a),l.push(0,1,0);var c=THREE.AnimationUtils.getKeyframeOrder(s);s=THREE.AnimationUtils.sortedArray(s,1,c),l=THREE.AnimationUtils.sortedArray(l,1,c),r||0!==s[0]||(s.push(a),l.push(l[0])),n.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/i))}return new THREE.AnimationClip(e,-1,n)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var r=e;i=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){for(var r={},a=/^([\w-]*?)([\d]+)$/,n=0,o=e.length;n<o;n++){var s=e[n],l=s.name.match(a);if(l&&l.length>1){var c=r[u=l[1]];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var u in r)h.push(THREE.AnimationClip.CreateFromMorphTargetSequence(u,r[u],t,i));return h},parseAnimation:function(e,t,i){if(!e)return null;for(var r=function(e,t,i,r,a){if(0!==i.length){var n=[],o=[];THREE.AnimationUtils.flattenJSON(i,n,o,r),0!==n.length&&a.push(new e(t,n,o))}},a=[],n=e.name||"default",o=e.length||-1,s=e.fps||30,l=e.hierarchy||[],c=0;c<l.length;c++){var h=l[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var u={},d=0;d<h.length;d++)if(h[d].morphTargets)for(var p=0;p<h[d].morphTargets.length;p++)u[h[d].morphTargets[p]]=-1;for(var m in u){var f=[],E=[];for(p=0;p!==h[d].morphTargets.length;++p){var g=h[d];f.push(g.time),E.push(g.morphTarget===m?1:0)}a.push(new THREE.NumberKeyframeTrack(".morphTargetInfluence["+m+"]",f,E))}o=u.length*(s||1)}else{var T=".bones["+t[c].name+"]";r(THREE.VectorKeyframeTrack,T+".position",h,"pos",a),r(THREE.QuaternionKeyframeTrack,T+".quaternion",h,"rot",a),r(THREE.VectorKeyframeTrack,T+".scale",h,"scl",a)}}return 0===a.length?null:new THREE.AnimationClip(n,o,a)}}),THREE.AnimationMixer=function(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},Object.assign(THREE.AnimationMixer.prototype,THREE.EventDispatcher.prototype,{clipAction:function(e,t){var i=t||this._root,r=i.uuid,a="string"==typeof e?THREE.AnimationClip.findByName(i,e):e,n=null!==a?a.uuid:e,o=this._actionsByClip[n],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===a&&(a=s._clip)}if(null===a)return null;var c=new THREE.AnimationMixer._Action(this,a,t);return this._bindAction(c,s),this._addInactiveAction(c,n,r),c},existingAction:function(e,t){var i=t||this._root,r=i.uuid,a="string"==typeof e?THREE.AnimationClip.findByName(i,e):e,n=a?a.uuid:e,o=this._actionsByClip[n];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var a=0;a!==t;++a)e[a].reset();for(a=0;a!==r;++a)i[a].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),n=this._accuIndex^=1,o=0;o!==i;++o){var s=t[o];s.enabled&&s._update(r,e,a,n)}var l=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)l[o].apply(n);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(void 0!==a){for(var n=a.knownActions,o=0,s=n.length;o!==s;++o){var l=n[o];this._deactivateAction(l);var c=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var r in i){var a=i[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var n=this._bindingsByRootAndName[t];if(void 0!==n)for(var o in n){var s=n[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),THREE.AnimationMixer._Action=THREE.AnimationAction._new,Object.assign(THREE.AnimationMixer.prototype,{_bindAction:function(e,t){var i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,n=e._propertyBindings,o=e._interpolants,s=i.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var h=0;h!==a;++h){var u=r[h],d=u.name,p=c[d];if(void 0!==p)n[h]=p;else{if(void 0!==(p=n[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var m=t&&t._propertyBindings[h].binding.parsedPath;++(p=new THREE.PropertyMixer(THREE.PropertyBinding.create(i,d,m),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),n[h]=p}o[h].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,t)}for(var a=e._propertyBindings,n=0,o=a.length;n!==o;++n){var s=a[n];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var a=t[i];0==--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var r=this._actions,a=this._actionsByClip,n=a[t];if(void 0===n)n={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=n;else{var o=n.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),n.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,n=this._actionsByClip,o=n[a],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete n[a],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var a=t[i];0==--a.referenceCount&&this._removeInactiveBinding(a)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a},_addInactiveBinding:function(e,t,i){var r=this._bindingsByRootAndName,a=r[t],n=this._bindings;void 0===a&&(a={},r[t]=a),a[i]=e,e._cacheIndex=n.length,n.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,n=this._bindingsByRootAndName,o=n[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[a];e:{for(var c in o)break e;delete n[r]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&((i=new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a},_controlInterpolantsResultBuffer:new Float32Array(1)}),THREE.AnimationObjectGroup=function(e){this.uuid=THREE.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,r=arguments.length;i!==r;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}},THREE.AnimationObjectGroup.prototype={constructor:THREE.AnimationObjectGroup,add:function(e){for(var t=this._objects,i=t.length,r=this.nCachedObjects_,a=this._indicesByUUID,n=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length,c=0,h=arguments.length;c!==h;++c){var u=arguments[c],d=u.uuid,p=a[d];if(void 0===p){p=i++,a[d]=p,t.push(u);for(var m=0,f=l;m!==f;++m)s[m].push(new THREE.PropertyBinding(u,n[m],o[m]))}else if(p<r){t[p];var E=--r,g=t[E];for(a[g.uuid]=p,t[p]=g,a[d]=E,t[E]=u,m=0,f=l;m!==f;++m){var T=s[m],v=T[E],M=T[p];T[p]=v,void 0===M&&(M=new THREE.PropertyBinding(u,n[m],o[m])),T[E]=M}}else t[p]}this.nCachedObjects_=r},remove:function(e){for(var t=this._objects,i=(t.length,this.nCachedObjects_),r=this._indicesByUUID,a=this._bindings,n=a.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],c=l.uuid,h=r[c];if(void 0!==h&&h>=i){var u=i++,d=t[u];r[d.uuid]=h,t[h]=d,r[c]=u,t[u]=l;for(var p=0,m=n;p!==m;++p){var f=a[p],E=f[u],g=f[h];f[h]=E,f[u]=g}}}this.nCachedObjects_=i},uncache:function(e){for(var t=this._objects,i=t.length,r=this.nCachedObjects_,a=this._indicesByUUID,n=this._bindings,o=n.length,s=0,l=arguments.length;s!==l;++s){var c=arguments[s].uuid,h=a[c];if(void 0!==h)if(delete a[c],h<r){var u=--r,d=t[u],p=t[T=--i];a[d.uuid]=h,t[h]=d,a[p.uuid]=u,t[u]=p,t.pop();for(var m=0,f=o;m!==f;++m){var E=(v=n[m])[u],g=v[T];v[h]=E,v[u]=g,v.pop()}}else{var T;for(a[(p=t[T=--i]).uuid]=h,t[h]=p,t.pop(),m=0,f=o;m!==f;++m){var v;(v=n[m])[h]=v[T],v.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,r=i[e],a=this._bindings;if(void 0!==r)return a[r];var n=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,h=new Array(l);r=a.length,i[e]=r,n.push(e),o.push(t),a.push(h);for(var u=c,d=s.length;u!==d;++u){var p=s[u];h[u]=new THREE.PropertyBinding(p,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var r=this._paths,a=this._parsedPaths,n=this._bindings,o=n.length-1,s=n[o];t[e[o]]=i,n[i]=s,n.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}},THREE.AnimationUtils={arraySlice:function(e,t,i){return THREE.AnimationUtils.isTypedArray(e)?new e.constructor(e.subarray(t,i)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,i=new Array(t),r=0;r!==t;++r)i[r]=r;return i.sort((function(t,i){return e[t]-e[i]})),i},sortedArray:function(e,t,i){for(var r=e.length,a=new e.constructor(r),n=0,o=0;o!==r;++n)for(var s=i[n]*t,l=0;l!==t;++l)a[o++]=e[s+l];return a},flattenJSON:function(e,t,i,r){for(var a=1,n=e[0];void 0!==n&&void 0===n[r];)n=e[a++];if(void 0!==n){var o=n[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=n[r])&&(t.push(n.time),i.push.apply(i,o)),n=e[a++]}while(void 0!==n);else if(void 0!==o.toArray)do{void 0!==(o=n[r])&&(t.push(n.time),o.toArray(i,i.length)),n=e[a++]}while(void 0!==n);else do{void 0!==(o=n[r])&&(t.push(n.time),i.push(o)),n=e[a++]}while(void 0!==n)}}},THREE.KeyframeTrack=function(e,t,i,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=THREE.AnimationUtils.convertArray(t,this.TimeBufferType),this.values=THREE.AnimationUtils.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()},THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(e){return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new THREE.CubicInterpolant(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case THREE.InterpolateDiscrete:t=this.InterpolantFactoryMethodDiscrete;break;case THREE.InterpolateLinear:t=this.InterpolantFactoryMethodLinear;break;case THREE.InterpolateSmooth:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return THREE.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return THREE.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return THREE.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]*=e;return this},trim:function(e,t){for(var i=this.times,r=i.length,a=0,n=r-1;a!==r&&i[a]<e;)++a;for(;-1!==n&&i[n]>t;)--n;if(++n,0!==a||n!==r){a>=n&&(a=(n=Math.max(n,1))-1);var o=this.getValueSize();this.times=THREE.AnimationUtils.arraySlice(i,a,n),this.values=THREE.AnimationUtils.arraySlice(this.values,a*o,n*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(e=!1);var i=this.times,r=this.values,a=i.length;0===a&&(e=!1);for(var n=null,o=0;o!==a;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==n&&n>s){e=!1;break}n=s}if(void 0!==r&&THREE.AnimationUtils.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var c=r[o];if(isNaN(c)){e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,i=this.getValueSize(),r=1,a=1,n=e.length-1;a<=n;++a){var o=!1,s=e[a];if(s!==e[a+1]&&(1!==a||s!==s[0]))for(var l=a*i,c=l-i,h=l+i,u=0;u!==i;++u){var d=t[l+u];if(d!==t[c+u]||d!==t[h+u]){o=!0;break}}if(o){if(a!==r){e[r]=e[a];var p=a*i,m=r*i;for(u=0;u!==i;++u)t[m+u]=t[p+u]}++r}}return r!==e.length&&(this.times=THREE.AnimationUtils.arraySlice(e,0,r),this.values=THREE.AnimationUtils.arraySlice(t,0,r*i)),this}},Object.assign(THREE.KeyframeTrack,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=THREE.KeyframeTrack._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var i=[],r=[];THREE.AnimationUtils.flattenJSON(e.keys,i,r,"value"),e.times=i,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:THREE.AnimationUtils.convertArray(e.times,Array),values:THREE.AnimationUtils.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return THREE.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return THREE.VectorKeyframeTrack;case"color":return THREE.ColorKeyframeTrack;case"quaternion":return THREE.QuaternionKeyframeTrack;case"bool":case"boolean":return THREE.BooleanKeyframeTrack;case"string":return THREE.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)}}),THREE.PropertyBinding=function(e,t,i){this.path=t,this.parsedPath=i||THREE.PropertyBinding.parseTrackName(t),this.node=THREE.PropertyBinding.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e},THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,a=t.propertyIndex;if(e||(e=THREE.PropertyBinding.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var n=t.objectIndex;switch(i){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===n){n=o;break}break;default:if(void 0===e[i])return;e=e[i]}if(void 0!==n){if(void 0===e[n])return;e=e[n]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===a){a=o;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else t.nodeName}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(THREE.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:THREE.PropertyBinding.prototype.getValue,_setValue_unbound:THREE.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,r=0,a=i.length;r!==a;++r)e[t++]=i[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,r=0,a=i.length;r!==a;++r)i[r]=e[t++]},function(e,t){for(var i=this.resolvedProperty,r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),THREE.PropertyBinding.Composite=function(e,t,i){var r=i||THREE.PropertyBinding.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)},THREE.PropertyBinding.Composite.prototype={constructor:THREE.PropertyBinding.Composite,getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},THREE.PropertyBinding.create=function(e,t,i){return e instanceof THREE.AnimationObjectGroup?new THREE.PropertyBinding.Composite(e,t,i):new THREE.PropertyBinding(e,t,i)},THREE.PropertyBinding.parseTrackName=function(e){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,i=t.exec(e);if(!i)throw new Error("cannot parse trackName at all: "+e);i.index===t.lastIndex&&t.lastIndex++;var r={nodeName:i[3],objectName:i[5],objectIndex:i[7],propertyName:i[9],propertyIndex:i[11]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return r},THREE.PropertyBinding.findNode=function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=function(e){for(var i=0;i<e.bones.length;i++){var r=e.bones[i];if(r.name===t)return r}return null}(e.skeleton);if(i)return i}if(e.children){var r=function(e){for(var i=0;i<e.length;i++){var a=e[i];if(a.name===t||a.uuid===t)return a;var n=r(a.children);if(n)return n}return null},a=r(e.children);if(a)return a}return null},THREE.PropertyMixer=function(e,t,i){this.binding=e,this.valueSize=i;var r,a=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":a=Array,r=this._select;break;default:r=this._lerp}this.buffer=new a(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},THREE.PropertyMixer.prototype={constructor:THREE.PropertyMixer,accumulate:function(e,t){var i=this.buffer,r=this.valueSize,a=e*r+r,n=this.cumulativeWeight;if(0===n){for(var o=0;o!==r;++o)i[a+o]=i[o];n=t}else{var s=t/(n+=t);this._mixBufferRegion(i,a,0,s,r)}this.cumulativeWeight=n},apply:function(e){var t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,n=this.binding;if(this.cumulativeWeight=0,a<1){var o=3*t;this._mixBufferRegion(i,r,o,1-a,t)}for(var s=t,l=t+t;s!==l;++s)if(i[s]!==i[s+t]){n.setValue(i,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,r=3*i;e.getValue(t,r);for(var a=i,n=r;a!==n;++a)t[a]=t[r+a%i];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,r,a){if(r>=.5)for(var n=0;n!==a;++n)e[t+n]=e[i+n]},_slerp:function(e,t,i,r,a){THREE.Quaternion.slerpFlat(e,t,e,t,e,i,r)},_lerp:function(e,t,i,r,a){for(var n=1-r,o=0;o!==a;++o){var s=t+o;e[s]=e[s]*n+e[i+o]*r}}},THREE.BooleanKeyframeTrack=function(e,t,i){THREE.KeyframeTrack.call(this,e,t,i)},THREE.BooleanKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),THREE.ColorKeyframeTrack=function(e,t,i,r){THREE.KeyframeTrack.call(this,e,t,i,r)},THREE.ColorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.ColorKeyframeTrack,ValueTypeName:"color"}),THREE.NumberKeyframeTrack=function(e,t,i,r){THREE.KeyframeTrack.call(this,e,t,i,r)},THREE.NumberKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.NumberKeyframeTrack,ValueTypeName:"number"}),THREE.QuaternionKeyframeTrack=function(e,t,i,r){THREE.KeyframeTrack.call(this,e,t,i,r)},THREE.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodLinear:function(e){return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),THREE.StringKeyframeTrack=function(e,t,i,r){THREE.KeyframeTrack.call(this,e,t,i,r)},THREE.StringKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),THREE.VectorKeyframeTrack=function(e,t,i,r){THREE.KeyframeTrack.call(this,e,t,i,r)},THREE.VectorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.VectorKeyframeTrack,ValueTypeName:"vector"}),THREE.Audio=function(e){THREE.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]},THREE.Audio.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Audio,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.source.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.source.loop},setLoop:function(e){!1!==this.hasPlaybackControl&&(this.source.loop=e)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),THREE.AudioAnalyser=function(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)},Object.assign(THREE.AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),i=0;i<t.length;i++)e+=t[i];return e/t.length}}),Object.defineProperty(THREE,"AudioContext",{get:function(){var e;return function(){return void 0===e&&(e=new(window.AudioContext||window.webkitAudioContext)),e}}()}),THREE.PositionalAudio=function(e){THREE.Audio.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},THREE.PositionalAudio.prototype=Object.assign(Object.create(THREE.Audio.prototype),{constructor:THREE.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new THREE.Vector3;return function(t){THREE.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),THREE.AudioListener=function(){THREE.Object3D.call(this),this.type="AudioListener",this.context=THREE.AudioContext,this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},THREE.AudioListener.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new THREE.Vector3,t=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3;return function(a){THREE.Object3D.prototype.updateMatrixWorld.call(this,a);var n=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,i),r.set(0,0,-1).applyQuaternion(t),n.setPosition(e.x,e.y,e.z),n.setOrientation(r.x,r.y,r.z,o.x,o.y,o.z)}}()}),THREE.Camera=function(){THREE.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.constructor=THREE.Camera,THREE.Camera.prototype.getWorldDirection=function(){var e=new THREE.Quaternion;return function(t){var i=t||new THREE.Vector3;return this.getWorldQuaternion(e),i.set(0,0,-1).applyQuaternion(e)}}(),THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),THREE.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},THREE.Camera.prototype.copy=function(e){return THREE.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},THREE.CubeCamera=function(e,t,i){THREE.Object3D.call(this),this.type="CubeCamera";var r=new THREE.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new THREE.Vector3(1,0,0)),this.add(r);var a=new THREE.PerspectiveCamera(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(-1,0,0)),this.add(a);var n=new THREE.PerspectiveCamera(90,1,e,t);n.up.set(0,0,1),n.lookAt(new THREE.Vector3(0,1,0)),this.add(n);var o=new THREE.PerspectiveCamera(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new THREE.Vector3(0,-1,0)),this.add(o);var s=new THREE.PerspectiveCamera(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new THREE.Vector3(0,0,1)),this.add(s);var l=new THREE.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new THREE.Vector3(0,0,-1)),this.add(l);var c={format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter};this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,c),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,c=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,r,i),i.activeCubeFace=1,e.render(t,a,i),i.activeCubeFace=2,e.render(t,n,i),i.activeCubeFace=3,e.render(t,o,i),i.activeCubeFace=4,e.render(t,s,i),i.texture.generateMipmaps=c,i.activeCubeFace=5,e.render(t,l,i),e.setRenderTarget(null)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CubeCamera.prototype.constructor=THREE.CubeCamera,THREE.OrthographicCamera=function(e,t,i,r,a,n){THREE.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=void 0!==a?a:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.assign(Object.create(THREE.Camera.prototype),{constructor:THREE.OrthographicCamera,copy:function(e){return THREE.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,r,a,n){this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:r,width:a,height:n},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=i-e,n=i+e,o=r+t,s=r-t;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;n=(a+=h*(this.view.offsetX/l))+h*(this.view.width/l),s=(o-=u*(this.view.offsetY/c))-u*(this.view.height/c)}this.projectionMatrix.makeOrthographic(a,n,o,s,this.near,this.far)},toJSON:function(e){var t=THREE.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),THREE.PerspectiveCamera=function(e,t,i,r){THREE.Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.assign(Object.create(THREE.Camera.prototype),{constructor:THREE.PerspectiveCamera,copy:function(e){return THREE.Camera.prototype.copy.call(this,e),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*THREE.Math.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*THREE.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*THREE.Math.RAD2DEG*Math.atan(Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,r,a,n){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:r,width:a,height:n},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r,n=this.view;if(null!==n){var o=n.fullWidth,s=n.fullHeight;a+=n.offsetX*r/o,t-=n.offsetY*i/s,r*=n.width/o,i*=n.height/s}var l=this.filmOffset;0!==l&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makeFrustum(a,a+r,t-i,t,e,this.far)},toJSON:function(e){var t=THREE.Object3D.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),THREE.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new THREE.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new THREE.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Object.assign(THREE.StereoCamera.prototype,{update:function(){var e,t,i,r,a,n=new THREE.Matrix4,o=new THREE.Matrix4;return function(s){if(e!==s.focus||t!==s.fov||i!==s.aspect*this.aspect||r!==s.near||a!==s.far){e=s.focus,t=s.fov,i=s.aspect*this.aspect,r=s.near,a=s.far;var l,c,h=s.projectionMatrix.clone(),u=.032*r/e,d=r*Math.tan(THREE.Math.DEG2RAD*t*.5);o.elements[12]=-.032,n.elements[12]=.032,l=-d*i+u,c=d*i+u,h.elements[0]=2*r/(c-l),h.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(h),l=-d*i-u,c=d*i-u,h.elements[0]=2*r/(c-l),h.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(o),this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(n)}}()}),THREE.Light=function(e,t){THREE.Object3D.call(this),this.type="Light",this.color=new THREE.Color(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0},THREE.Light.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Light,copy:function(e){return THREE.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=THREE.Object3D.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),t}}),THREE.LightShadow=function(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new THREE.Vector2(512,512),this.map=null,this.matrix=new THREE.Matrix4},Object.assign(THREE.LightShadow.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)}}),THREE.AmbientLight=function(e,t){THREE.Light.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0},THREE.AmbientLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.AmbientLight}),THREE.DirectionalLight=function(e,t){THREE.Light.call(this,e,t),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new THREE.Object3D,this.shadow=new THREE.DirectionalLightShadow},THREE.DirectionalLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.DirectionalLight,copy:function(e){return THREE.Light.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),THREE.DirectionalLightShadow=function(e){THREE.LightShadow.call(this,new THREE.OrthographicCamera(-5,5,5,-5,.5,500))},THREE.DirectionalLightShadow.prototype=Object.assign(Object.create(THREE.LightShadow.prototype),{constructor:THREE.DirectionalLightShadow}),THREE.HemisphereLight=function(e,t,i){THREE.Light.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new THREE.Color(t)},THREE.HemisphereLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.HemisphereLight,copy:function(e){return THREE.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),THREE.PointLight=function(e,t,i,r){THREE.Light.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,.5,500))},THREE.PointLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.PointLight,copy:function(e){return THREE.Light.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),THREE.SpotLight=function(e,t,i,r,a,n){THREE.Light.call(this,e,t),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new THREE.Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==a?a:0,this.decay=void 0!==n?n:1,this.shadow=new THREE.SpotLightShadow},THREE.SpotLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.SpotLight,copy:function(e){return THREE.Light.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),THREE.SpotLightShadow=function(){THREE.LightShadow.call(this,new THREE.PerspectiveCamera(50,1,.5,500))},THREE.SpotLightShadow.prototype=Object.assign(Object.create(THREE.LightShadow.prototype),{constructor:THREE.SpotLightShadow,update:function(e){var t=2*THREE.Math.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||500,a=this.camera;t===a.fov&&i===a.aspect&&r===a.far||(a.fov=t,a.aspect=i,a.far=r,a.updateProjectionMatrix())}}),THREE.AudioLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.AudioLoader.prototype,{load:function(e,t,i,r){var a=new THREE.XHRLoader(this.manager);a.setResponseType("arraybuffer"),a.load(e,(function(e){THREE.AudioContext.decodeAudioData(e,(function(e){t(e)}))}),i,r)}}),THREE.Cache={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},THREE.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,i){for(var r=[],a=0;a<e.length;++a)r[a]=this.createMaterial(e[a],t,i);return r},createMaterial:function(){var e,t,i;return function(r,a,n){void 0===e&&(e=new THREE.Color),void 0===t&&(t=new THREE.TextureLoader),void 0===i&&(i=new THREE.MaterialLoader);var o={};function s(e,i,r,s,l){var c,h=a+e,u=THREE.Loader.Handlers.get(h);null!==u?c=u.load(h):(t.setCrossOrigin(n),c=t.load(h)),void 0!==i&&(c.repeat.fromArray(i),1!==i[0]&&(c.wrapS=THREE.RepeatWrapping),1!==i[1]&&(c.wrapT=THREE.RepeatWrapping)),void 0!==r&&c.offset.fromArray(r),void 0!==s&&("repeat"===s[0]&&(c.wrapS=THREE.RepeatWrapping),"mirror"===s[0]&&(c.wrapS=THREE.MirroredRepeatWrapping),"repeat"===s[1]&&(c.wrapT=THREE.RepeatWrapping),"mirror"===s[1]&&(c.wrapT=THREE.MirroredRepeatWrapping)),void 0!==l&&(c.anisotropy=l);var d=THREE.Math.generateUUID();return o[d]=c,d}var l={uuid:THREE.Math.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var h=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=h;break;case"blending":l.blending=THREE[h];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":l.color=e.fromArray(h).getHex();break;case"colorSpecular":l.specular=e.fromArray(h).getHex();break;case"colorEmissive":l.emissive=e.fromArray(h).getHex();break;case"specularCoef":l.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=s(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=s(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=s(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=s(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=s(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=s(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=s(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=s(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=s(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=s(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=THREE.BackSide;break;case"doubleSided":l.side=THREE.DoubleSide;break;case"transparency":l.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[c]=h;break;case"vertexColors":!0===h&&(l.vertexColors=THREE.VertexColors),"face"===h&&(l.vertexColors=THREE.FaceColors)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),i.setTextures(o),i.parse(l)}}()},THREE.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,r=t.length;i<r;i+=2){var a=t[i],n=t[i+1];if(a.test(e))return n}return null}},THREE.XHRLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.XHRLoader.prototype,{load:function(e,t,i,r){void 0!==this.path&&(e=this.path+e);var a=this,n=THREE.Cache.get(e);if(void 0!==n)return t&&setTimeout((function(){t(n)}),0),n;var o=new XMLHttpRequest;return o.overrideMimeType("text/plain"),o.open("GET",e,!0),o.addEventListener("load",(function(i){var n=i.target.response;THREE.Cache.add(e,n),200===this.status||0===this.status?(t&&t(n),a.manager.itemEnd(e)):(r&&r(i),a.manager.itemError(e))}),!1),void 0!==i&&o.addEventListener("progress",(function(e){i(e)}),!1),o.addEventListener("error",(function(t){r&&r(t),a.manager.itemError(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.send(null),a.manager.itemStart(e),o},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this}}),THREE.FontLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.FontLoader.prototype,{load:function(e,t,i,r){var a=this;new THREE.XHRLoader(this.manager).load(e,(function(e){var i;try{i=JSON.parse(e)}catch(t){i=JSON.parse(e.substring(65,e.length-2))}var r=a.parse(i);t&&t(r)}),i,r)},parse:function(e){return new THREE.Font(e)}}),THREE.ImageLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.ImageLoader.prototype,{load:function(e,t,i,r){var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(a.onload=function(){URL.revokeObjectURL(a.src),t&&t(a)},0===e.indexOf("data:"))a.src=e;else{var n=new THREE.XHRLoader(this.manager);n.setPath(this.path),n.setResponseType("blob"),n.load(e,(function(e){a.src=URL.createObjectURL(e)}),i,r)}return a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),THREE.JSONLoader=function(e){"boolean"==typeof e&&(e=void 0),this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.withCredentials=!1},Object.assign(THREE.JSONLoader.prototype,{load:function(e,t,i,r){var a=this,n=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:THREE.Loader.prototype.extractUrlBase(e),o=new THREE.XHRLoader(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,(function(e){var i=JSON.parse(e),r=i.metadata;if(void 0!==r){var o=r.type;if(void 0!==o){if("object"===o.toLowerCase())return;if("scene"===o.toLowerCase())return}}var s=a.parse(i,n);t(s.geometry,s.materials)}),i,r)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){var i=new THREE.Geometry,r=void 0!==e.scale?1/e.scale:1;if(function(t){function r(e,t){return e&1<<t}var a,n,o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B,L,A,w,_=e.faces,C=e.vertices,I=e.normals,P=e.colors,F=0;if(void 0!==e.uvs){for(a=0;a<e.uvs.length;a++)e.uvs[a].length&&F++;for(a=0;a<F;a++)i.faceVertexUvs[a]=[]}for(s=0,l=C.length;s<l;)(S=new THREE.Vector3).x=C[s++]*t,S.y=C[s++]*t,S.z=C[s++]*t,i.vertices.push(S);for(s=0,l=_.length;s<l;)if(m=r(p=_[s++],0),f=r(p,1),E=r(p,3),g=r(p,4),T=r(p,5),v=r(p,6),M=r(p,7),m){if((R=new THREE.Face3).a=_[s],R.b=_[s+1],R.c=_[s+3],(x=new THREE.Face3).a=_[s+1],x.b=_[s+2],x.c=_[s+3],s+=4,f&&(d=_[s++],R.materialIndex=d,x.materialIndex=d),o=i.faces.length,E)for(a=0;a<F;a++)for(B=e.uvs[a],i.faceVertexUvs[a][o]=[],i.faceVertexUvs[a][o+1]=[],n=0;n<4;n++)A=B[2*(u=_[s++])],w=B[2*u+1],L=new THREE.Vector2(A,w),2!==n&&i.faceVertexUvs[a][o].push(L),0!==n&&i.faceVertexUvs[a][o+1].push(L);if(g&&(h=3*_[s++],R.normal.set(I[h++],I[h++],I[h]),x.normal.copy(R.normal)),T)for(a=0;a<4;a++)h=3*_[s++],H=new THREE.Vector3(I[h++],I[h++],I[h]),2!==a&&R.vertexNormals.push(H),0!==a&&x.vertexNormals.push(H);if(v&&(b=P[c=_[s++]],R.color.setHex(b),x.color.setHex(b)),M)for(a=0;a<4;a++)b=P[c=_[s++]],2!==a&&R.vertexColors.push(new THREE.Color(b)),0!==a&&x.vertexColors.push(new THREE.Color(b));i.faces.push(R),i.faces.push(x)}else{if((y=new THREE.Face3).a=_[s++],y.b=_[s++],y.c=_[s++],f&&(d=_[s++],y.materialIndex=d),o=i.faces.length,E)for(a=0;a<F;a++)for(B=e.uvs[a],i.faceVertexUvs[a][o]=[],n=0;n<3;n++)A=B[2*(u=_[s++])],w=B[2*u+1],L=new THREE.Vector2(A,w),i.faceVertexUvs[a][o].push(L);if(g&&(h=3*_[s++],y.normal.set(I[h++],I[h++],I[h])),T)for(a=0;a<3;a++)h=3*_[s++],H=new THREE.Vector3(I[h++],I[h++],I[h]),y.vertexNormals.push(H);if(v&&(c=_[s++],y.color.setHex(P[c])),M)for(a=0;a<3;a++)c=_[s++],y.vertexColors.push(new THREE.Color(P[c]));i.faces.push(y)}}(r),function(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,a=e.skinWeights.length;r<a;r+=t){var n=e.skinWeights[r],o=t>1?e.skinWeights[r+1]:0,s=t>2?e.skinWeights[r+2]:0,l=t>3?e.skinWeights[r+3]:0;i.skinWeights.push(new THREE.Vector4(n,o,s,l))}if(e.skinIndices)for(r=0,a=e.skinIndices.length;r<a;r+=t){var c=e.skinIndices[r],h=t>1?e.skinIndices[r+1]:0,u=t>2?e.skinIndices[r+2]:0,d=t>3?e.skinIndices[r+3]:0;i.skinIndices.push(new THREE.Vector4(c,h,u,d))}i.bones=e.bones,i.bones&&i.bones.length>0&&(i.skinWeights.length!==i.skinIndices.length||(i.skinIndices.length,i.vertices.length))}(),function(t){if(void 0!==e.morphTargets)for(var r=0,a=e.morphTargets.length;r<a;r++){i.morphTargets[r]={},i.morphTargets[r].name=e.morphTargets[r].name,i.morphTargets[r].vertices=[];for(var n=i.morphTargets[r].vertices,o=e.morphTargets[r].vertices,s=0,l=o.length;s<l;s+=3){var c=new THREE.Vector3;c.x=o[s]*t,c.y=o[s+1]*t,c.z=o[s+2]*t,n.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0){var h=i.faces,u=e.morphColors[0].colors;for(r=0,a=h.length;r<a;r++)h[r].color.fromArray(u,3*r)}}(r),function(){var t=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var a=0;a<r.length;a++){var n=THREE.AnimationClip.parseAnimation(r[a],i.bones);n&&t.push(n)}if(i.morphTargets){var o=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(i.morphTargets,10);t=t.concat(o)}t.length>0&&(i.animations=t)}(),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:i};var a=THREE.Loader.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:i,materials:a}}}),THREE.LoadingManager=function(e,t,i){var r=this,a=!1,n=0,o=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,!1===a&&void 0!==r.onStart&&r.onStart(e,n,o),a=!0},this.itemEnd=function(e){n++,void 0!==r.onProgress&&r.onProgress(e,n,o),n===o&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.BufferGeometryLoader.prototype,{load:function(e,t,i,r){var a=this;new THREE.XHRLoader(a.manager).load(e,(function(e){t(a.parse(JSON.parse(e)))}),i,r)},parse:function(e){var t=new THREE.BufferGeometry,i=e.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var a=new r[i.type](i.array);t.setIndex(new THREE.BufferAttribute(a,1))}var n=e.data.attributes;for(var o in n){var s=n[o];a=new r[s.type](s.array),t.addAttribute(o,new THREE.BufferAttribute(a,s.itemSize,s.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var c=0,h=l.length;c!==h;++c){var u=l[c];t.addGroup(u.start,u.count,u.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new THREE.Vector3;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new THREE.Sphere(p,d.radius)}return t}}),THREE.MaterialLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.textures={}},Object.assign(THREE.MaterialLoader.prototype,{load:function(e,t,i,r){var a=this;new THREE.XHRLoader(a.manager).load(e,(function(e){t(a.parse(JSON.parse(e)))}),i,r)},setTextures:function(e){this.textures=e},getTexture:function(e){var t=this.textures;return t[e],t[e]},parse:function(e){var t=new THREE[e.type];if(void 0!==e.uuid&&(t.uuid=e.uuid),void 0!==e.name&&(t.name=e.name),void 0!==e.color&&t.color.setHex(e.color),void 0!==e.roughness&&(t.roughness=e.roughness),void 0!==e.metalness&&(t.metalness=e.metalness),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.alphaTest&&(t.alphaTest=e.alphaTest),void 0!==e.depthTest&&(t.depthTest=e.depthTest),void 0!==e.depthWrite&&(t.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(t.colorWrite=e.colorWrite),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(t.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(t.size=e.size),void 0!==e.sizeAttenuation&&(t.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(t.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(t.alphaMap=this.getTexture(e.alphaMap),t.transparent=!0),void 0!==e.bumpMap&&(t.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(t.bumpScale=e.bumpScale),void 0!==e.normalMap&&(t.normalMap=this.getTexture(e.normalMap)),void 0!==e.normalScale){var i=e.normalScale;!1===Array.isArray(i)&&(i=[i,i]),t.normalScale=(new THREE.Vector2).fromArray(i)}if(void 0!==e.displacementMap&&(t.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(t.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(t.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(t.roughnessMap=this.getTexture(e.roughnessMap)),void 0!==e.metalnessMap&&(t.metalnessMap=this.getTexture(e.metalnessMap)),void 0!==e.emissiveMap&&(t.emissiveMap=this.getTexture(e.emissiveMap)),void 0!==e.emissiveIntensity&&(t.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(t.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(t.envMap=this.getTexture(e.envMap),t.combine=THREE.MultiplyOperation),void 0!==e.reflectivity&&(t.reflectivity=e.reflectivity),void 0!==e.lightMap&&(t.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(t.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(t.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(t.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var r=0,a=e.materials.length;r<a;r++)t.materials.push(this.parse(e.materials[r]));return t}}),THREE.ObjectLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.texturePath=""},Object.assign(THREE.ObjectLoader.prototype,{load:function(e,t,i,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var a=this;new THREE.XHRLoader(a.manager).load(e,(function(e){a.parse(JSON.parse(e),t)}),i,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var i=this.parseGeometries(e.geometries),r=this.parseImages(e.images,(function(){void 0!==t&&t(o)})),a=this.parseTextures(e.textures,r),n=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,i,n);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseGeometries:function(e){var t={};if(void 0!==e)for(var i=new THREE.JSONLoader,r=new THREE.BufferGeometryLoader,a=0,n=e.length;a<n;a++){var o,s=e[a];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new THREE[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new THREE[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new THREE[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new THREE[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new THREE[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new THREE[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new THREE[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new THREE[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new THREE[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new THREE[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new THREE[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":o=i.parse(s.data,this.texturePath).geometry;break;default:continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),t[s.uuid]=o}return t},parseMaterials:function(e,t){var i={};if(void 0!==e){var r=new THREE.MaterialLoader;r.setTextures(t);for(var a=0,n=e.length;a<n;a++){var o=r.parse(e[a]);i[o.uuid]=o}}return i},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var r=THREE.AnimationClip.parse(e[i]);t.push(r)}return t},parseImages:function(e,t){var i=this,r={};function a(e){return i.manager.itemStart(e),o.load(e,(function(){i.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var n=new THREE.LoadingManager(t),o=new THREE.ImageLoader(n);o.setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;r[c.uuid]=a(h)}}return r},parseTextures:function(e,t){function i(e){return"number"==typeof e?e:THREE[e]}var r={};if(void 0!==e)for(var a=0,n=e.length;a<n;a++){var o=e[a];o.image,t[o.image];var s=new THREE.Texture(t[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=i(o.mapping)),void 0!==o.offset&&(s.offset=new THREE.Vector2(o.offset[0],o.offset[1])),void 0!==o.repeat&&(s.repeat=new THREE.Vector2(o.repeat[0],o.repeat[1])),void 0!==o.minFilter&&(s.minFilter=i(o.minFilter)),void 0!==o.magFilter&&(s.magFilter=i(o.magFilter)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),Array.isArray(o.wrap)&&(s.wrapS=i(o.wrap[0]),s.wrapT=i(o.wrap[1])),r[o.uuid]=s}return r},parseObject:function(){var e=new THREE.Matrix4;return function(t,i,r){var a;function n(e){return i[e],i[e]}function o(e){if(void 0!==e)return r[e],r[e]}switch(t.type){case"Scene":a=new THREE.Scene;break;case"PerspectiveCamera":a=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new THREE.AmbientLight(t.color,t.intensity);break;case"DirectionalLight":a=new THREE.DirectionalLight(t.color,t.intensity);break;case"PointLight":a=new THREE.PointLight(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":a=new THREE.SpotLight(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new THREE.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var s=n(t.geometry),l=o(t.material);a=s.bones&&s.bones.length>0?new THREE.SkinnedMesh(s,l):new THREE.Mesh(s,l);break;case"LOD":a=new THREE.LOD;break;case"Line":a=new THREE.Line(n(t.geometry),o(t.material),t.mode);break;case"PointCloud":case"Points":a=new THREE.Points(n(t.geometry),o(t.material));break;case"Sprite":a=new THREE.Sprite(o(t.material));break;case"Group":a=new THREE.Group;break;default:a=new THREE.Object3D}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var c in t.children)a.add(this.parseObject(t.children[c],i,r));if("LOD"===t.type)for(var h=t.levels,u=0;u<h.length;u++){var d=h[u];void 0!==(c=a.getObjectByProperty("uuid",d.object))&&a.addLevel(c,d.distance)}return a}}()}),THREE.TextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.TextureLoader.prototype,{load:function(e,t,i,r){var a=new THREE.Texture,n=new THREE.ImageLoader(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==t&&t(a)}),i,r),a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),THREE.CubeTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.CubeTextureLoader.prototype,{load:function(e,t,i,r){var a=new THREE.CubeTexture,n=new THREE.ImageLoader(this.manager);n.setCrossOrigin(this.crossOrigin),n.setPath(this.path);var o=0;function s(i){n.load(e[i],(function(e){a.images[i]=e,6==++o&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this._parser=null},Object.assign(THREE.BinaryTextureLoader.prototype,{load:function(e,t,i,r){var a=this,n=new THREE.DataTexture,o=new THREE.XHRLoader(this.manager);return o.setResponseType("arraybuffer"),o.load(e,(function(e){var i=a._parser(e);i&&(void 0!==i.image?n.image=i.image:void 0!==i.data&&(n.image.width=i.width,n.image.height=i.height,n.image.data=i.data),n.wrapS=void 0!==i.wrapS?i.wrapS:THREE.ClampToEdgeWrapping,n.wrapT=void 0!==i.wrapT?i.wrapT:THREE.ClampToEdgeWrapping,n.magFilter=void 0!==i.magFilter?i.magFilter:THREE.LinearFilter,n.minFilter=void 0!==i.minFilter?i.minFilter:THREE.LinearMipMapLinearFilter,n.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(n.format=i.format),void 0!==i.type&&(n.type=i.type),void 0!==i.mipmaps&&(n.mipmaps=i.mipmaps),1===i.mipmapCount&&(n.minFilter=THREE.LinearFilter),n.needsUpdate=!0,t&&t(n,i))}),i,r),n}}),THREE.CompressedTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this._parser=null},Object.assign(THREE.CompressedTextureLoader.prototype,{load:function(e,t,i,r){var a=this,n=[],o=new THREE.CompressedTexture;o.image=n;var s=new THREE.XHRLoader(this.manager);function l(l){s.load(e[l],(function(e){var i=a._parser(e,!0);n[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=i.format,o.needsUpdate=!0,t&&t(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,h=0,u=e.length;h<u;++h)l(h);else s.load(e,(function(e){var i=a._parser(e,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){n[s]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)n[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+l]),n[s].format=i.format,n[s].width=i.width,n[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=i.format,o.needsUpdate=!0,t&&t(o)}),i,r);return o},setPath:function(e){return this.path=e,this}}),THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=THREE.NormalBlending,this.side=THREE.FrontSide,this.shading=THREE.SmoothShading,this.vertexColors=THREE.NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=THREE.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var r=this[t];void 0!==r&&(r instanceof THREE.Color?r.set(i):r instanceof THREE.Vector3&&i instanceof THREE.Vector3?r.copy(i):this[t]="overdraw"===t?Number(i):i)}}},toJSON:function(e){var t=void 0===e;t&&(e={textures:{},images:{}});var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color instanceof THREE.Color&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive instanceof THREE.Color&&(i.emissive=this.emissive.getHex()),this.specular instanceof THREE.Color&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),this.map instanceof THREE.Texture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap instanceof THREE.Texture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof THREE.Texture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof THREE.Texture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap instanceof THREE.Texture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap instanceof THREE.Texture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap instanceof THREE.Texture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap instanceof THREE.Texture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap instanceof THREE.Texture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap instanceof THREE.Texture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof THREE.Texture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==THREE.NormalBlending&&(i.blending=this.blending),this.shading!==THREE.SmoothShading&&(i.shading=this.shading),this.side!==THREE.FrontSide&&(i.side=this.side),this.vertexColors!==THREE.NoColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),t){var a=r(e.textures),n=r(e.images);a.length>0&&(i.textures=a),n.length>0&&(i.images=n)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.shading=e.shading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.clipShadows=e.clipShadows;var t=e.clippingPlanes,i=null;if(null!==t){var r=t.length;i=new Array(r);for(var a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(THREE.Material.prototype,THREE.EventDispatcher.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(e){THREE.Material.call(this),this.type="LineBasicMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial,THREE.LineBasicMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},THREE.LineDashedMaterial=function(e){THREE.Material.call(this),this.type="LineDashedMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(e)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial,THREE.LineDashedMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this},THREE.MeshBasicMaterial=function(e){THREE.Material.call(this),this.type="MeshBasicMaterial",this.color=new THREE.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial,THREE.MeshBasicMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},THREE.MeshDepthMaterial=function(e){THREE.Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=THREE.BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial,THREE.MeshDepthMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},THREE.MeshLambertMaterial=function(e){THREE.Material.call(this),this.type="MeshLambertMaterial",this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new THREE.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial,THREE.MeshLambertMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(e)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial,THREE.MeshNormalMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},THREE.MeshPhongMaterial=function(e){THREE.Material.call(this),this.type="MeshPhongMaterial",this.color=new THREE.Color(16777215),this.specular=new THREE.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new THREE.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial,THREE.MeshPhongMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},THREE.MeshStandardMaterial=function(e){THREE.Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new THREE.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new THREE.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshStandardMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshStandardMaterial.prototype.constructor=THREE.MeshStandardMaterial,THREE.MeshStandardMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},THREE.MeshPhysicalMaterial=function(e){THREE.MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)},THREE.MeshPhysicalMaterial.prototype=Object.create(THREE.MeshStandardMaterial.prototype),THREE.MeshPhysicalMaterial.prototype.constructor=THREE.MeshPhysicalMaterial,THREE.MeshPhysicalMaterial.prototype.copy=function(e){return THREE.MeshStandardMaterial.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},THREE.MultiMaterial=function(e){this.uuid=THREE.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,r=0,a=i.length;r<a;r++){var n=i[r].toJSON(e);delete n.metadata,t.materials.push(n)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},THREE.PointsMaterial=function(e){THREE.Material.call(this),this.type="PointsMaterial",this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)},THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype),THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial,THREE.PointsMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},THREE.ShaderMaterial=function(e){THREE.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(e.attributes,this.setValues(e))},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial,THREE.ShaderMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},THREE.ShaderMaterial.prototype.toJSON=function(e){var t=THREE.Material.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},THREE.RawShaderMaterial=function(e){THREE.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial,THREE.SpriteMaterial=function(e){THREE.Material.call(this),this.type="SpriteMaterial",this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial,THREE.SpriteMaterial.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},THREE.ShadowMaterial=function(){THREE.ShaderMaterial.call(this,{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:THREE.ShaderChunk.shadow_vert,fragmentShader:THREE.ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}}})},THREE.ShadowMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.ShadowMaterial.prototype.constructor=THREE.ShadowMaterial,THREE.Texture=function(e,t,i,r,a,n,o,s,l,c){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:THREE.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:THREE.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==a?a:THREE.LinearFilter,this.minFilter=void 0!==n?n:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:THREE.LinearEncoding,this.version=0,this.onUpdate=null},THREE.Texture.DEFAULT_IMAGE=void 0,THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping,THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(e){!0===e&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=THREE.Math.generateUUID()),void 0===e.images[i.uuid]&&(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;return void 0!==e.toDataURL?t=e:((t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),t.image=i.uuid}return e.textures[this.uuid]=t,t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===THREE.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case THREE.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case THREE.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case THREE.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case THREE.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},Object.assign(THREE.Texture.prototype,THREE.EventDispatcher.prototype),THREE.TextureIdCount=0,THREE.DepthTexture=function(e,t,i,r,a,n,o,s,l){THREE.Texture.call(this,null,r,a,n,o,s,THREE.DepthFormat,i,l),this.image={width:e,height:t},this.type=void 0!==i?i:THREE.UnsignedShortType,this.magFilter=void 0!==o?o:THREE.NearestFilter,this.minFilter=void 0!==s?s:THREE.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},THREE.DepthTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DepthTexture.prototype.constructor=THREE.DepthTexture,THREE.CanvasTexture=function(e,t,i,r,a,n,o,s,l){THREE.Texture.call(this,e,t,i,r,a,n,o,s,l),this.needsUpdate=!0},THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture,THREE.CubeTexture=function(e,t,i,r,a,n,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:THREE.CubeReflectionMapping,THREE.Texture.call(this,e,t,i,r,a,n,o,s,l,c),this.flipY=!1},THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CubeTexture.prototype.constructor=THREE.CubeTexture,Object.defineProperty(THREE.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),THREE.CompressedTexture=function(e,t,i,r,a,n,o,s,l,c,h,u){THREE.Texture.call(this,null,n,o,s,l,c,r,a,h,u),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture,THREE.DataTexture=function(e,t,i,r,a,n,o,s,l,c,h,u){THREE.Texture.call(this,null,n,o,s,l,c,r,a,h,u),this.image={data:e,width:t,height:i},this.magFilter=void 0!==l?l:THREE.NearestFilter,this.minFilter=void 0!==c?c:THREE.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.constructor=THREE.DataTexture,THREE.VideoTexture=function(e,t,i,r,a,n,o,s,l){THREE.Texture.call(this,e,t,i,r,a,n,o,s,l),this.generateMipmaps=!1;var c=this;!function t(){requestAnimationFrame(t),e.readyState>=e.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}()},THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype),THREE.VideoTexture.prototype.constructor=THREE.VideoTexture,THREE.Group=function(){THREE.Object3D.call(this),this.type="Group"},THREE.Group.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Group}),THREE.Points=function(e,t){THREE.Object3D.call(this),this.type="Points",this.geometry=void 0!==e?e:new THREE.BufferGeometry,this.material=void 0!==t?t:new THREE.PointsMaterial({color:16777215*Math.random()})},THREE.Points.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Points,raycast:function(){var e=new THREE.Matrix4,t=new THREE.Ray,i=new THREE.Sphere;return function(r,a){var n=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),!1!==r.ray.intersectsSphere(i)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,u=new THREE.Vector3;if(o instanceof THREE.BufferGeometry){var d=o.index,p=o.attributes.position.array;if(null!==d)for(var m=d.array,f=0,E=m.length;f<E;f++){var g=m[f];u.fromArray(p,3*g),M(u,g)}else{f=0;for(var T=p.length/3;f<T;f++)u.fromArray(p,3*f),M(u,f)}}else{var v=o.vertices;for(f=0,T=v.length;f<T;f++)M(v[f],f)}}function M(e,i){var o=t.distanceSqToPoint(e);if(o<h){var l=t.closestPointToPoint(e);l.applyMatrix4(s);var c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l.clone(),index:i,face:null,object:n})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),THREE.Line=function(e,t,i){if(1===i)return new THREE.LineSegments(e,t);THREE.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new THREE.BufferGeometry,this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()})},THREE.Line.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Line,raycast:function(){var e=new THREE.Matrix4,t=new THREE.Ray,i=new THREE.Sphere;return function(r,a){var n=r.linePrecision,o=n*n,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(l),!1!==r.ray.intersectsSphere(i)){e.getInverse(l),t.copy(r.ray).applyMatrix4(e);var c=new THREE.Vector3,h=new THREE.Vector3,u=new THREE.Vector3,d=new THREE.Vector3,p=this instanceof THREE.LineSegments?2:1;if(s instanceof THREE.BufferGeometry){var m=s.index,f=s.attributes.position.array;if(null!==m)for(var E=m.array,g=0,T=E.length-1;g<T;g+=p){var v=E[g],M=E[g+1];c.fromArray(f,3*v),h.fromArray(f,3*M),t.distanceSqToSegment(c,h,d,u)>o||(d.applyMatrix4(this.matrixWorld),(R=r.ray.origin.distanceTo(d))<r.near||R>r.far||a.push({distance:R,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,T=f.length/3-1;g<T;g+=p)c.fromArray(f,3*g),h.fromArray(f,3*g+3),t.distanceSqToSegment(c,h,d,u)>o||(d.applyMatrix4(this.matrixWorld),(R=r.ray.origin.distanceTo(d))<r.near||R>r.far||a.push({distance:R,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(s instanceof THREE.Geometry){var S=s.vertices,y=S.length;for(g=0;g<y-1;g+=p){var R;t.distanceSqToSegment(S[g],S[g+1],d,u)>o||(d.applyMatrix4(this.matrixWorld),(R=r.ray.origin.distanceTo(d))<r.near||R>r.far||a.push({distance:R,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),THREE.LineSegments=function(e,t){THREE.Line.call(this,e,t),this.type="LineSegments"},THREE.LineSegments.prototype=Object.assign(Object.create(THREE.Line.prototype),{constructor:THREE.LineSegments}),THREE.Mesh=function(e,t){THREE.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new THREE.BufferGeometry,this.material=void 0!==t?t:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=THREE.TrianglesDrawMode,this.updateMorphTargets()},THREE.Mesh.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Mesh,setDrawMode:function(e){this.drawMode=e},copy:function(e){return THREE.Object3D.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},getMorphTargetIndexByName:function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:0},raycast:function(){var e=new THREE.Matrix4,t=new THREE.Ray,i=new THREE.Sphere,r=new THREE.Vector3,a=new THREE.Vector3,n=new THREE.Vector3,o=new THREE.Vector3,s=new THREE.Vector3,l=new THREE.Vector3,c=new THREE.Vector2,h=new THREE.Vector2,u=new THREE.Vector2,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3;function f(e,t,i,r,a,n,o){return THREE.Triangle.barycoordFromPoint(e,t,i,r,d),a.multiplyScalar(d.x),n.multiplyScalar(d.y),o.multiplyScalar(d.z),a.add(n).add(o),a.clone()}function E(e,t,i,r,a,n,o){var s=e.material;if(null===(s.side===THREE.BackSide?i.intersectTriangle(n,a,r,!0,o):i.intersectTriangle(r,a,n,s.side!==THREE.DoubleSide,o)))return null;m.copy(o),m.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(m);return l<t.near||l>t.far?null:{distance:l,point:m.clone(),object:e}}function g(e,t,i,o,s,l,d,m){r.fromArray(o,3*l),a.fromArray(o,3*d),n.fromArray(o,3*m);var g=E(e,t,i,r,a,n,p);return g&&(s&&(c.fromArray(s,2*l),h.fromArray(s,2*d),u.fromArray(s,2*m),g.uv=f(p,r,a,n,c,h,u)),g.face=new THREE.Face3(l,d,m,THREE.Triangle.normal(r,a,n)),g.faceIndex=l),g}return function(d,m){var T,v,M=this.geometry,S=this.material,y=this.matrixWorld;if(void 0!==S&&(null===M.boundingSphere&&M.computeBoundingSphere(),i.copy(M.boundingSphere),i.applyMatrix4(y),!1!==d.ray.intersectsSphere(i)&&(e.getInverse(y),t.copy(d.ray).applyMatrix4(e),null===M.boundingBox||!1!==t.intersectsBox(M.boundingBox))))if(M instanceof THREE.BufferGeometry){var R,x,b,H=M.index,B=M.attributes,L=B.position.array;if(void 0!==B.uv&&(T=B.uv.array),null!==H)for(var A=H.array,w=0,_=A.length;w<_;w+=3)R=A[w],x=A[w+1],b=A[w+2],(v=g(this,d,t,L,T,R,x,b))&&(v.faceIndex=Math.floor(w/3),m.push(v));else for(w=0,_=L.length;w<_;w+=9)(v=g(this,d,t,L,T,R=w/3,x=R+1,b=R+2))&&(v.index=R,m.push(v))}else if(M instanceof THREE.Geometry){var C,I,P,F=S instanceof THREE.MultiMaterial,N=!0===F?S.materials:null,D=M.vertices,G=M.faces,k=M.faceVertexUvs[0];k.length>0&&(T=k);for(var U=0,O=G.length;U<O;U++){var V=G[U],z=!0===F?N[V.materialIndex]:S;if(void 0!==z){if(C=D[V.a],I=D[V.b],P=D[V.c],!0===z.morphTargets){var W=M.morphTargets,j=this.morphTargetInfluences;r.set(0,0,0),a.set(0,0,0),n.set(0,0,0);for(var X=0,K=W.length;X<K;X++){var Y=j[X];if(0!==Y){var q=W[X].vertices;r.addScaledVector(o.subVectors(q[V.a],C),Y),a.addScaledVector(s.subVectors(q[V.b],I),Y),n.addScaledVector(l.subVectors(q[V.c],P),Y)}}r.add(C),a.add(I),n.add(P),C=r,I=a,P=n}if(v=E(this,d,t,C,I,P,p)){if(T){var J=T[U];c.copy(J[0]),h.copy(J[1]),u.copy(J[2]),v.uv=f(p,C,I,P,c,h,u)}v.face=V,v.faceIndex=U,m.push(v)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),THREE.Bone=function(e){THREE.Object3D.call(this),this.type="Bone",this.skin=e},THREE.Bone.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Bone,copy:function(e){return THREE.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this}}),THREE.Skeleton=function(e,t,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new THREE.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=THREE.Math.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{this.boneInverses=[];for(var a=0,n=this.bones.length;a<n;a++)this.boneInverses.push(new THREE.Matrix4)}},Object.assign(THREE.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new THREE.Matrix4;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(var e,t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&(e.parent instanceof THREE.Bone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new THREE.Matrix4;return function(){for(var t=0,i=this.bones.length;t<i;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}}),THREE.SkinnedMesh=function(e,t,i){THREE.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var a,n,o=0,s=this.geometry.bones.length;o<s;++o)n=this.geometry.bones[o],a=new THREE.Bone(this),r.push(a),a.name=n.name,a.position.fromArray(n.pos),a.quaternion.fromArray(n.rotq),void 0!==n.scl&&a.scale.fromArray(n.scl);for(o=0,s=this.geometry.bones.length;o<s;++o)-1!==(n=this.geometry.bones[o]).parent&&null!==n.parent&&void 0!==r[n.parent]?r[n.parent].add(r[o]):this.add(r[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new THREE.Skeleton(r,void 0,i),this.matrixWorld)},THREE.SkinnedMesh.prototype=Object.assign(Object.create(THREE.Mesh.prototype),{constructor:THREE.SkinnedMesh,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof THREE.Geometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e];(a=1/t.lengthManhattan())!=1/0?t.multiplyScalar(a):t.set(1,0,0,0)}else if(this.geometry instanceof THREE.BufferGeometry){var i=new THREE.Vector4,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++){var a;i.x=r.getX(e),i.y=r.getY(e),i.z=r.getZ(e),i.w=r.getW(e),(a=1/i.lengthManhattan())!=1/0?i.multiplyScalar(a):i.set(1,0,0,0),r.setXYZW(e,i.x,i.y,i.z,i.w)}}},updateMatrixWorld:function(e){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),THREE.LOD=function(){THREE.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})},THREE.LOD.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.LOD,copy:function(e){THREE.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var a=t[i];this.addLevel(a.object.clone(),a.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,r=0;r<i.length&&!(t<i[r].distance);r++);i.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object},raycast:function(){var e=new THREE.Vector3;return function(t,i){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,i)}}(),update:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(i){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var a=e.distanceTo(t);r[0].object.visible=!0;for(var n=1,o=r.length;n<o&&a>=r[n].distance;n++)r[n-1].object.visible=!1,r[n].object.visible=!0;for(;n<o;n++)r[n].object.visible=!1}}}(),toJSON:function(e){var t=THREE.Object3D.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,r=0,a=i.length;r<a;r++){var n=i[r];t.object.levels.push({object:n.object.uuid,distance:n.distance})}return t}}),THREE.Sprite=function(e){THREE.Object3D.call(this),this.type="Sprite",this.material=void 0!==e?e:new THREE.SpriteMaterial},THREE.Sprite.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Sprite,raycast:function(){var e=new THREE.Vector3;return function(t,i){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e);r>this.scale.x*this.scale.y/4||i.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),THREE.LensFlare=function(e,t,i,r,a){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,i,r,a)},THREE.LensFlare.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.LensFlare,copy:function(e){THREE.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,i=e.lensFlares.length;t<i;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,i,r,a,n){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===n&&(n=1),void 0===a&&(a=new THREE.Color(16777215)),void 0===r&&(r=THREE.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:n,color:a,blending:r})},updateLensFlares:function(){var e,t,i=this.lensFlares.length,r=2*-this.positionScreen.x,a=2*-this.positionScreen.y;for(e=0;e<i;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+a*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),THREE.Scene=function(){THREE.Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.constructor=THREE.Scene,THREE.Scene.prototype.copy=function(e,t){return THREE.Object3D.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},THREE.Fog=function(e,t,i){this.name="",this.color=new THREE.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(e,t){this.name="",this.color=new THREE.Color(e),this.density=void 0!==t?t:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.ShaderChunk={},THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",THREE.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",THREE.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",THREE.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",THREE.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",THREE.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",THREE.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n",THREE.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",THREE.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",THREE.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",THREE.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",THREE.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",THREE.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",THREE.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",THREE.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",THREE.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",THREE.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",THREE.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",THREE.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",THREE.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",THREE.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",THREE.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",THREE.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",THREE.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",THREE.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",THREE.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",THREE.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",THREE.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",THREE.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",THREE.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",THREE.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",THREE.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",THREE.ShaderChunk.normal_flip="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",THREE.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",THREE.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",THREE.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",THREE.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",THREE.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",THREE.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",THREE.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",THREE.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",THREE.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",THREE.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",THREE.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",THREE.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",THREE.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",THREE.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",THREE.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",THREE.UniformsUtils={merge:function(e){for(var t={},i=0;i<e.length;i++){var r=this.clone(e[i]);for(var a in r)t[a]=r[a]}return t},clone:function(e){var t={};for(var i in e)for(var r in t[i]={},e[i]){var a=e[i][r];a instanceof THREE.Color||a instanceof THREE.Vector2||a instanceof THREE.Vector3||a instanceof THREE.Vector4||a instanceof THREE.Matrix3||a instanceof THREE.Matrix4||a instanceof THREE.Texture?t[i][r]=a.clone():Array.isArray(a)?t[i][r]=a.slice():t[i][r]=a}return t}},THREE.UniformsLib={common:{diffuse:{value:new THREE.Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new THREE.Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new THREE.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new THREE.Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new THREE.Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new THREE.Vector4(0,0,1,1)}}},THREE.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n",THREE.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",THREE.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",THREE.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",THREE.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",THREE.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",THREE.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",THREE.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",THREE.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",THREE.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",THREE.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",THREE.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",THREE.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",THREE.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",THREE.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",THREE.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",THREE.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",THREE.ShaderChunk.shadow_frag="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",THREE.ShaderChunk.shadow_vert="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.meshbasic_vert,fragmentShader:THREE.ShaderChunk.meshbasic_frag},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)}}]),vertexShader:THREE.ShaderChunk.meshlambert_vert,fragmentShader:THREE.ShaderChunk.meshlambert_frag},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)},specular:{value:new THREE.Color(1118481)},shininess:{value:30}}]),vertexShader:THREE.ShaderChunk.meshphong_vert,fragmentShader:THREE.ShaderChunk.meshphong_frag},standard:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.roughnessmap,THREE.UniformsLib.metalnessmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag},points:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.points,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.points_vert,fragmentShader:THREE.ShaderChunk.points_frag},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:THREE.ShaderChunk.linedashed_vert,fragmentShader:THREE.ShaderChunk.linedashed_frag},depth:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.displacementmap]),vertexShader:THREE.ShaderChunk.depth_vert,fragmentShader:THREE.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:THREE.ShaderChunk.normal_vert,fragmentShader:THREE.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1}},vertexShader:THREE.ShaderChunk.cube_vert,fragmentShader:THREE.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:THREE.ShaderChunk.equirect_vert,fragmentShader:THREE.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new THREE.Vector3}},vertexShader:THREE.ShaderChunk.distanceRGBA_vert,fragmentShader:THREE.ShaderChunk.distanceRGBA_frag}},THREE.ShaderLib.physical={uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag},THREE.WebGLRenderer=function(e,t){var i=void 0===t||t,r=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),a=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,o=void 0===e.depth||e.depth,s=void 0===e.stencil||e.stencil,l=void 0!==e.antialias&&e.antialias,c=void 0===e.premultipliedAlpha||e.premultipliedAlpha,h=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=[],d=[],p=-1,m=[],f=-1,E=new Float32Array(8),g=[],T=[];this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=THREE.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var v,M=this,S=null,y=null,R=null,x=-1,b="",H=null,B=new THREE.Vector4,L=null,A=new THREE.Vector4,w=0,_=new THREE.Color(0),C=0,I=r.width,P=r.height,F=1,N=new THREE.Vector4(0,0,I,P),D=!1,G=new THREE.Vector4(0,0,I,P),k=new THREE.Frustum,U=new THREE.WebGLClipping,O=!1,V=!1,z=new THREE.Sphere,W=new THREE.Matrix4,j=new THREE.Vector3,X={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},K={calls:0,vertices:0,faces:0,points:0};this.info={render:K,memory:{geometries:0,textures:0},programs:null};try{var Y={alpha:n,depth:o,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:h};if(null===(v=a||r.getContext("webgl",Y)||r.getContext("experimental-webgl",Y)))throw null!==r.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===v.getShaderPrecisionFormat&&(v.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),r.addEventListener("webglcontextlost",Te,!1)}catch(e){}var q=new THREE.WebGLExtensions(v);i&&(q.get("WEBGL_depth_texture"),q.get("OES_texture_float"),q.get("OES_texture_float_linear"),q.get("OES_texture_half_float"),q.get("OES_texture_half_float_linear"),q.get("OES_standard_derivatives"),q.get("ANGLE_instanced_arrays"),q.get("OES_element_index_uint")&&(THREE.BufferGeometry.MaxIndex=4294967296));var J=new THREE.WebGLCapabilities(v,q,e),Z=new THREE.WebGLState(v,q,_e),Q=new THREE.WebGLProperties,$=new THREE.WebGLTextures(v,q,Z,Q,J,_e,this.info),ee=new THREE.WebGLObjects(v,Q,this.info),te=new THREE.WebGLPrograms(this,J),ie=new THREE.WebGLLights;this.info.programs=te.programs;var re=new THREE.WebGLBufferRenderer(v,q,K),ae=new THREE.WebGLIndexedBufferRenderer(v,q,K),ne=new THREE.OrthographicCamera(-1,1,1,-1,0,1),oe=new THREE.PerspectiveCamera,se=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.MeshBasicMaterial({depthTest:!1,depthWrite:!1})),le=THREE.ShaderLib.cube,ce=new THREE.Mesh(new THREE.BoxBufferGeometry(5,5,5),new THREE.ShaderMaterial({uniforms:le.uniforms,vertexShader:le.vertexShader,fragmentShader:le.fragmentShader,depthTest:!1,depthWrite:!1,side:THREE.BackSide}));function he(){return null===y?F:1}function ue(e,t,i,r){!0===c&&(e*=r,t*=r,i*=r),Z.clearColor(e,t,i,r)}function de(){Z.init(),Z.scissor(B.copy(N).multiplyScalar(F)),Z.viewport(A.copy(G).multiplyScalar(F)),ue(_.r,_.g,_.b,C)}function pe(){S=null,H=null,b="",x=-1,Z.reset()}ee.update(se),ee.update(ce),de(),this.context=v,this.capabilities=J,this.extensions=q,this.properties=Q,this.state=Z;var me=new THREE.WebGLShadowMap(this,X,ee);this.shadowMap=me;var fe,Ee=new THREE.SpritePlugin(this,g),ge=new THREE.LensFlarePlugin(this,T);function Te(e){e.preventDefault(),pe(),de(),Q.clear()}function ve(e){var t=e.target;t.removeEventListener("dispose",ve),function(e){Me(e),Q.delete(e)}(t)}function Me(e){var t=Q.get(e).program;e.program=void 0,void 0!==t&&te.releaseProgram(t)}function Se(e,t){return Math.abs(t[0])-Math.abs(e[0])}function ye(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Re(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function xe(e,t,i,r,a){var n,o;i.transparent?(n=m,o=++f):(n=d,o=++p);var s=n[o];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=i,s.z=j.z,s.group=a):(s={id:e.id,object:e,geometry:t,material:i,z:j.z,group:a},n.push(s))}function be(e){if(!k.intersectsSphere(e))return!1;var t=U.numPlanes;if(0===t)return!0;var i=M.clippingPlanes,r=e.center,a=-e.radius,n=0;do{if(i[n].distanceToPoint(r)<a)return!1}while(++n!==t);return!0}function He(e,t,i,r){for(var a=0,n=e.length;a<n;a++){var o=e[a],s=o.object,l=o.geometry,c=void 0===r?o.material:r,h=o.group;if(s.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s instanceof THREE.ImmediateRenderObject){Be(c);var u=Le(t,i,c,s);b="",s.render((function(e){M.renderBufferImmediate(e,u,c)}))}else M.renderBufferDirect(t,i,l,c,s,h)}}function Be(e){e.side!==THREE.DoubleSide?Z.enable(v.CULL_FACE):Z.disable(v.CULL_FACE),Z.setFlipSided(e.side===THREE.BackSide),!0===e.transparent?Z.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):Z.setBlending(THREE.NoBlending),Z.setDepthFunc(e.depthFunc),Z.setDepthTest(e.depthTest),Z.setDepthWrite(e.depthWrite),Z.setColorWrite(e.colorWrite),Z.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function Le(e,t,i,a){w=0;var n=Q.get(i);if(O){if(V||e!==H){var o=e===H&&i.id===x;U.setState(i.clippingPlanes,i.clipShadows,e,n,o)}void 0!==n.numClippingPlanes&&n.numClippingPlanes!==U.numPlanes&&(i.needsUpdate=!0)}void 0===n.program&&(i.needsUpdate=!0),void 0!==n.lightsHash&&n.lightsHash!==X.hash&&(i.needsUpdate=!0),i.needsUpdate&&(function(e,t,i){var r=Q.get(e),a=te.getParameters(e,X,t,U.numPlanes,i),n=te.getProgramCode(e,a),o=r.program,s=!0;if(void 0===o)e.addEventListener("dispose",ve);else if(o.code!==n)Me(e);else{if(void 0!==a.shaderID)return;s=!1}if(s){if(a.shaderID){var l=THREE.ShaderLib[a.shaderID];r.__webglShader={name:e.type,uniforms:THREE.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=r.__webglShader,o=te.acquireProgram(e,a,n),r.program=o,e.program=o}var c=o.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var h=0;h<M.maxMorphTargets;h++)c["morphTarget"+h]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,h=0;h<M.maxMorphNormals;h++)c["morphNormal"+h]>=0&&e.numSupportedMorphNormals++;var u=r.__webglShader.uniforms;(e instanceof THREE.ShaderMaterial||e instanceof THREE.RawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=U.numPlanes,u.clippingPlanes=U.uniform),e.lights&&(r.lightsHash=X.hash,u.ambientLightColor.value=X.ambient,u.directionalLights.value=X.directional,u.spotLights.value=X.spot,u.pointLights.value=X.point,u.hemisphereLights.value=X.hemi,u.directionalShadowMap.value=X.directionalShadowMap,u.directionalShadowMatrix.value=X.directionalShadowMatrix,u.spotShadowMap.value=X.spotShadowMap,u.spotShadowMatrix.value=X.spotShadowMatrix,u.pointShadowMap.value=X.pointShadowMap,u.pointShadowMatrix.value=X.pointShadowMatrix);var d=r.program.getUniforms(),p=THREE.WebGLUniforms.seqWithValue(d.seq,u);r.uniformsList=p,r.dynamicUniforms=THREE.WebGLUniforms.splitDynamic(p,u)}(i,t,a),i.needsUpdate=!1);var s,l,c=!1,h=!1,u=!1,d=n.program,p=d.getUniforms(),m=n.__webglShader.uniforms;if(d.id!==S&&(v.useProgram(d.program),S=d.id,c=!0,h=!0,u=!0),i.id!==x&&(x=i.id,h=!0),c||e!==H){if(p.set(v,e,"projectionMatrix"),J.logarithmicDepthBuffer&&p.setValue(v,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==H&&(H=e,h=!0,u=!0),i instanceof THREE.ShaderMaterial||i instanceof THREE.MeshPhongMaterial||i instanceof THREE.MeshStandardMaterial||i.envMap){var f=p.map.cameraPosition;void 0!==f&&f.setValue(v,j.setFromMatrixPosition(e.matrixWorld))}(i instanceof THREE.MeshPhongMaterial||i instanceof THREE.MeshLambertMaterial||i instanceof THREE.MeshBasicMaterial||i instanceof THREE.MeshStandardMaterial||i instanceof THREE.ShaderMaterial||i.skinning)&&p.setValue(v,"viewMatrix",e.matrixWorldInverse),p.set(v,M,"toneMappingExposure"),p.set(v,M,"toneMappingWhitePoint")}if(i.skinning){p.setOptional(v,a,"bindMatrix"),p.setOptional(v,a,"bindMatrixInverse");var E=a.skeleton;E&&(J.floatVertexTextures&&E.useVertexTexture?(p.set(v,E,"boneTexture"),p.set(v,E,"boneTextureWidth"),p.set(v,E,"boneTextureHeight")):p.setOptional(v,E,"boneMatrices"))}h&&(i.lights&&(l=u,(s=m).ambientLightColor.needsUpdate=l,s.directionalLights.needsUpdate=l,s.pointLights.needsUpdate=l,s.spotLights.needsUpdate=l,s.hemisphereLights.needsUpdate=l),t&&i.fog&&function(e,t){e.fogColor.value=t.color,t instanceof THREE.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof THREE.FogExp2&&(e.fogDensity.value=t.density)}(m,t),(i instanceof THREE.MeshBasicMaterial||i instanceof THREE.MeshLambertMaterial||i instanceof THREE.MeshPhongMaterial||i instanceof THREE.MeshStandardMaterial||i instanceof THREE.MeshDepthMaterial)&&function(e,t){var i;if(e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i){i instanceof THREE.WebGLRenderTarget&&(i=i.texture);var r=i.offset,a=i.repeat;e.offsetRepeat.value.set(r.x,r.y,a.x,a.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof THREE.CubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}(m,i),i instanceof THREE.LineBasicMaterial?Ae(m,i):i instanceof THREE.LineDashedMaterial?(Ae(m,i),function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(m,i)):i instanceof THREE.PointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*F,e.scale.value=.5*r.clientHeight,e.map.value=t.map,null!==t.map){var i=t.map.offset,a=t.map.repeat;e.offsetRepeat.value.set(i.x,i.y,a.x,a.y)}}(m,i):i instanceof THREE.MeshLambertMaterial?function(e,t){t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(m,i):i instanceof THREE.MeshPhongMaterial?function(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(m,i):i instanceof THREE.MeshPhysicalMaterial?function(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,we(e,t)}(m,i):i instanceof THREE.MeshStandardMaterial?we(m,i):i instanceof THREE.MeshDepthMaterial?i.displacementMap&&(m.displacementMap.value=i.displacementMap,m.displacementScale.value=i.displacementScale,m.displacementBias.value=i.displacementBias):i instanceof THREE.MeshNormalMaterial&&(m.opacity.value=i.opacity),THREE.WebGLUniforms.upload(v,n.uniformsList,m,M)),p.set(v,a,"modelViewMatrix"),p.set(v,a,"normalMatrix"),p.setValue(v,"modelMatrix",a.matrixWorld);var g=n.dynamicUniforms;return null!==g&&(THREE.WebGLUniforms.evalDynamic(g,m,a,e),THREE.WebGLUniforms.upload(v,g,m,M)),d}function Ae(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function we(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function _e(e){var t;if(e===THREE.RepeatWrapping)return v.REPEAT;if(e===THREE.ClampToEdgeWrapping)return v.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return v.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return v.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return v.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return v.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return v.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return v.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return v.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return v.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return v.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return v.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return v.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return v.BYTE;if(e===THREE.ShortType)return v.SHORT;if(e===THREE.UnsignedShortType)return v.UNSIGNED_SHORT;if(e===THREE.IntType)return v.INT;if(e===THREE.UnsignedIntType)return v.UNSIGNED_INT;if(e===THREE.FloatType)return v.FLOAT;if(null!==(t=q.get("OES_texture_half_float"))&&e===THREE.HalfFloatType)return t.HALF_FLOAT_OES;if(e===THREE.AlphaFormat)return v.ALPHA;if(e===THREE.RGBFormat)return v.RGB;if(e===THREE.RGBAFormat)return v.RGBA;if(e===THREE.LuminanceFormat)return v.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return v.LUMINANCE_ALPHA;if(e===THREE.DepthFormat)return v.DEPTH_COMPONENT;if(e===THREE.AddEquation)return v.FUNC_ADD;if(e===THREE.SubtractEquation)return v.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return v.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return v.ZERO;if(e===THREE.OneFactor)return v.ONE;if(e===THREE.SrcColorFactor)return v.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return v.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return v.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return v.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return v.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return v.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return v.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return v.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return v.SRC_ALPHA_SATURATE;if(null!==(t=q.get("WEBGL_compressed_texture_s3tc"))){if(e===THREE.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(t=q.get("WEBGL_compressed_texture_pvrtc"))){if(e===THREE.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===THREE.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===THREE.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===THREE.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(t=q.get("WEBGL_compressed_texture_etc1"))&&e===THREE.RGB_ETC1_Format)return t.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(t=q.get("EXT_blend_minmax"))){if(e===THREE.MinEquation)return t.MIN_EXT;if(e===THREE.MaxEquation)return t.MAX_EXT}return 0}this.getContext=function(){return v},this.getContextAttributes=function(){return v.getContextAttributes()},this.forceContextLoss=function(){q.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return J.getMaxAnisotropy()},this.getPrecision=function(){return J.precision},this.getPixelRatio=function(){return F},this.setPixelRatio=function(e){void 0!==e&&(F=e,this.setSize(G.z,G.w,!1))},this.getSize=function(){return{width:I,height:P}},this.setSize=function(e,t,i){I=e,P=t,r.width=e*F,r.height=t*F,!1!==i&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,r){Z.viewport(G.set(e,t,i,r))},this.setScissor=function(e,t,i,r){Z.scissor(N.set(e,t,i,r))},this.setScissorTest=function(e){Z.setScissorTest(D=e)},this.getClearColor=function(){return _},this.setClearColor=function(e,t){_.set(e),C=void 0!==t?t:1,ue(_.r,_.g,_.b,C)},this.getClearAlpha=function(){return C},this.setClearAlpha=function(e){C=e,ue(_.r,_.g,_.b,C)},this.clear=function(e,t,i){var r=0;(void 0===e||e)&&(r|=v.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=v.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=v.STENCIL_BUFFER_BIT),v.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,i,r){this.setRenderTarget(e),this.clear(t,i,r)},this.resetGLState=pe,this.dispose=function(){m=[],f=-1,d=[],p=-1,r.removeEventListener("webglcontextlost",Te,!1)},this.renderBufferImmediate=function(e,t,i){Z.initAttributes();var r=Q.get(e);e.hasPositions&&!r.position&&(r.position=v.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=v.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=v.createBuffer()),e.hasColors&&!r.color&&(r.color=v.createBuffer());var a=t.getAttributes();if(e.hasPositions&&(v.bindBuffer(v.ARRAY_BUFFER,r.position),v.bufferData(v.ARRAY_BUFFER,e.positionArray,v.DYNAMIC_DRAW),Z.enableAttribute(a.position),v.vertexAttribPointer(a.position,3,v.FLOAT,!1,0,0)),e.hasNormals){if(v.bindBuffer(v.ARRAY_BUFFER,r.normal),"MeshPhongMaterial"!==i.type&&"MeshStandardMaterial"!==i.type&&"MeshPhysicalMaterial"!==i.type&&i.shading===THREE.FlatShading)for(var n=0,o=3*e.count;n<o;n+=9){var s=e.normalArray,l=(s[n+0]+s[n+3]+s[n+6])/3,c=(s[n+1]+s[n+4]+s[n+7])/3,h=(s[n+2]+s[n+5]+s[n+8])/3;s[n+0]=l,s[n+1]=c,s[n+2]=h,s[n+3]=l,s[n+4]=c,s[n+5]=h,s[n+6]=l,s[n+7]=c,s[n+8]=h}v.bufferData(v.ARRAY_BUFFER,e.normalArray,v.DYNAMIC_DRAW),Z.enableAttribute(a.normal),v.vertexAttribPointer(a.normal,3,v.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(v.bindBuffer(v.ARRAY_BUFFER,r.uv),v.bufferData(v.ARRAY_BUFFER,e.uvArray,v.DYNAMIC_DRAW),Z.enableAttribute(a.uv),v.vertexAttribPointer(a.uv,2,v.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==THREE.NoColors&&(v.bindBuffer(v.ARRAY_BUFFER,r.color),v.bufferData(v.ARRAY_BUFFER,e.colorArray,v.DYNAMIC_DRAW),Z.enableAttribute(a.color),v.vertexAttribPointer(a.color,3,v.FLOAT,!1,0,0)),Z.disableUnusedAttributes(),v.drawArrays(v.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,r,a,n){Be(r);var o=Le(e,t,r,a),s=!1,l=i.id+"_"+o.id+"_"+r.wireframe;l!==b&&(b=l,s=!0);var c=a.morphTargetInfluences;if(void 0!==c){for(var h=[],u=0,d=c.length;u<d;u++){var p=c[u];h.push([p,u])}h.sort(Se),h.length>8&&(h.length=8);var m=i.morphAttributes;for(u=0,d=h.length;u<d;u++)if(p=h[u],E[u]=p[0],0!==p[0]){var f=p[1];!0===r.morphTargets&&m.position&&i.addAttribute("morphTarget"+u,m.position[f]),!0===r.morphNormals&&m.normal&&i.addAttribute("morphNormal"+u,m.normal[f])}else!0===r.morphTargets&&i.removeAttribute("morphTarget"+u),!0===r.morphNormals&&i.removeAttribute("morphNormal"+u);o.getUniforms().setValue(v,"morphTargetInfluences",E),s=!0}f=i.index;var g,T=i.attributes.position;!0===r.wireframe&&(f=ee.getWireframeAttribute(i)),null!==f?(g=ae).setIndex(f):g=re,s&&(function(e,t,i,r){var a;if(!(i instanceof THREE.InstancedBufferGeometry&&null===(a=q.get("ANGLE_instanced_arrays")))){void 0===r&&(r=0),Z.initAttributes();var n=i.attributes,o=t.getAttributes(),s=e.defaultAttributeValues;for(var l in o){var c=o[l];if(c>=0){var h=n[l];if(void 0!==h){var u=v.FLOAT,d=h.array,p=h.normalized;d instanceof Float32Array?u=v.FLOAT:d instanceof Float64Array||(d instanceof Uint16Array?u=v.UNSIGNED_SHORT:d instanceof Int16Array?u=v.SHORT:d instanceof Uint32Array?u=v.UNSIGNED_INT:d instanceof Int32Array?u=v.INT:d instanceof Int8Array?u=v.BYTE:d instanceof Uint8Array&&(u=v.UNSIGNED_BYTE));var m=h.itemSize,f=ee.getAttributeBuffer(h);if(h instanceof THREE.InterleavedBufferAttribute){var E=h.data,g=E.stride,T=h.offset;E instanceof THREE.InstancedInterleavedBuffer?(Z.enableAttributeAndDivisor(c,E.meshPerAttribute,a),void 0===i.maxInstancedCount&&(i.maxInstancedCount=E.meshPerAttribute*E.count)):Z.enableAttribute(c),v.bindBuffer(v.ARRAY_BUFFER,f),v.vertexAttribPointer(c,m,u,p,g*E.array.BYTES_PER_ELEMENT,(r*g+T)*E.array.BYTES_PER_ELEMENT)}else h instanceof THREE.InstancedBufferAttribute?(Z.enableAttributeAndDivisor(c,h.meshPerAttribute,a),void 0===i.maxInstancedCount&&(i.maxInstancedCount=h.meshPerAttribute*h.count)):Z.enableAttribute(c),v.bindBuffer(v.ARRAY_BUFFER,f),v.vertexAttribPointer(c,m,u,p,0,r*m*h.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var M=s[l];if(void 0!==M)switch(M.length){case 2:v.vertexAttrib2fv(c,M);break;case 3:v.vertexAttrib3fv(c,M);break;case 4:v.vertexAttrib4fv(c,M);break;default:v.vertexAttrib1fv(c,M)}}}}Z.disableUnusedAttributes()}}(r,o,i),null!==f&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,ee.getAttributeBuffer(f)));var M=1/0;null!==f?M=f.count:void 0!==T&&(M=T.count);var S=i.drawRange.start,y=i.drawRange.count,R=null!==n?n.start:0,x=null!==n?n.count:1/0,H=Math.max(0,S,R),B=Math.min(0+M,S+y,R+x)-1,L=Math.max(0,B-H+1);if(a instanceof THREE.Mesh)if(!0===r.wireframe)Z.setLineWidth(r.wireframeLinewidth*he()),g.setMode(v.LINES);else switch(a.drawMode){case THREE.TrianglesDrawMode:g.setMode(v.TRIANGLES);break;case THREE.TriangleStripDrawMode:g.setMode(v.TRIANGLE_STRIP);break;case THREE.TriangleFanDrawMode:g.setMode(v.TRIANGLE_FAN)}else if(a instanceof THREE.Line){var A=r.linewidth;void 0===A&&(A=1),Z.setLineWidth(A*he()),a instanceof THREE.LineSegments?g.setMode(v.LINES):g.setMode(v.LINE_STRIP)}else a instanceof THREE.Points&&g.setMode(v.POINTS);i instanceof THREE.InstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,H,L):g.render(H,L)},this.render=function(e,t,i,r){if(t instanceof THREE.Camera!=0){var a=e.fog;b="",x=-1,H=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),W.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),k.setFromMatrix(W),u.length=0,p=-1,f=-1,g.length=0,T.length=0,V=this.localClippingEnabled,O=U.init(this.clippingPlanes,V,t),function e(t,i){if(!1!==t.visible){if(t.layers.test(i.layers))if(t instanceof THREE.Light)u.push(t);else if(t instanceof THREE.Sprite)!1!==t.frustumCulled&&!0!==(d=t,z.center.set(0,0,0),z.radius=.7071067811865476,z.applyMatrix4(d.matrixWorld),be(z))||g.push(t);else if(t instanceof THREE.LensFlare)T.push(t);else if(t instanceof THREE.ImmediateRenderObject)!0===M.sortObjects&&(j.setFromMatrixPosition(t.matrixWorld),j.applyProjection(W)),xe(t,null,t.material,j.z,null);else if((t instanceof THREE.Mesh||t instanceof THREE.Line||t instanceof THREE.Points)&&(t instanceof THREE.SkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),z.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),be(z)}(t))){var r=t.material;if(!0===r.visible){!0===M.sortObjects&&(j.setFromMatrixPosition(t.matrixWorld),j.applyProjection(W));var a=ee.update(t);if(r instanceof THREE.MultiMaterial)for(var n=a.groups,o=r.materials,s=0,l=n.length;s<l;s++){var c=n[s],h=o[c.materialIndex];!0===h.visible&&xe(t,a,h,j.z,c)}else xe(t,a,r,j.z,null)}}var d,p=t.children;for(s=0,l=p.length;s<l;s++)e(p[s],i)}}(e,t),d.length=p+1,m.length=f+1,!0===M.sortObjects&&(d.sort(ye),m.sort(Re)),O&&U.beginShadows(),function(e){for(var t=0,i=0,r=e.length;i<r;i++){var a=e[i];a.castShadow&&(X.shadows[t++]=a)}X.shadows.length=t}(u),me.render(e,t),function(e,t){var i,r,a,n,o,s,l,c=0,h=0,u=0,d=t.matrixWorldInverse,p=0,m=0,f=0,E=0;for(i=0,r=e.length;i<r;i++)if(n=(a=e[i]).color,o=a.intensity,s=a.distance,l=a.shadow&&a.shadow.map?a.shadow.map.texture:null,a instanceof THREE.AmbientLight)c+=n.r*o,h+=n.g*o,u+=n.b*o;else if(a instanceof THREE.DirectionalLight){(g=ie.get(a)).color.copy(a.color).multiplyScalar(a.intensity),g.direction.setFromMatrixPosition(a.matrixWorld),j.setFromMatrixPosition(a.target.matrixWorld),g.direction.sub(j),g.direction.transformDirection(d),g.shadow=a.castShadow,a.castShadow&&(g.shadowBias=a.shadow.bias,g.shadowRadius=a.shadow.radius,g.shadowMapSize=a.shadow.mapSize),X.directionalShadowMap[p]=l,X.directionalShadowMatrix[p]=a.shadow.matrix,X.directional[p++]=g}else if(a instanceof THREE.SpotLight){(g=ie.get(a)).position.setFromMatrixPosition(a.matrixWorld),g.position.applyMatrix4(d),g.color.copy(n).multiplyScalar(o),g.distance=s,g.direction.setFromMatrixPosition(a.matrixWorld),j.setFromMatrixPosition(a.target.matrixWorld),g.direction.sub(j),g.direction.transformDirection(d),g.coneCos=Math.cos(a.angle),g.penumbraCos=Math.cos(a.angle*(1-a.penumbra)),g.decay=0===a.distance?0:a.decay,g.shadow=a.castShadow,a.castShadow&&(g.shadowBias=a.shadow.bias,g.shadowRadius=a.shadow.radius,g.shadowMapSize=a.shadow.mapSize),X.spotShadowMap[f]=l,X.spotShadowMatrix[f]=a.shadow.matrix,X.spot[f++]=g}else if(a instanceof THREE.PointLight){(g=ie.get(a)).position.setFromMatrixPosition(a.matrixWorld),g.position.applyMatrix4(d),g.color.copy(a.color).multiplyScalar(a.intensity),g.distance=a.distance,g.decay=0===a.distance?0:a.decay,g.shadow=a.castShadow,a.castShadow&&(g.shadowBias=a.shadow.bias,g.shadowRadius=a.shadow.radius,g.shadowMapSize=a.shadow.mapSize),X.pointShadowMap[m]=l,void 0===X.pointShadowMatrix[m]&&(X.pointShadowMatrix[m]=new THREE.Matrix4),j.setFromMatrixPosition(a.matrixWorld).negate(),X.pointShadowMatrix[m].identity().setPosition(j),X.point[m++]=g}else if(a instanceof THREE.HemisphereLight){var g;(g=ie.get(a)).direction.setFromMatrixPosition(a.matrixWorld),g.direction.transformDirection(d),g.direction.normalize(),g.skyColor.copy(a.color).multiplyScalar(o),g.groundColor.copy(a.groundColor).multiplyScalar(o),X.hemi[E++]=g}X.ambient[0]=c,X.ambient[1]=h,X.ambient[2]=u,X.directional.length=p,X.spot.length=f,X.point.length=m,X.hemi.length=E,X.hash=p+","+m+","+f+","+E+","+X.shadows.length}(u,t),O&&U.endShadows(),K.calls=0,K.vertices=0,K.faces=0,K.points=0,void 0===i&&(i=null),this.setRenderTarget(i);var n=e.background;if(null===n?ue(_.r,_.g,_.b,C):n instanceof THREE.Color&&ue(n.r,n.g,n.b,1),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),n instanceof THREE.CubeTexture?(oe.projectionMatrix.copy(t.projectionMatrix),oe.matrixWorld.extractRotation(t.matrixWorld),oe.matrixWorldInverse.getInverse(oe.matrixWorld),ce.material.uniforms.tCube.value=n,ce.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,ce.matrixWorld),M.renderBufferDirect(oe,null,ce.geometry,ce.material,ce,null)):n instanceof THREE.Texture&&(se.material.map=n,M.renderBufferDirect(ne,null,se.geometry,se.material,se,null)),e.overrideMaterial){var o=e.overrideMaterial;He(d,t,a,o),He(m,t,a,o)}else Z.setBlending(THREE.NoBlending),He(d,t,a),He(m,t,a);Ee.render(e,t),ge.render(e,t,A),i&&$.updateRenderTargetMipmap(i),Z.setDepthTest(!0),Z.setDepthWrite(!0),Z.setColorWrite(!0)}},this.setFaceCulling=function(e,t){Z.setCullFace(e),Z.setFlipSided(t===THREE.FrontFaceDirectionCW)},this.allocTextureUnit=function(){var e=w;return J.maxTextures,w+=1,e},this.setTexture2D=(fe=!1,function(e,t){e instanceof THREE.WebGLRenderTarget&&(fe||(fe=!0),e=e.texture),$.setTexture2D(e,t)}),this.setTexture=function(){var e=!1;return function(t,i){e||(e=!0),$.setTexture2D(t,i)}}(),this.setTextureCube=function(){var e=!1;return function(t,i){t instanceof THREE.WebGLRenderTargetCube&&(e||(e=!0),t=t.texture),t instanceof THREE.CubeTexture||Array.isArray(t.image)&&6===t.image.length?$.setTextureCube(t,i):$.setTextureCubeDynamic(t,i)}}(),this.getCurrentRenderTarget=function(){return y},this.setRenderTarget=function(e){y=e,e&&void 0===Q.get(e).__webglFramebuffer&&$.setupRenderTarget(e);var t,i=e instanceof THREE.WebGLRenderTargetCube;if(e){var r=Q.get(e);t=i?r.__webglFramebuffer[e.activeCubeFace]:r.__webglFramebuffer,B.copy(e.scissor),L=e.scissorTest,A.copy(e.viewport)}else t=null,B.copy(N).multiplyScalar(F),L=D,A.copy(G).multiplyScalar(F);if(R!==t&&(v.bindFramebuffer(v.FRAMEBUFFER,t),R=t),Z.scissor(B),Z.setScissorTest(L),Z.viewport(A),i){var a=Q.get(e.texture);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,a.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,i,r,a,n){if(e instanceof THREE.WebGLRenderTarget!=0){var o=Q.get(e).__webglFramebuffer;if(o){var s=!1;o!==R&&(v.bindFramebuffer(v.FRAMEBUFFER,o),s=!0);try{var l=e.texture;if(l.format!==THREE.RGBAFormat&&_e(l.format)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(l.type===THREE.UnsignedByteType||_e(l.type)===v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===THREE.FloatType&&q.get("WEBGL_color_buffer_float")||l.type===THREE.HalfFloatType&&q.get("EXT_color_buffer_half_float")))return;v.checkFramebufferStatus(v.FRAMEBUFFER)===v.FRAMEBUFFER_COMPLETE&&t>=0&&t<=e.width-r&&i>=0&&i<=e.height-a&&v.readPixels(t,i,r,a,_e(l.format),_e(l.type),n)}finally{s&&v.bindFramebuffer(v.FRAMEBUFFER,R)}}}}},THREE.WebGLRenderTarget=function(e,t,i){this.uuid=THREE.Math.generateUUID(),this.width=e,this.height=t,this.scissor=new THREE.Vector4(0,0,e,t),this.scissorTest=!1,this.viewport=new THREE.Vector4(0,0,e,t),void 0===(i=i||{}).minFilter&&(i.minFilter=THREE.LinearFilter),this.texture=new THREE.Texture(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=null},Object.assign(THREE.WebGLRenderTarget.prototype,THREE.EventDispatcher.prototype,{setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),THREE.WebGLRenderTargetCube=function(e,t,i){THREE.WebGLRenderTarget.call(this,e,t,i),this.activeCubeFace=0,this.activeMipMapLevel=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube,THREE.WebGLBufferRenderer=function(e,t,i){var r;this.setMode=function(e){r=e},this.render=function(t,a){e.drawArrays(r,t,a),i.calls++,i.vertices+=a,r===e.TRIANGLES&&(i.faces+=a/3)},this.renderInstances=function(a){var n=t.get("ANGLE_instanced_arrays");if(null!==n){var o=a.attributes.position,s=0;o instanceof THREE.InterleavedBufferAttribute?(s=o.data.count,n.drawArraysInstancedANGLE(r,0,s,a.maxInstancedCount)):(s=o.count,n.drawArraysInstancedANGLE(r,0,s,a.maxInstancedCount)),i.calls++,i.vertices+=s*a.maxInstancedCount,r===e.TRIANGLES&&(i.faces+=a.maxInstancedCount*s/3)}}},THREE.WebGLClipping=function(){var e=this,t=null,i=0,r=!1,a=!1,n=new THREE.Plane,o=new THREE.Matrix3,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=i>0),e.numPlanes=i}function c(t,i,r,a){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==a||null===c){var h=r+4*l,u=i.matrixWorldInverse;o.getNormalMatrix(u),(null===c||c.length<h)&&(c=new Float32Array(h));for(var d=0,p=r;d!==l;++d,p+=4)n.copy(t[d]).applyMatrix4(u,o),n.normal.toArray(c,p),c[p+3]=n.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.init=function(e,a,n){var o=0!==e.length||a||0!==i||r;return r=a,t=c(e,n,0),i=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(e,n,o,h,u){if(!r||null===e||0===e.length||a&&!n)a?c(null):l();else{var d=a?0:i,p=4*d,m=h.clippingState||null;s.value=m,m=c(e,o,p,u);for(var f=0;f!==p;++f)m[f]=t[f];h.clippingState=m,this.numPlanes+=d}}},THREE.WebGLIndexedBufferRenderer=function(e,t,i){var r,a,n;this.setMode=function(e){r=e},this.setIndex=function(i){i.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(a=e.UNSIGNED_INT,n=4):(a=e.UNSIGNED_SHORT,n=2)},this.render=function(t,o){e.drawElements(r,o,a,t*n),i.calls++,i.vertices+=o,r===e.TRIANGLES&&(i.faces+=o/3)},this.renderInstances=function(o,s,l){var c=t.get("ANGLE_instanced_arrays");null!==c&&(c.drawElementsInstancedANGLE(r,l,a,s*n,o.maxInstancedCount),i.calls++,i.vertices+=l*o.maxInstancedCount,r===e.TRIANGLES&&(i.faces+=o.maxInstancedCount*l/3))}},THREE.WebGLExtensions=function(e){var t={};this.get=function(i){if(void 0!==t[i])return t[i];var r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(i)}return t[i]=r,r}},THREE.WebGLCapabilities=function(e,t,i){var r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxAnisotropy=function(){if(void 0!==r)return r;var i=t.get("EXT_texture_filter_anisotropic");return r=null!==i?e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getMaxPrecision=a,this.precision=void 0!==i.precision?i.precision:"highp",this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer&&i.logarithmicDepthBuffer,this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=e.getParameter(e.MAX_VARYING_VECTORS),this.maxFragmentUniforms=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!t.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var n=a(this.precision);n!==this.precision&&(this.precision=n),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!t.get("EXT_frag_depth"))},THREE.WebGLGeometries=function(e,t,i){var r={};function a(e){var o=e.target,s=r[o.id];null!==s.index&&n(s.index),function(e){for(var t in e)n(e[t])}(s.attributes),o.removeEventListener("dispose",a),delete r[o.id];var l=t.get(o);l.wireframe&&n(l.wireframe),t.delete(o);var c=t.get(s);c.wireframe&&n(c.wireframe),t.delete(s),i.memory.geometries--}function n(i){var r=function(e){return e instanceof THREE.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}(i);void 0!==r&&(e.deleteBuffer(r),function(e){e instanceof THREE.InterleavedBufferAttribute?t.delete(e.data):t.delete(e)}(i))}this.get=function(e){var t,n=e.geometry;return void 0!==r[n.id]?r[n.id]:(n.addEventListener("dispose",a),n instanceof THREE.BufferGeometry?t=n:n instanceof THREE.Geometry&&(void 0===n._bufferGeometry&&(n._bufferGeometry=(new THREE.BufferGeometry).setFromObject(e)),t=n._bufferGeometry),r[n.id]=t,i.memory.geometries++,t)}},THREE.WebGLLights=function(){var e={};this.get=function(t){if(void 0!==e[t.id])return e[t.id];var i;switch(t.type){case"DirectionalLight":i={direction:new THREE.Vector3,color:new THREE.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"SpotLight":i={position:new THREE.Vector3,direction:new THREE.Vector3,color:new THREE.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"PointLight":i={position:new THREE.Vector3,color:new THREE.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"HemisphereLight":i={direction:new THREE.Vector3,skyColor:new THREE.Color,groundColor:new THREE.Color}}return e[t.id]=i,i}},THREE.WebGLObjects=function(e,t,i){var r=new THREE.WebGLGeometries(e,t,i);function a(i,r){var a=i instanceof THREE.InterleavedBufferAttribute?i.data:i,n=t.get(a);void 0===n.__webglBuffer?function(t,i,r){t.__webglBuffer=e.createBuffer(),e.bindBuffer(r,t.__webglBuffer);var a=i.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,i.array,a),t.version=i.version}(n,a,r):n.version!==a.version&&function(t,i,r){e.bindBuffer(r,t.__webglBuffer),!1===i.dynamic||-1===i.updateRange.count?e.bufferSubData(r,0,i.array):0===i.updateRange.count||(e.bufferSubData(r,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),t.version=i.version}(n,a,r)}function n(e,t,i){if(t>i){var r=t;t=i,i=r}var a=e[t];return void 0===a?(e[t]=[i],!0):-1===a.indexOf(i)&&(a.push(i),!0)}this.getAttributeBuffer=function(e){return e instanceof THREE.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer},this.getWireframeAttribute=function(i){var r=t.get(i);if(void 0!==r.wireframe)return r.wireframe;var o,s=[],l=i.index,c=i.attributes,h=c.position;if(null!==l)for(var u={},d=0,p=(o=l.array).length;d<p;d+=3){var m=o[d+0],f=o[d+1],E=o[d+2];n(u,m,f)&&s.push(m,f),n(u,f,E)&&s.push(f,E),n(u,E,m)&&s.push(E,m)}else for(d=0,p=(o=c.position.array).length/3-1;d<p;d+=3)m=d+0,f=d+1,E=d+2,s.push(m,f,f,E,E,m);var g=h.count>65535?Uint32Array:Uint16Array,T=new THREE.BufferAttribute(new g(s),1);return a(T,e.ELEMENT_ARRAY_BUFFER),r.wireframe=T,T},this.update=function(t){var i=r.get(t);t.geometry instanceof THREE.Geometry&&i.updateFromObject(t);var n=i.index,o=i.attributes;for(var s in null!==n&&a(n,e.ELEMENT_ARRAY_BUFFER),o)a(o[s],e.ARRAY_BUFFER);var l=i.morphAttributes;for(var s in l)for(var c=l[s],h=0,u=c.length;h<u;h++)a(c[h],e.ARRAY_BUFFER);return i}},THREE.WebGLProgram=function(){var e=0;function t(e){switch(e){case THREE.LinearEncoding:return["Linear","( value )"];case THREE.sRGBEncoding:return["sRGB","( value )"];case THREE.RGBEEncoding:return["RGBE","( value )"];case THREE.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case THREE.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case THREE.RGBDEncoding:return["RGBD","( value, 256.0 )"];case THREE.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function i(e,i){var r=t(i);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function r(e,t){var i;switch(t){case THREE.LinearToneMapping:i="Linear";break;case THREE.ReinhardToneMapping:i="Reinhard";break;case THREE.Uncharted2ToneMapping:i="Uncharted2";break;case THREE.CineonToneMapping:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function a(e){return""!==e}function n(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function o(e){return e.replace(/#include +<([\w\d.]+)>/g,(function(e,t){var i=THREE.ShaderChunk[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return o(i)}))}function s(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,i,r){for(var a="",n=parseInt(t);n<parseInt(i);n++)a+=r.replace(/\[ i \]/g,"[ "+n+" ]");return a}))}return function(l,c,h,u){var d=l.context,p=h.extensions,m=h.defines,f=h.__webglShader.vertexShader,E=h.__webglShader.fragmentShader,g="SHADOWMAP_TYPE_BASIC";u.shadowMapType===THREE.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":u.shadowMapType===THREE.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var T="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",M="ENVMAP_BLENDING_MULTIPLY";if(u.envMap){switch(h.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:T="ENVMAP_TYPE_CUBE";break;case THREE.CubeUVReflectionMapping:case THREE.CubeUVRefractionMapping:T="ENVMAP_TYPE_CUBE_UV";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:T="ENVMAP_TYPE_EQUIREC";break;case THREE.SphericalReflectionMapping:T="ENVMAP_TYPE_SPHERE"}switch(h.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:v="ENVMAP_MODE_REFRACTION"}switch(h.combine){case THREE.MultiplyOperation:M="ENVMAP_BLENDING_MULTIPLY";break;case THREE.MixOperation:M="ENVMAP_BLENDING_MIX";break;case THREE.AddOperation:M="ENVMAP_BLENDING_ADD"}}var S,y,R,x,b=l.gammaFactor>0?l.gammaFactor:1,H=function(e,t,i){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(a).join("\n")}(p,u,l.extensions),B=function(e){var t=[];for(var i in e){var r=e[i];!1!==r&&t.push("#define "+i+" "+r)}return t.join("\n")}(m),L=d.createProgram();h instanceof THREE.RawShaderMaterial?(S=[B].filter(a).join("\n"),y=[B].filter(a).join("\n")):(S=["precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,B,u.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+b,"#define MAX_BONES "+u.maxBones,u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+v:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.displacementMap&&u.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.useVertexTexture?"#define BONE_TEXTURE":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals&&!1===u.flatShading?"#define USE_MORPHNORMALS":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+u.numClippingPlanes,u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+g:"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&l.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(a).join("\n"),y=[H,"precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,B,u.alphaTest?"#define ALPHATEST "+u.alphaTest:"","#define GAMMA_FACTOR "+b,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+T:"",u.envMap?"#define "+v:"",u.envMap?"#define "+M:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+u.numClippingPlanes,u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+g:"",u.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",u.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&l.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",u.envMap&&l.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",u.toneMapping!==THREE.NoToneMapping?"#define TONE_MAPPING":"",u.toneMapping!==THREE.NoToneMapping?THREE.ShaderChunk.tonemapping_pars_fragment:"",u.toneMapping!==THREE.NoToneMapping?r("toneMapping",u.toneMapping):"",u.outputEncoding||u.mapEncoding||u.envMapEncoding||u.emissiveMapEncoding?THREE.ShaderChunk.encodings_pars_fragment:"",u.mapEncoding?i("mapTexelToLinear",u.mapEncoding):"",u.envMapEncoding?i("envMapTexelToLinear",u.envMapEncoding):"",u.emissiveMapEncoding?i("emissiveMapTexelToLinear",u.emissiveMapEncoding):"",u.outputEncoding?("linearToOutputTexel",R=u.outputEncoding,x=t(R),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+x[0]+x[1]+"; }"):"",u.depthPacking?"#define DEPTH_PACKING "+h.depthPacking:"","\n"].filter(a).join("\n")),f=n(f=o(f),u),E=n(E=o(E),u),h instanceof THREE.ShaderMaterial==0&&(f=s(f),E=s(E));var A=S+f,w=y+E,_=THREE.WebGLShader(d,d.VERTEX_SHADER,A),C=THREE.WebGLShader(d,d.FRAGMENT_SHADER,w);d.attachShader(L,_),d.attachShader(L,C),void 0!==h.index0AttributeName?d.bindAttribLocation(L,0,h.index0AttributeName):!0===u.morphTargets&&d.bindAttribLocation(L,0,"position"),d.linkProgram(L);var I,P,F=d.getProgramInfoLog(L),N=d.getShaderInfoLog(_),D=d.getShaderInfoLog(C),G=!0,k=!0;return!1===d.getProgramParameter(L,d.LINK_STATUS)?G=!1:""!==F||""!==N&&""!==D||(k=!1),k&&(this.diagnostics={runnable:G,material:h,programLog:F,vertexShader:{log:N,prefix:S},fragmentShader:{log:D,prefix:y}}),d.deleteShader(_),d.deleteShader(C),this.getUniforms=function(){return void 0===I&&(I=new THREE.WebGLUniforms(d,L,l)),I},this.getAttributes=function(){return void 0===P&&(P=function(e,t,i){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<a;n++){var o=e.getActiveAttrib(t,n).name;r[o]=e.getAttribLocation(t,o)}return r}(d,L)),P},this.destroy=function(){d.deleteProgram(L),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.id=e++,this.code=c,this.usedTimes=1,this.program=L,this.vertexShader=_,this.fragmentShader=C,this}}(),THREE.WebGLPrograms=function(e,t){var i=[],r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function n(e,t){var i;return e?e instanceof THREE.Texture?i=e.encoding:e instanceof THREE.WebGLRenderTarget&&(i=e.texture.encoding):i=THREE.LinearEncoding,i===THREE.LinearEncoding&&t&&(i=THREE.GammaEncoding),i}this.getParameters=function(i,a,o,s,l){var c=r[i.type],h=function(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var i=t.maxVertexUniforms,r=Math.floor((i-20)/4);return void 0!==e&&e instanceof THREE.SkinnedMesh&&(r=Math.min(e.skeleton.bones.length,r),e.skeleton.bones.length),r}(l),u=e.getPrecision();null!==i.precision&&(u=t.getMaxPrecision(i.precision),i.precision);var d=e.getCurrentRenderTarget();return{shaderID:c,precision:u,supportsVertexTextures:t.vertexTextures,outputEncoding:n(d?d.texture:null,e.gammaOutput),map:!!i.map,mapEncoding:n(i.map,e.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:n(i.envMap,e.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===THREE.CubeUVReflectionMapping||i.envMap.mapping===THREE.CubeUVRefractionMapping),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:n(i.emissiveMap,e.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,combine:i.combine,vertexColors:i.vertexColors,fog:o,useFog:i.fog,fogExp:o instanceof THREE.FogExp2,flatShading:i.shading===THREE.FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:i.skinning,maxBones:h,useVertexTexture:t.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numHemiLights:a.hemi.length,numClippingPlanes:s,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&a.shadows.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===THREE.DoubleSide,flipSided:i.side===THREE.BackSide,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(e,t){var i=[];if(t.shaderID?i.push(t.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var n=0;n<a.length;n++)i.push(t[a[n]]);return i.join()},this.acquireProgram=function(t,r,a){for(var n,o=0,s=i.length;o<s;o++){var l=i[o];if(l.code===a){++(n=l).usedTimes;break}}return void 0===n&&(n=new THREE.WebGLProgram(e,a,t,r),i.push(n)),n},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i},THREE.WebGLProperties=function(){var e={};this.get=function(t){var i=t.uuid,r=e[i];return void 0===r&&(r={},e[i]=r),r},this.delete=function(t){delete e[t.uuid]},this.clear=function(){e={}}},THREE.WebGLShader=function(e,t,i){var r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS),e.getShaderInfoLog(r),r},THREE.WebGLShadowMap=function(e,t,i){var r=e.context,a=e.state,n=new THREE.Frustum,o=new THREE.Matrix4,s=t.shadows,l=new THREE.Vector2,c=new THREE.Vector3,h=new THREE.Vector3,u=[],d=new Array(4),p=new Array(4),m={},f=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],E=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],g=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],T=new THREE.MeshDepthMaterial;T.depthPacking=THREE.RGBADepthPacking,T.clipping=!0;for(var v=THREE.ShaderLib.distanceRGBA,M=THREE.UniformsUtils.clone(v.uniforms),S=0;4!==S;++S){var y=0!=(1&S),R=0!=(2&S),x=T.clone();x.morphTargets=y,x.skinning=R,d[S]=x;var b=new THREE.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:y,skinning:R,clipping:!0});p[S]=b}var H=this;function B(t,i,r,a){var n=t.geometry,o=null,s=d,l=t.customDepthMaterial;if(r&&(s=p,l=t.customDistanceMaterial),l)o=l;else{var c=0;void 0!==n.morphTargets&&n.morphTargets.length>0&&i.morphTargets&&(c|=1),t instanceof THREE.SkinnedMesh&&i.skinning&&(c|=2),o=s[c]}if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var h=o.uuid,u=i.uuid,f=m[h];void 0===f&&(f={},m[h]=f);var E=f[u];void 0===E&&(E=o.clone(),f[u]=E),o=E}o.visible=i.visible,o.wireframe=i.wireframe;var g=i.side;return H.renderSingleSided&&g==THREE.DoubleSide&&(g=THREE.FrontSide),H.renderReverseSided&&(g===THREE.FrontSide?g=THREE.BackSide:g===THREE.BackSide&&(g=THREE.FrontSide)),o.side=g,o.clipShadows=i.clipShadows,o.clippingPlanes=i.clippingPlanes,o.wireframeLinewidth=i.wireframeLinewidth,o.linewidth=i.linewidth,r&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(a),o}function L(e,t,i){if(!1!==e.visible){e.layers.test(t.layers)&&(e instanceof THREE.Mesh||e instanceof THREE.Line||e instanceof THREE.Points)&&(!e.castShadow||!1!==e.frustumCulled&&!0!==n.intersectsObject(e)||!0===e.material.visible&&(e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),u.push(e)));for(var r=e.children,a=0,o=r.length;a<o;a++)L(r[a],t,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=THREE.PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,d){if(!1!==H.enabled&&(!1!==H.autoUpdate||!1!==H.needsUpdate)&&0!==s.length){var p,m;a.clearColor(1,1,1,1),a.disable(r.BLEND),a.setDepthTest(!0),a.setScissorTest(!1);for(var T=0,v=s.length;T<v;T++){var M=s[T],S=M.shadow;if(void 0!==S){var y=S.camera;if(l.copy(S.mapSize),M instanceof THREE.PointLight){p=6,m=!0;var R=l.x,x=l.y;g[0].set(2*R,x,R,x),g[1].set(0,x,R,x),g[2].set(3*R,x,R,x),g[3].set(R,x,R,x),g[4].set(3*R,0,R,x),g[5].set(R,0,R,x),l.x*=4,l.y*=2}else p=1,m=!1;if(null===S.map){var b={minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat};S.map=new THREE.WebGLRenderTarget(l.x,l.y,b),y.updateProjectionMatrix()}S instanceof THREE.SpotLightShadow&&S.update(M);var A=S.map,w=S.matrix;h.setFromMatrixPosition(M.matrixWorld),y.position.copy(h),e.setRenderTarget(A),e.clear();for(var _=0;_<p;_++){if(m){c.copy(y.position),c.add(f[_]),y.up.copy(E[_]),y.lookAt(c);var C=g[_];a.viewport(C)}else c.setFromMatrixPosition(M.target.matrixWorld),y.lookAt(c);y.updateMatrixWorld(),y.matrixWorldInverse.getInverse(y.matrixWorld),w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(y.projectionMatrix),w.multiply(y.matrixWorldInverse),o.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),n.setFromMatrix(o),u.length=0,L(t,d,y);for(var I=0,P=u.length;I<P;I++){var F=u[I],N=i.update(F),D=F.material;if(D instanceof THREE.MultiMaterial)for(var G=N.groups,k=D.materials,U=0,O=G.length;U<O;U++){var V=G[U],z=k[V.materialIndex];if(!0===z.visible){var W=B(F,z,m,h);e.renderBufferDirect(y,null,N,W,F,V)}}else W=B(F,D,m,h),e.renderBufferDirect(y,null,N,W,F,null)}}}}var j=e.getClearColor(),X=e.getClearAlpha();e.setClearColor(j,X),H.needsUpdate=!1}}},THREE.WebGLState=function(e,t,i){var r=this;this.buffers={color:new THREE.WebGLColorBuffer(e,this),depth:new THREE.WebGLDepthBuffer(e,this),stencil:new THREE.WebGLStencilBuffer(e,this)};var a=e.getParameter(e.MAX_VERTEX_ATTRIBS),n=new Uint8Array(a),o=new Uint8Array(a),s=new Uint8Array(a),l={},c=null,h=null,u=null,d=null,p=null,m=null,f=null,E=null,g=!1,T=null,v=null,M=null,S=null,y=null,R=null,x=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),b=null,H={},B=new THREE.Vector4,L=new THREE.Vector4;function A(t,i,r){var a=new Uint8Array(4),n=e.createTexture();e.bindTexture(t,n),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<r;o++)e.texImage2D(i+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return n}var w={};w[e.TEXTURE_2D]=A(e.TEXTURE_2D,e.TEXTURE_2D,1),w[e.TEXTURE_CUBE_MAP]=A(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(e.DEPTH_TEST),this.setDepthFunc(THREE.LessEqualDepth),this.setFlipSided(!1),this.setCullFace(THREE.CullFaceBack),this.enable(e.CULL_FACE),this.enable(e.BLEND),this.setBlending(THREE.NormalBlending)},this.initAttributes=function(){for(var e=0,t=n.length;e<t;e++)n[e]=0},this.enableAttribute=function(i){n[i]=1,0===o[i]&&(e.enableVertexAttribArray(i),o[i]=1),0!==s[i]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i,0),s[i]=0)},this.enableAttributeAndDivisor=function(t,i,r){n[t]=1,0===o[t]&&(e.enableVertexAttribArray(t),o[t]=1),s[t]!==i&&(r.vertexAttribDivisorANGLE(t,i),s[t]=i)},this.disableUnusedAttributes=function(){for(var t=0,i=o.length;t!==i;++t)o[t]!==n[t]&&(e.disableVertexAttribArray(t),o[t]=0)},this.enable=function(t){!0!==l[t]&&(e.enable(t),l[t]=!0)},this.disable=function(t){!1!==l[t]&&(e.disable(t),l[t]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var i=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<i.length;r++)c.push(i[r]);return c},this.setBlending=function(t,r,a,n,o,s,l,c){if(t===THREE.NoBlending)return this.disable(e.BLEND),void(h=t);this.enable(e.BLEND),t===h&&c===g||(t===THREE.AdditiveBlending?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===THREE.SubtractiveBlending?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===THREE.MultiplyBlending?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),h=t,g=c),t===THREE.CustomBlending?(o=o||r,s=s||a,l=l||n,r===u&&o===m||(e.blendEquationSeparate(i(r),i(o)),u=r,m=o),a===d&&n===p&&s===f&&l===E||(e.blendFuncSeparate(i(a),i(n),i(s),i(l)),d=a,p=n,f=s,E=l)):(u=null,d=null,p=null,m=null,f=null,E=null)},this.setColorWrite=function(e){this.buffers.color.setMask(e)},this.setDepthTest=function(e){this.buffers.depth.setTest(e)},this.setDepthWrite=function(e){this.buffers.depth.setMask(e)},this.setDepthFunc=function(e){this.buffers.depth.setFunc(e)},this.setStencilTest=function(e){this.buffers.stencil.setTest(e)},this.setStencilWrite=function(e){this.buffers.stencil.setMask(e)},this.setStencilFunc=function(e,t,i){this.buffers.stencil.setFunc(e,t,i)},this.setStencilOp=function(e,t,i){this.buffers.stencil.setOp(e,t,i)},this.setFlipSided=function(t){T!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),T=t)},this.setCullFace=function(t){t!==THREE.CullFaceNone?(this.enable(e.CULL_FACE),t!==v&&(t===THREE.CullFaceBack?e.cullFace(e.BACK):t===THREE.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):this.disable(e.CULL_FACE),v=t},this.setLineWidth=function(t){t!==M&&(e.lineWidth(t),M=t)},this.setPolygonOffset=function(t,i,r){t?(this.enable(e.POLYGON_OFFSET_FILL),S===i&&y===r||(e.polygonOffset(i,r),S=i,y=r)):this.disable(e.POLYGON_OFFSET_FILL)},this.getScissorTest=function(){return R},this.setScissorTest=function(t){R=t,t?this.enable(e.SCISSOR_TEST):this.disable(e.SCISSOR_TEST)},this.activeTexture=function(t){void 0===t&&(t=e.TEXTURE0+x-1),b!==t&&(e.activeTexture(t),b=t)},this.bindTexture=function(t,i){null===b&&r.activeTexture();var a=H[b];void 0===a&&(a={type:void 0,texture:void 0},H[b]=a),a.type===t&&a.texture===i||(e.bindTexture(t,i||w[t]),a.type=t,a.texture=i)},this.compressedTexImage2D=function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},this.texImage2D=function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},this.clearColor=function(e,t,i,r){this.buffers.color.setClear(e,t,i,r)},this.clearDepth=function(e){this.buffers.depth.setClear(e)},this.clearStencil=function(e){this.buffers.stencil.setClear(e)},this.scissor=function(t){!1===B.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),B.copy(t))},this.viewport=function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},this.reset=function(){for(var t=0;t<o.length;t++)1===o[t]&&(e.disableVertexAttribArray(t),o[t]=0);l={},c=null,b=null,H={},h=null,T=null,v=null,this.buffers.color.reset(),this.buffers.depth.reset(),this.buffers.stencil.reset()}},THREE.WebGLColorBuffer=function(e,t){var i=!1,r=new THREE.Vector4,a=null,n=new THREE.Vector4;this.setMask=function(t){a===t||i||(e.colorMask(t,t,t,t),a=t)},this.setLocked=function(e){i=e},this.setClear=function(t,i,a,o){r.set(t,i,a,o),!1===n.equals(r)&&(e.clearColor(t,i,a,o),n.copy(r))},this.reset=function(){i=!1,a=null,n=new THREE.Vector4}},THREE.WebGLDepthBuffer=function(e,t){var i=!1,r=null,a=null,n=null;this.setTest=function(i){i?t.enable(e.DEPTH_TEST):t.disable(e.DEPTH_TEST)},this.setMask=function(t){r===t||i||(e.depthMask(t),r=t)},this.setFunc=function(t){if(a!==t){if(t)switch(t){case THREE.NeverDepth:e.depthFunc(e.NEVER);break;case THREE.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case THREE.LessDepth:e.depthFunc(e.LESS);break;case THREE.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case THREE.EqualDepth:e.depthFunc(e.EQUAL);break;case THREE.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case THREE.GreaterDepth:e.depthFunc(e.GREATER);break;case THREE.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);a=t}},this.setLocked=function(e){i=e},this.setClear=function(t){n!==t&&(e.clearDepth(t),n=t)},this.reset=function(){i=!1,r=null,a=null,n=null}},THREE.WebGLStencilBuffer=function(e,t){var i=!1,r=null,a=null,n=null,o=null,s=null,l=null,c=null,h=null;this.setTest=function(i){i?t.enable(e.STENCIL_TEST):t.disable(e.STENCIL_TEST)},this.setMask=function(t){r===t||i||(e.stencilMask(t),r=t)},this.setFunc=function(t,i,r){a===t&&n===i&&o===r||(e.stencilFunc(t,i,r),a=t,n=i,o=r)},this.setOp=function(t,i,r){s===t&&l===i&&c===r||(e.stencilOp(t,i,r),s=t,l=i,c=r)},this.setLocked=function(e){i=e},this.setClear=function(t){h!==t&&(e.clearStencil(t),h=t)},this.reset=function(){i=!1,r=null,a=null,n=null,o=null,s=null,l=null,c=null,h=null}},THREE.WebGLTextures=function(e,t,i,r,a,n,o){var s=o.memory,l="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;function c(e,t){if(e.width>t||e.height>t){var i=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*i),r.height=Math.floor(e.height*i),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),r}return e}function h(e){return THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height)}function u(t){return t===THREE.NearestFilter||t===THREE.NearestMipMapNearestFilter||t===THREE.NearestMipMapLinearFilter?e.NEAREST:e.LINEAR}function d(t){var i=t.target;i.removeEventListener("dispose",d),function(t){var i=r.get(t);if(t.image&&i.__image__webglTextureCube)e.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;e.deleteTexture(i.__webglTexture)}r.delete(t)}(i),s.textures--}function p(t){var i=t.target;i.removeEventListener("dispose",p),function(t){var i=r.get(t),a=r.get(t.texture);if(t){if(void 0!==a.__webglTexture&&e.deleteTexture(a.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t instanceof THREE.WebGLRenderTargetCube)for(var n=0;n<6;n++)e.deleteFramebuffer(i.__webglFramebuffer[n]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[n]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer);r.delete(t.texture),r.delete(t)}}(i),s.textures--}function m(t,o){var u=r.get(t);if(t.version>0&&u.__version!==t.version){var p=t.image;if(void 0===p);else if(!1!==p.complete)return void function(t,r,o){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",d),t.__webglTexture=e.createTexture(),s.textures++),i.activeTexture(e.TEXTURE0+o),i.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var u=c(r.image,a.maxTextureSize);(function(e){return e.wrapS!==THREE.ClampToEdgeWrapping||e.wrapT!==THREE.ClampToEdgeWrapping||e.minFilter!==THREE.NearestFilter&&e.minFilter!==THREE.LinearFilter})(r)&&!1===h(u)&&(u=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=THREE.Math.nearestPowerOfTwo(e.width),t.height=THREE.Math.nearestPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}return e}(u));var p=h(u),m=n(r.format),E=n(r.type);f(e.TEXTURE_2D,r,p);var g,T=r.mipmaps;if(r instanceof THREE.DepthTexture){var v=e.DEPTH_COMPONENT;if(r.type===THREE.FloatType){if(!l)throw new Error("Float Depth Texture only supported in WebGL2.0");v=e.DEPTH_COMPONENT32F}else l&&(v=e.DEPTH_COMPONENT16);i.texImage2D(e.TEXTURE_2D,0,v,u.width,u.height,0,m,E,null)}else if(r instanceof THREE.DataTexture)if(T.length>0&&p){for(var M=0,S=T.length;M<S;M++)g=T[M],i.texImage2D(e.TEXTURE_2D,M,m,g.width,g.height,0,m,E,g.data);r.generateMipmaps=!1}else i.texImage2D(e.TEXTURE_2D,0,m,u.width,u.height,0,m,E,u.data);else if(r instanceof THREE.CompressedTexture)for(M=0,S=T.length;M<S;M++)g=T[M],r.format!==THREE.RGBAFormat&&r.format!==THREE.RGBFormat?i.getCompressedTextureFormats().indexOf(m)>-1&&i.compressedTexImage2D(e.TEXTURE_2D,M,m,g.width,g.height,0,g.data):i.texImage2D(e.TEXTURE_2D,M,m,g.width,g.height,0,m,E,g.data);else if(T.length>0&&p){for(M=0,S=T.length;M<S;M++)g=T[M],i.texImage2D(e.TEXTURE_2D,M,m,m,E,g);r.generateMipmaps=!1}else i.texImage2D(e.TEXTURE_2D,0,m,m,E,u);r.generateMipmaps&&p&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(u,t,o)}i.activeTexture(e.TEXTURE0+o),i.bindTexture(e.TEXTURE_2D,u.__webglTexture)}function f(i,o,s){var l;if(s?(e.texParameteri(i,e.TEXTURE_WRAP_S,n(o.wrapS)),e.texParameteri(i,e.TEXTURE_WRAP_T,n(o.wrapT)),e.texParameteri(i,e.TEXTURE_MAG_FILTER,n(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,n(o.minFilter))):(e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS!==THREE.ClampToEdgeWrapping||(o.wrapT,THREE.ClampToEdgeWrapping),e.texParameteri(i,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==THREE.NearestFilter&&(o.minFilter,THREE.LinearFilter)),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===THREE.FloatType&&null===t.get("OES_texture_float_linear"))return;if(o.type===THREE.HalfFloatType&&null===t.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,a.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function E(t,a,o,s){var l=n(a.texture.format),c=n(a.texture.type);i.texImage2D(s,0,l,a.width,a.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,r.get(a.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,i){e.bindRenderbuffer(e.RENDERBUFFER,t),i.depthBuffer&&!i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):i.depthBuffer&&i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,i.width,i.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}this.setTexture2D=m,this.setTextureCube=function(t,o){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",d),l.__image__webglTextureCube=e.createTexture(),s.textures++),i.activeTexture(e.TEXTURE0+o),i.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var u=t instanceof THREE.CompressedTexture,p=t.image[0]instanceof THREE.DataTexture,m=[],E=0;E<6;E++)m[E]=u||p?p?t.image[E].image:t.image[E]:c(t.image[E],a.maxCubemapSize);var g=h(m[0]),T=n(t.format),v=n(t.type);for(f(e.TEXTURE_CUBE_MAP,t,g),E=0;E<6;E++)if(u)for(var M,S=m[E].mipmaps,y=0,R=S.length;y<R;y++)M=S[y],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?i.getCompressedTextureFormats().indexOf(T)>-1&&i.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+E,y,T,M.width,M.height,0,M.data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+E,y,T,M.width,M.height,0,T,v,M.data);else p?i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+E,0,T,m[E].width,m[E].height,0,T,v,m[E].data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+E,0,T,T,v,m[E]);t.generateMipmaps&&g&&e.generateMipmap(e.TEXTURE_CUBE_MAP),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else i.activeTexture(e.TEXTURE0+o),i.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,a){i.activeTexture(e.TEXTURE0+a),i.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var a=r.get(t),n=r.get(t.texture);t.addEventListener("dispose",p),n.__webglTexture=e.createTexture(),s.textures++;var o=t instanceof THREE.WebGLRenderTargetCube,l=h(t);if(o){a.__webglFramebuffer=[];for(var c=0;c<6;c++)a.__webglFramebuffer[c]=e.createFramebuffer()}else a.__webglFramebuffer=e.createFramebuffer();if(o){for(i.bindTexture(e.TEXTURE_CUBE_MAP,n.__webglTexture),f(e.TEXTURE_CUBE_MAP,t.texture,l),c=0;c<6;c++)E(a.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);t.texture.generateMipmaps&&l&&e.generateMipmap(e.TEXTURE_CUBE_MAP),i.bindTexture(e.TEXTURE_CUBE_MAP,null)}else i.bindTexture(e.TEXTURE_2D,n.__webglTexture),f(e.TEXTURE_2D,t.texture,l),E(a.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),t.texture.generateMipmaps&&l&&e.generateMipmap(e.TEXTURE_2D),i.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&function(t){var i=r.get(t),a=t instanceof THREE.WebGLRenderTargetCube;if(t.depthTexture){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i instanceof THREE.WebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!(i.depthTexture instanceof THREE.DepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),m(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0)}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var n=0;n<6;n++)e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[n]),i.__webglDepthbuffer[n]=e.createRenderbuffer(),g(i.__webglDepthbuffer[n],t)}else e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),g(i.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}(t)},this.updateRenderTargetMipmap=function(t){var a=t.texture;if(a.generateMipmaps&&h(t)&&a.minFilter!==THREE.NearestFilter&&a.minFilter!==THREE.LinearFilter){var n=t instanceof THREE.WebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(a).__webglTexture;i.bindTexture(n,o),e.generateMipmap(n),i.bindTexture(n,null)}}},THREE.WebGLUniforms=function(){var e=new THREE.Texture,t=new THREE.CubeTexture,i=function(){this.seq=[],this.map={}},r=[],a=[],n=function(e,t,i){var a=e[0];if(a<=0||a>0)return e;var n=t*i,o=r[n];if(void 0===o&&(o=new Float32Array(n),r[n]=o),0!==t){a.toArray(o,0);for(var s=1,l=0;s!==t;++s)l+=i,e[s].toArray(o,l)}return o},o=function(e,t){var i=a[t];void 0===i&&(i=new Int32Array(t),a[t]=i);for(var r=0;r!==t;++r)i[r]=e.allocTextureUnit();return i},s=function(e,t){e.uniform1f(this.addr,t)},l=function(e,t){e.uniform1i(this.addr,t)},c=function(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)},h=function(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)},u=function(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)},d=function(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)},p=function(e,t){e.uniformMatrix3fv(this.addr,!1,t.elements||t)},m=function(e,t){e.uniformMatrix4fv(this.addr,!1,t.elements||t)},f=function(t,i,r){var a=r.allocTextureUnit();t.uniform1i(this.addr,a),r.setTexture2D(i||e,a)},E=function(e,i,r){var a=r.allocTextureUnit();e.uniform1i(this.addr,a),r.setTextureCube(i||t,a)},g=function(e,t){e.uniform2iv(this.addr,t)},T=function(e,t){e.uniform3iv(this.addr,t)},v=function(e,t){e.uniform4iv(this.addr,t)},M=function(e,t){e.uniform1fv(this.addr,t)},S=function(e,t){e.uniform1iv(this.addr,t)},y=function(e,t){e.uniform2fv(this.addr,n(t,this.size,2))},R=function(e,t){e.uniform3fv(this.addr,n(t,this.size,3))},x=function(e,t){e.uniform4fv(this.addr,n(t,this.size,4))},b=function(e,t){e.uniformMatrix2fv(this.addr,!1,n(t,this.size,4))},H=function(e,t){e.uniformMatrix3fv(this.addr,!1,n(t,this.size,9))},B=function(e,t){e.uniformMatrix4fv(this.addr,!1,n(t,this.size,16))},L=function(t,i,r){var a=i.length,n=o(r,a);t.uniform1iv(this.addr,n);for(var s=0;s!==a;++s)r.setTexture2D(i[s]||e,n[s])},A=function(e,i,r){var a=i.length,n=o(r,a);e.uniform1iv(this.addr,n);for(var s=0;s!==a;++s)r.setTextureCube(i[s]||t,n[s])},w=function(e,t,i){this.id=e,this.addr=i,this.setValue=function(e){switch(e){case 5126:return s;case 35664:return c;case 35665:return h;case 35666:return u;case 35674:return d;case 35675:return p;case 35676:return m;case 35678:return f;case 35680:return E;case 5124:case 35670:return l;case 35667:case 35671:return g;case 35668:case 35672:return T;case 35669:case 35673:return v}}(t.type)},_=function(e,t,i){this.id=e,this.addr=i,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return M;case 35664:return y;case 35665:return R;case 35666:return x;case 35674:return b;case 35675:return H;case 35676:return B;case 35678:return L;case 35680:return A;case 5124:case 35670:return S;case 35667:case 35671:return g;case 35668:case 35672:return T;case 35669:case 35673:return v}}(t.type)},C=function(e){this.id=e,i.call(this)};C.prototype.setValue=function(e,t){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var n=i[r];n.setValue(e,t[n.id])}};var I=/([\w\d_]+)(\])?(\[|\.)?/g,P=function(e,t){e.seq.push(t),e.map[t.id]=t},F=function(e,t,i){var r=e.name,a=r.length;for(I.lastIndex=0;;){var n=I.exec(r),o=I.lastIndex,s=n[1],l="]"===n[2],c=n[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===a){P(i,void 0===c?new w(s,e,t):new _(s,e,t));break}var h=i.map[s];void 0===h&&(h=new C(s),P(i,h)),i=h}},N=function(e,t,r){i.call(this),this.renderer=r;for(var a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n!==a;++n){var o=e.getActiveUniform(t,n),s=o.name,l=e.getUniformLocation(t,s);F(o,l,this)}};return N.prototype.setValue=function(e,t,i){var r=this.map[t];void 0!==r&&r.setValue(e,i,this.renderer)},N.prototype.set=function(e,t,i){var r=this.map[i];void 0!==r&&r.setValue(e,t[i],this.renderer)},N.prototype.setOptional=function(e,t,i){var r=t[i];void 0!==r&&this.setValue(e,i,r)},N.upload=function(e,t,i,r){for(var a=0,n=t.length;a!==n;++a){var o=t[a],s=i[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},N.seqWithValue=function(e,t){for(var i=[],r=0,a=e.length;r!==a;++r){var n=e[r];n.id in t&&i.push(n)}return i},N.splitDynamic=function(e,t){for(var i=null,r=e.length,a=0,n=0;n!==r;++n){var o=e[n],s=t[o.id];s&&!0===s.dynamic?(null===i&&(i=[]),i.push(o)):(a<n&&(e[a]=o),++a)}return a<r&&(e.length=a),i},N.evalDynamic=function(e,t,i,r){for(var a=0,n=e.length;a!==n;++a){var o=t[e[a].id],s=o.onUpdateCallback;void 0!==s&&s.call(o,i,r)}},N}(),THREE.LensFlarePlugin=function(e,t){var i,r,a,n,o,s,l,c,h=e.context,u=e.state;function d(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),d=new Uint16Array([0,1,2,0,2,3]);i=h.createBuffer(),r=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,i),h.bufferData(h.ARRAY_BUFFER,t,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,r),h.bufferData(h.ELEMENT_ARRAY_BUFFER,d,h.STATIC_DRAW),l=h.createTexture(),c=h.createTexture(),u.bindTexture(h.TEXTURE_2D,l),h.texImage2D(h.TEXTURE_2D,0,h.RGB,16,16,0,h.RGB,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),u.bindTexture(h.TEXTURE_2D,c),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,16,16,0,h.RGBA,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),a={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},n=function(t){var i=h.createProgram(),r=h.createShader(h.FRAGMENT_SHADER),a=h.createShader(h.VERTEX_SHADER),n="precision "+e.getPrecision()+" float;\n";return h.shaderSource(r,n+t.fragmentShader),h.shaderSource(a,n+t.vertexShader),h.compileShader(r),h.compileShader(a),h.attachShader(i,r),h.attachShader(i,a),h.linkProgram(i),i}(a),o={vertex:h.getAttribLocation(n,"position"),uv:h.getAttribLocation(n,"uv")},s={renderType:h.getUniformLocation(n,"renderType"),map:h.getUniformLocation(n,"map"),occlusionMap:h.getUniformLocation(n,"occlusionMap"),opacity:h.getUniformLocation(n,"opacity"),color:h.getUniformLocation(n,"color"),scale:h.getUniformLocation(n,"scale"),rotation:h.getUniformLocation(n,"rotation"),screenPosition:h.getUniformLocation(n,"screenPosition")}}this.render=function(a,p,m){if(0!==t.length){var f=new THREE.Vector3,E=m.w/m.z,g=.5*m.z,T=.5*m.w,v=16/m.w,M=new THREE.Vector2(v*E,v),S=new THREE.Vector3(1,1,0),y=new THREE.Vector2(1,1),R=new THREE.Box2;R.min.set(0,0),R.max.set(m.z-16,m.w-16),void 0===n&&d(),h.useProgram(n),u.initAttributes(),u.enableAttribute(o.vertex),u.enableAttribute(o.uv),u.disableUnusedAttributes(),h.uniform1i(s.occlusionMap,0),h.uniform1i(s.map,1),h.bindBuffer(h.ARRAY_BUFFER,i),h.vertexAttribPointer(o.vertex,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(o.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,r),u.disable(h.CULL_FACE),u.setDepthWrite(!1);for(var x=0,b=t.length;x<b;x++){v=16/m.w,M.set(v*E,v);var H=t[x];if(f.set(H.matrixWorld.elements[12],H.matrixWorld.elements[13],H.matrixWorld.elements[14]),f.applyMatrix4(p.matrixWorldInverse),f.applyProjection(p.projectionMatrix),S.copy(f),y.x=m.x+S.x*g+g-8,y.y=m.y+S.y*T+T-8,!0===R.containsPoint(y)){u.activeTexture(h.TEXTURE0),u.bindTexture(h.TEXTURE_2D,null),u.activeTexture(h.TEXTURE1),u.bindTexture(h.TEXTURE_2D,l),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGB,y.x,y.y,16,16,0),h.uniform1i(s.renderType,0),h.uniform2f(s.scale,M.x,M.y),h.uniform3f(s.screenPosition,S.x,S.y,S.z),u.disable(h.BLEND),u.enable(h.DEPTH_TEST),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),u.activeTexture(h.TEXTURE0),u.bindTexture(h.TEXTURE_2D,c),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,y.x,y.y,16,16,0),h.uniform1i(s.renderType,1),u.disable(h.DEPTH_TEST),u.activeTexture(h.TEXTURE1),u.bindTexture(h.TEXTURE_2D,l),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),H.positionScreen.copy(S),H.customUpdateCallback?H.customUpdateCallback(H):H.updateLensFlares(),h.uniform1i(s.renderType,2),u.enable(h.BLEND);for(var B=0,L=H.lensFlares.length;B<L;B++){var A=H.lensFlares[B];A.opacity>.001&&A.scale>.001&&(S.x=A.x,S.y=A.y,S.z=A.z,v=A.size*A.scale/m.w,M.x=v*E,M.y=v,h.uniform3f(s.screenPosition,S.x,S.y,S.z),h.uniform2f(s.scale,M.x,M.y),h.uniform1f(s.rotation,A.rotation),h.uniform1f(s.opacity,A.opacity),h.uniform3f(s.color,A.color.r,A.color.g,A.color.b),u.setBlending(A.blending,A.blendEquation,A.blendSrc,A.blendDst),e.setTexture2D(A.texture,1),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0))}}}u.enable(h.CULL_FACE),u.enable(h.DEPTH_TEST),u.setDepthWrite(!0),e.resetGLState()}}},THREE.SpritePlugin=function(e,t){var i,r,a,n,o,s,l=e.context,c=e.state,h=new THREE.Vector3,u=new THREE.Quaternion,d=new THREE.Vector3;function p(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}this.render=function(m,f){if(0!==t.length){void 0===a&&function(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),c=new Uint16Array([0,1,2,0,2,3]);i=l.createBuffer(),r=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,i),l.bufferData(l.ARRAY_BUFFER,t,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.bufferData(l.ELEMENT_ARRAY_BUFFER,c,l.STATIC_DRAW),a=function(){var t=l.createProgram(),i=l.createShader(l.VERTEX_SHADER),r=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(i,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),l.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),l.compileShader(i),l.compileShader(r),l.attachShader(t,i),l.attachShader(t,r),l.linkProgram(t),t}(),n={position:l.getAttribLocation(a,"position"),uv:l.getAttribLocation(a,"uv")},o={uvOffset:l.getUniformLocation(a,"uvOffset"),uvScale:l.getUniformLocation(a,"uvScale"),rotation:l.getUniformLocation(a,"rotation"),scale:l.getUniformLocation(a,"scale"),color:l.getUniformLocation(a,"color"),map:l.getUniformLocation(a,"map"),opacity:l.getUniformLocation(a,"opacity"),modelViewMatrix:l.getUniformLocation(a,"modelViewMatrix"),projectionMatrix:l.getUniformLocation(a,"projectionMatrix"),fogType:l.getUniformLocation(a,"fogType"),fogDensity:l.getUniformLocation(a,"fogDensity"),fogNear:l.getUniformLocation(a,"fogNear"),fogFar:l.getUniformLocation(a,"fogFar"),fogColor:l.getUniformLocation(a,"fogColor"),alphaTest:l.getUniformLocation(a,"alphaTest")};var h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");h.width=8,h.height=8;var u=h.getContext("2d");u.fillStyle="white",u.fillRect(0,0,8,8),(s=new THREE.Texture(h)).needsUpdate=!0}(),l.useProgram(a),c.initAttributes(),c.enableAttribute(n.position),c.enableAttribute(n.uv),c.disableUnusedAttributes(),c.disable(l.CULL_FACE),c.enable(l.BLEND),l.bindBuffer(l.ARRAY_BUFFER,i),l.vertexAttribPointer(n.position,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(n.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.uniformMatrix4fv(o.projectionMatrix,!1,f.projectionMatrix.elements),c.activeTexture(l.TEXTURE0),l.uniform1i(o.map,0);var E=0,g=0,T=m.fog;T?(l.uniform3f(o.fogColor,T.color.r,T.color.g,T.color.b),T instanceof THREE.Fog?(l.uniform1f(o.fogNear,T.near),l.uniform1f(o.fogFar,T.far),l.uniform1i(o.fogType,1),E=1,g=1):T instanceof THREE.FogExp2&&(l.uniform1f(o.fogDensity,T.density),l.uniform1i(o.fogType,2),E=2,g=2)):(l.uniform1i(o.fogType,0),E=0,g=0);for(var v=0,M=t.length;v<M;v++)(y=t[v]).modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,y.matrixWorld),y.z=-y.modelViewMatrix.elements[14];t.sort(p);var S=[];for(v=0,M=t.length;v<M;v++){var y,R=(y=t[v]).material;l.uniform1f(o.alphaTest,R.alphaTest),l.uniformMatrix4fv(o.modelViewMatrix,!1,y.modelViewMatrix.elements),y.matrixWorld.decompose(h,u,d),S[0]=d.x,S[1]=d.y;var x=0;m.fog&&R.fog&&(x=g),E!==x&&(l.uniform1i(o.fogType,x),E=x),null!==R.map?(l.uniform2f(o.uvOffset,R.map.offset.x,R.map.offset.y),l.uniform2f(o.uvScale,R.map.repeat.x,R.map.repeat.y)):(l.uniform2f(o.uvOffset,0,0),l.uniform2f(o.uvScale,1,1)),l.uniform1f(o.opacity,R.opacity),l.uniform3f(o.color,R.color.r,R.color.g,R.color.b),l.uniform1f(o.rotation,R.rotation),l.uniform2fv(o.scale,S),c.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),c.setDepthTest(R.depthTest),c.setDepthWrite(R.depthWrite),R.map?e.setTexture2D(R.map,0):e.setTexture2D(s,0),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)}c.enable(l.CULL_FACE),e.resetGLState()}}},Object.assign(THREE,{Face4:function(e,t,i,r,a,n,o){return new THREE.Face3(e,t,i,a,n,o)},LineStrip:0,LinePieces:1,MeshFaceMaterial:THREE.MultiMaterial,PointCloud:function(e,t){return new THREE.Points(e,t)},Particle:THREE.Sprite,ParticleSystem:function(e,t){return new THREE.Points(e,t)},PointCloudMaterial:function(e){return new THREE.PointsMaterial(e)},ParticleBasicMaterial:function(e){return new THREE.PointsMaterial(e)},ParticleSystemMaterial:function(e){return new THREE.PointsMaterial(e)},Vertex:function(e,t,i){return new THREE.Vector3(e,t,i)}}),Object.assign(THREE.Box2.prototype,{empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)}}),Object.assign(THREE.Box3.prototype,{empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)}}),Object.assign(THREE.Matrix3.prototype,{multiplyVector3:function(e){return e.applyMatrix3(this)},multiplyVector3Array:function(e){return this.applyToVector3Array(e)}}),Object.assign(THREE.Matrix4.prototype,{extractPosition:function(e){return this.copyPosition(e)},setRotationFromQuaternion:function(e){return this.makeRotationFromQuaternion(e)},multiplyVector3:function(e){return e.applyProjection(this)},multiplyVector4:function(e){return e.applyMatrix4(this)},multiplyVector3Array:function(e){return this.applyToVector3Array(e)},rotateAxis:function(e){e.transformDirection(this)},crossVector:function(e){return e.applyMatrix4(this)},translate:function(e){},rotateX:function(e){},rotateY:function(e){},rotateZ:function(e){},rotateByAxis:function(e,t){}}),Object.assign(THREE.Plane.prototype,{isIntersectionLine:function(e){return this.intersectsLine(e)}}),Object.assign(THREE.Quaternion.prototype,{multiplyVector3:function(e){return e.applyQuaternion(this)}}),Object.assign(THREE.Ray.prototype,{isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionPlane:function(e){return this.intersectsPlane(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)}}),Object.assign(THREE.Vector3.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(e){return this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return this.setFromMatrixColumn(t,e)}}),Object.assign(THREE.Object3D.prototype,{getChildByName:function(e){return this.getObjectByName(e)},renderDepth:function(e){},translate:function(e,t){return this.translateOnAxis(t,e)}}),Object.defineProperties(THREE.Object3D.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(e){this.rotation.order=e}},useQuaternion:{get:function(){},set:function(e){}}}),Object.defineProperties(THREE.LOD.prototype,{objects:{get:function(){return this.levels}}}),THREE.PerspectiveCamera.prototype.setLens=function(e,t){void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(e){}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(e){}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(e){}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),Object.defineProperties(THREE.BufferAttribute.prototype,{length:{get:function(){return this.array.length}}}),Object.assign(THREE.BufferGeometry.prototype,{addIndex:function(e){this.setIndex(e)},addDrawCall:function(e,t,i){this.addGroup(e,t)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),Object.defineProperties(THREE.BufferGeometry.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.defineProperties(THREE.Material.prototype,{wrapAround:{get:function(){},set:function(e){}},wrapRGB:{get:function(){return new THREE.Color}}}),Object.defineProperties(THREE.MeshPhongMaterial.prototype,{metal:{get:function(){return!1},set:function(e){}}}),Object.defineProperties(THREE.ShaderMaterial.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(e){this.extensions.derivatives=e}}}),THREE.EventDispatcher.prototype=Object.assign(Object.create({constructor:THREE.EventDispatcher,apply:function(e){Object.assign(e,this)}}),THREE.EventDispatcher.prototype),Object.assign(THREE.WebGLRenderer.prototype,{supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){this.setScissorTest(e)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){}}),Object.defineProperties(THREE.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){this.shadowMap.cullFace=e}}}),Object.defineProperties(THREE.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?THREE.CullFaceFront:THREE.CullFaceBack},set:function(e){var t=e!==THREE.CullFaceBack;this.renderReverseSided=t}}}),Object.defineProperties(THREE.WebGLRenderTarget.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(e){this.texture.wrapS=e}},wrapT:{get:function(){return this.texture.wrapT},set:function(e){this.texture.wrapT=e}},magFilter:{get:function(){return this.texture.magFilter},set:function(e){this.texture.magFilter=e}},minFilter:{get:function(){return this.texture.minFilter},set:function(e){this.texture.minFilter=e}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(e){this.texture.anisotropy=e}},offset:{get:function(){return this.texture.offset},set:function(e){this.texture.offset=e}},repeat:{get:function(){return this.texture.repeat},set:function(e){this.texture.repeat=e}},format:{get:function(){return this.texture.format},set:function(e){this.texture.format=e}},type:{get:function(){return this.texture.type},set:function(e){this.texture.type=e}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(e){this.texture.generateMipmaps=e}}}),Object.assign(THREE.Audio.prototype,{load:function(e){var t=this;return(new THREE.AudioLoader).load(e,(function(e){t.setBuffer(e)})),this}}),Object.assign(THREE.AudioAnalyser.prototype,{getData:function(e){return this.getFrequencyData()}}),THREE.GeometryUtils={merge:function(e,t,i){var r;t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,i)},center:function(e){return e.center()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,i,r){var a=new THREE.TextureLoader;a.setCrossOrigin(this.crossOrigin);var n=a.load(e,i,void 0,r);return t&&(n.mapping=t),n},loadTextureCube:function(e,t,i,r){var a=new THREE.CubeTextureLoader;a.setCrossOrigin(this.crossOrigin);var n=a.load(e,i,void 0,r);return t&&(n.mapping=t),n},loadCompressedTexture:function(){},loadCompressedTextureCube:function(){}},THREE.Projector=function(){this.projectVector=function(e,t){e.project(t)},this.unprojectVector=function(e,t){e.unproject(t)},this.pickingRay=function(e,t){}},THREE.CanvasRenderer=function(){this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},THREE.CurveUtils={tangentQuadraticBezier:function(e,t,i,r){return 2*(1-e)*(i-t)+2*e*(r-i)},tangentCubicBezier:function(e,t,i,r,a){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*a},tangentSpline:function(e,t,i,r,a){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,i,r,a){var n=.5*(i-e),o=.5*(r-t),s=a*a;return(2*t-2*i+n+o)*(a*s)+(-3*t+3*i-2*n-o)*s+n*a+t}},THREE.SceneUtils={createMultiMaterialObject:function(e,t){for(var i=new THREE.Group,r=0,a=t.length;r<a;r++)i.add(new THREE.Mesh(e,t[r]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){var r=new THREE.Matrix4;r.getInverse(i.matrixWorld),e.applyMatrix(r),t.remove(e),i.add(e)}},THREE.ShapeUtils={area:function(e){for(var t=e.length,i=0,r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*i},triangulate:function(){function e(e,t,i,r,a,n){var o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y;if(s=e[n[t]].x,l=e[n[t]].y,c=e[n[i]].x,h=e[n[i]].y,u=e[n[r]].x,d=e[n[r]].y,Number.EPSILON>(c-s)*(d-l)-(h-l)*(u-s))return!1;for(f=u-c,E=d-h,g=s-u,T=l-d,v=c-s,M=h-l,o=0;o<a;o++)if(p=e[n[o]].x,m=e[n[o]].y,!(p===s&&m===l||p===c&&m===h||p===u&&m===d)&&(S=v*(m-l)-M*(p-s),y=g*(m-d)-T*(p-u),f*(m-h)-E*(p-c)>=-Number.EPSILON&&y>=-Number.EPSILON&&S>=-Number.EPSILON))return!1;return!0}return function(t,i){var r=t.length;if(r<3)return null;var a,n,o,s=[],l=[],c=[];if(THREE.ShapeUtils.area(t)>0)for(n=0;n<r;n++)l[n]=n;else for(n=0;n<r;n++)l[n]=r-1-n;var h=r,u=2*h;for(n=h-1;h>2;){if(u--<=0)return i?c:s;if(h<=(a=n)&&(a=0),h<=(n=a+1)&&(n=0),h<=(o=n+1)&&(o=0),e(t,a,n,o,h,l)){var d,p,m,f,E;for(d=l[a],p=l[n],m=l[o],s.push([t[d],t[p],t[m]]),c.push([l[a],l[n],l[o]]),f=n,E=n+1;E<h;f++,E++)l[f]=l[E];u=2*--h}}return i?c:s}}(),triangulateShape:function(e,t){function i(e,t,i){return e.x!==t.x?e.x<t.x?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:e.y<t.y?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}function r(e,t,r,a,n){var o=t.x-e.x,s=t.y-e.y,l=a.x-r.x,c=a.y-r.y,h=e.x-r.x,u=e.y-r.y,d=s*l-o*c,p=s*h-o*u;if(Math.abs(d)>Number.EPSILON){var m;if(d>0){if(p<0||p>d)return[];if((m=c*h-l*u)<0||m>d)return[]}else{if(p>0||p<d)return[];if((m=c*h-l*u)>0||m<d)return[]}if(0===m)return!n||0!==p&&p!==d?[e]:[];if(m===d)return!n||0!==p&&p!==d?[t]:[];if(0===p)return[r];if(p===d)return[a];var f=m/d;return[{x:e.x+f*o,y:e.y+f*s}]}if(0!==p||c*h!=l*u)return[];var E,g,T,v,M,S,y,R,x=0===o&&0===s,b=0===l&&0===c;return x&&b?e.x!==r.x||e.y!==r.y?[]:[e]:x?i(r,a,e)?[e]:[]:b?i(e,t,r)?[r]:[]:(0!==o?(e.x<t.x?(E=e,T=e.x,g=t,v=t.x):(E=t,T=t.x,g=e,v=e.x),r.x<a.x?(M=r,y=r.x,S=a,R=a.x):(M=a,y=a.x,S=r,R=r.x)):(e.y<t.y?(E=e,T=e.y,g=t,v=t.y):(E=t,T=t.y,g=e,v=e.y),r.y<a.y?(M=r,y=r.y,S=a,R=a.y):(M=a,y=a.y,S=r,R=r.y)),T<=y?v<y?[]:v===y?n?[]:[M]:v<=R?[M,g]:[M,S]:T>R?[]:T===R?n?[]:[E]:v<=R?[E,g]:[E,S])}function a(e,t,i,r){var a=t.x-e.x,n=t.y-e.y,o=i.x-e.x,s=i.y-e.y,l=r.x-e.x,c=r.y-e.y,h=a*s-n*o,u=a*c-n*l;if(Math.abs(h)>Number.EPSILON){var d=l*s-c*o;return h>0?u>=0&&d>=0:u>=0||d>=0}return u>0}for(var n,o,s,l,c,h,u={},d=e.concat(),p=0,m=t.length;p<m;p++)Array.prototype.push.apply(d,t[p]);for(n=0,o=d.length;n<o;n++)u[c=d[n].x+":"+d[n].y],u[c]=n;var f=function(e,t){var i,n=e.concat();function o(e,t){var r=n.length-1,o=e-1;o<0&&(o=r);var s=e+1;s>r&&(s=0);var l=a(n[e],n[o],n[s],i[t]);if(!l)return!1;var c=i.length-1,h=t-1;h<0&&(h=c);var u=t+1;return u>c&&(u=0),!!(l=a(i[t],i[h],i[u],n[e]))}function s(e,t){var i,a;for(i=0;i<n.length;i++)if(a=i+1,a%=n.length,r(e,t,n[i],n[a],!0).length>0)return!0;return!1}var l=[];function c(e,i){var a,n,o,s;for(a=0;a<l.length;a++)for(n=t[l[a]],o=0;o<n.length;o++)if(s=o+1,s%=n.length,r(e,i,n[o],n[s],!0).length>0)return!0;return!1}for(var h,u,d,p,m,f,E,g,T,v,M=[],S=0,y=t.length;S<y;S++)l.push(S);for(var R=0,x=2*l.length;l.length>0&&!(--x<0);)for(u=R;u<n.length;u++){for(d=n[u],h=-1,S=0;S<l.length;S++)if(m=l[S],void 0===M[f=d.x+":"+d.y+":"+m]){i=t[m];for(var b=0;b<i.length;b++)if(p=i[b],o(u,b)&&!s(d,p)&&!c(d,p)){h=b,l.splice(S,1),E=n.slice(0,u+1),g=n.slice(u),T=i.slice(h),v=i.slice(0,h+1),n=E.concat(T).concat(v).concat(g),R=u;break}if(h>=0)break;M[f]=!0}if(h>=0)break}return n}(e,t),E=THREE.ShapeUtils.triangulate(f,!1);for(n=0,o=E.length;n<o;n++)for(l=E[n],s=0;s<3;s++)void 0!==(h=u[c=l[s].x+":"+l[s].y])&&(l[s]=h);return E.concat()},isClockWise:function(e){return THREE.ShapeUtils.area(e)<0},b2:function(e,t,i,r){return function(e,t){var i=1-e;return i*i*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,i)+function(e,t){return e*e*t}(e,r)},b3:function(e,t,i,r,a){return function(e,t){var i=1-e;return i*i*i*t}(e,t)+function(e,t){var i=1-e;return 3*i*i*e*t}(e,i)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}},THREE.Curve=function(){},THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(e){return null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPoint(t/e));return i},getSpacedPoints:function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPointAt(t/e));return i},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,r=[],a=this.getPoint(0),n=0;for(r.push(0),i=1;i<=e;i++)n+=(t=this.getPoint(i/e)).distanceTo(a),r.push(n),a=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,r=this.getLengths(),a=0,n=r.length;i=t||e*r[n-1];for(var o,s=0,l=n-1;s<=l;)if((o=r[a=Math.floor(s+(l-s)/2)]-i)<0)s=a+1;else{if(!(o>0)){l=a;break}l=a-1}if(r[a=l]===i)return a/(n-1);var c=r[a];return(a+(i-c)/(r[a+1]-c))/(n-1)},getTangent:function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),i>1&&(i=1);var r=this.getPoint(t);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)}},THREE.Curve.create=function(e,t){return e.prototype=Object.create(THREE.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},THREE.CurvePath=function(){this.curves=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.assign(Object.create(THREE.Curve.prototype),{constructor:THREE.CurvePath,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new THREE.LineCurve(t,e))},getPoint:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=t){var a=i[r]-t,n=this.curves[r],o=1-a/n.getLength();return n.getPointAt(o)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new THREE.Geometry,i=0,r=e.length;i<r;i++){var a=e[i];t.vertices.push(new THREE.Vector3(a.x,a.y,a.z||0))}return t}}),THREE.Font=function(e){this.data=e},Object.assign(THREE.Font.prototype,{generateShapes:function(e,t,i){function r(e,t,r){var n=a.glyphs[e]||a.glyphs["?"];if(n){var o,s,l,c,h,u,d,p,m,f,E,g=new THREE.Path,T=[],v=THREE.ShapeUtils.b2,M=THREE.ShapeUtils.b3;if(n.o)for(var S=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),y=0,R=S.length;y<R;)switch(S[y++]){case"m":o=S[y++]*t+r,s=S[y++]*t,g.moveTo(o,s);break;case"l":o=S[y++]*t+r,s=S[y++]*t,g.lineTo(o,s);break;case"q":if(l=S[y++]*t+r,c=S[y++]*t,d=S[y++]*t+r,p=S[y++]*t,g.quadraticCurveTo(d,p,l,c),E=T[T.length-1]){h=E.x,u=E.y;for(var x=1;x<=i;x++)v(b=x/i,h,d,l),v(b,u,p,c)}break;case"b":if(l=S[y++]*t+r,c=S[y++]*t,d=S[y++]*t+r,p=S[y++]*t,m=S[y++]*t+r,f=S[y++]*t,g.bezierCurveTo(d,p,m,f,l,c),E=T[T.length-1])for(h=E.x,u=E.y,x=1;x<=i;x++){var b;M(b=x/i,h,d,m,l),M(b,u,p,f,c)}}return{offset:n.ha*t,path:g}}}void 0===t&&(t=100),void 0===i&&(i=4);for(var a=this.data,n=function(e){for(var i=String(e).split(""),n=t/a.resolution,o=0,s=[],l=0;l<i.length;l++){var c=r(i[l],n,o);o+=c.offset,s.push(c.path)}return s}(e),o=[],s=0,l=n.length;s<l;s++)Array.prototype.push.apply(o,n[s].toShapes());return o}}),THREE.Path=function(e){THREE.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},THREE.Path.prototype=Object.assign(Object.create(THREE.CurvePath.prototype),{constructor:THREE.Path,fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.actions.push({action:"moveTo",args:[e,t]})},lineTo:function(e,t){var i=this.actions[this.actions.length-1].args,r=i[i.length-2],a=i[i.length-1],n=new THREE.LineCurve(new THREE.Vector2(r,a),new THREE.Vector2(e,t));this.curves.push(n),this.actions.push({action:"lineTo",args:[e,t]})},quadraticCurveTo:function(e,t,i,r){var a=this.actions[this.actions.length-1].args,n=a[a.length-2],o=a[a.length-1],s=new THREE.QuadraticBezierCurve(new THREE.Vector2(n,o),new THREE.Vector2(e,t),new THREE.Vector2(i,r));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[e,t,i,r]})},bezierCurveTo:function(e,t,i,r,a,n){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],l=o[o.length-1],c=new THREE.CubicBezierCurve(new THREE.Vector2(s,l),new THREE.Vector2(e,t),new THREE.Vector2(i,r),new THREE.Vector2(a,n));this.curves.push(c),this.actions.push({action:"bezierCurveTo",args:[e,t,i,r,a,n]})},splineThru:function(e){var t=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,r=i[i.length-2],a=i[i.length-1],n=[new THREE.Vector2(r,a)];Array.prototype.push.apply(n,e);var o=new THREE.SplineCurve(n);this.curves.push(o);var s=e[e.length-1];t.push(s.x),t.push(s.y),this.actions.push({action:"splineThru",args:t})},arc:function(e,t,i,r,a,n){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],l=o[o.length-1];this.absarc(e+s,t+l,i,r,a,n)},absarc:function(e,t,i,r,a,n){this.absellipse(e,t,i,i,r,a,n)},ellipse:function(e,t,i,r,a,n,o,s){var l=this.actions[this.actions.length-1].args,c=l[l.length-2],h=l[l.length-1];this.absellipse(e+c,t+h,i,r,a,n,o,s)},absellipse:function(e,t,i,r,a,n,o,s){var l=[e,t,i,r,a,n,o,s||0],c=new THREE.EllipseCurve(e,t,i,r,a,n,o,s);this.curves.push(c);var h=c.getPoint(1);l.push(h.x),l.push(h.y),this.actions.push({action:"ellipse",args:l})},getSpacedPoints:function(e){e||(e=40);for(var t=[],i=0;i<e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,i,r,a,n,o,s,l,c,h,u,d=THREE.ShapeUtils.b2,p=THREE.ShapeUtils.b3,m=[],f=0,E=this.actions.length;f<E;f++){var g=this.actions[f],T=g.action,v=g.args;switch(T){case"moveTo":case"lineTo":m.push(new THREE.Vector2(v[0],v[1]));break;case"quadraticCurveTo":t=v[2],i=v[3],n=v[0],o=v[1],m.length>0?(s=(c=m[m.length-1]).x,l=c.y):(s=(c=this.actions[f-1].args)[c.length-2],l=c[c.length-1]);for(var M=1;M<=e;M++)h=d(C=M/e,s,n,t),u=d(C,l,o,i),m.push(new THREE.Vector2(h,u));break;case"bezierCurveTo":for(t=v[4],i=v[5],n=v[0],o=v[1],r=v[2],a=v[3],m.length>0?(s=(c=m[m.length-1]).x,l=c.y):(s=(c=this.actions[f-1].args)[c.length-2],l=c[c.length-1]),M=1;M<=e;M++)h=p(C=M/e,s,n,r,t),u=p(C,l,o,a,i),m.push(new THREE.Vector2(h,u));break;case"splineThru":c=this.actions[f-1].args;var S=[new THREE.Vector2(c[c.length-2],c[c.length-1])],y=e*v[0].length;S=S.concat(v[0]);var R=new THREE.SplineCurve(S);for(M=1;M<=y;M++)m.push(R.getPointAt(M/y));break;case"arc":var x=v[0],b=v[1],H=v[2],B=v[3],L=v[4],A=!!v[5],w=L-B,_=2*e;for(M=1;M<=_;M++){var C=M/_;A||(C=1-C),I=B+C*w,h=x+H*Math.cos(I),u=b+H*Math.sin(I),m.push(new THREE.Vector2(h,u))}break;case"ellipse":x=v[0],b=v[1];var I,P,F,N=v[2],D=v[3],G=(B=v[4],L=v[5],A=!!v[6],v[7]);for(w=L-B,_=2*e,0!==G&&(P=Math.cos(G),F=Math.sin(G)),M=1;M<=_;M++){if(C=M/_,A||(C=1-C),I=B+C*w,h=x+N*Math.cos(I),u=b+D*Math.sin(I),0!==G){var k=h;h=(k-x)*P-(u-b)*F+x,u=(k-x)*F+(u-b)*P+b}m.push(new THREE.Vector2(h,u))}}}var U=m[m.length-1];return Math.abs(U.x-m[0].x)<Number.EPSILON&&Math.abs(U.y-m[0].y)<Number.EPSILON&&m.splice(m.length-1,1),this.autoClose&&m.push(m[0]),m},toShapes:function(e,t){function i(e){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i],n=new THREE.Shape;n.actions=a.actions,n.curves=a.curves,t.push(n)}return t}function r(e,t){for(var i=t.length,r=!1,a=i-1,n=0;n<i;a=n++){var o=t[a],s=t[n],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[n],l=-l,s=t[a],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var h=c*(e.x-o.x)-l*(e.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var a=THREE.ShapeUtils.isClockWise,n=function(e){for(var t=[],i=new THREE.Path,r=0,a=e.length;r<a;r++){var n=e[r],o=n.args,s=n.action;"moveTo"===s&&0!==i.actions.length&&(t.push(i),i=new THREE.Path),i[s].apply(i,o)}return 0!==i.actions.length&&t.push(i),t}(this.actions);if(0===n.length)return[];if(!0===t)return i(n);var o,s,l,c=[];if(1===n.length)return s=n[0],(l=new THREE.Shape).actions=s.actions,l.curves=s.curves,c.push(l),c;var h=!a(n[0].getPoints());h=e?!h:h;var u,d,p=[],m=[],f=[],E=0;m[E]=void 0,f[E]=[];for(var g=0,T=n.length;g<T;g++)o=a(u=(s=n[g]).getPoints()),(o=e?!o:o)?(!h&&m[E]&&E++,m[E]={s:new THREE.Shape,p:u},m[E].s.actions=s.actions,m[E].s.curves=s.curves,h&&E++,f[E]=[]):f[E].push({h:s,p:u[0]});if(!m[0])return i(n);if(m.length>1){for(var v=!1,M=[],S=0,y=m.length;S<y;S++)p[S]=[];for(S=0,y=m.length;S<y;S++)for(var R=f[S],x=0;x<R.length;x++){for(var b=R[x],H=!0,B=0;B<m.length;B++)r(b.p,m[B].p)&&(S!==B&&M.push({froms:S,tos:B,hole:x}),H?(H=!1,p[B].push(b)):v=!0);H&&p[S].push(b)}M.length>0&&(v||(f=p))}g=0;for(var L=m.length;g<L;g++){l=m[g].s,c.push(l);for(var A=0,w=(d=f[g]).length;A<w;A++)l.holes.push(d[A].h)}return c}}),THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.assign(Object.create(THREE.Path.prototype),{constructor:THREE.Shape,extrude:function(e){return new THREE.ExtrudeGeometry(this,e)},makeGeometry:function(e){return new THREE.ShapeGeometry(this,e)},getPointsHoles:function(e){for(var t=[],i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),THREE.LineCurve=function(e,t){this.v1=e,this.v2=t},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.constructor=THREE.LineCurve,THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},THREE.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},THREE.QuadraticBezierCurve=function(e,t,i){this.v0=e,this.v1=t,this.v2=i},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve,THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t=THREE.ShapeUtils.b2;return new THREE.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},THREE.CubicBezierCurve=function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve,THREE.CubicBezierCurve.prototype.getPoint=function(e){var t=THREE.ShapeUtils.b3;return new THREE.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},THREE.CubicBezierCurve.prototype.getTangent=function(e){var t=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},THREE.SplineCurve=function(e){this.points=null==e?[]:e},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.constructor=THREE.SplineCurve,THREE.SplineCurve.prototype.getPoint=function(e){var t=this.points,i=(t.length-1)*e,r=Math.floor(i),a=i-r,n=t[0===r?r:r-1],o=t[r],s=t[r>t.length-2?t.length-1:r+1],l=t[r>t.length-3?t.length-1:r+2],c=THREE.CurveUtils.interpolate;return new THREE.Vector2(c(n.x,o.x,s.x,l.x,a),c(n.y,o.y,s.y,l.y,a))},THREE.EllipseCurve=function(e,t,i,r,a,n,o,s){this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=n,this.aClockwise=o,this.aRotation=s||0},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve,THREE.EllipseCurve.prototype.getPoint=function(e){var t,i=this.aEndAngle-this.aStartAngle;i<0&&(i+=2*Math.PI),i>2*Math.PI&&(i-=2*Math.PI),t=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-i):this.aStartAngle+e*i;var r=this.aX+this.xRadius*Math.cos(t),a=this.aY+this.yRadius*Math.sin(t);if(0!==this.aRotation){var n=Math.cos(this.aRotation),o=Math.sin(this.aRotation),s=r,l=a;r=(s-this.aX)*n-(l-this.aY)*o+this.aX,a=(s-this.aX)*o+(l-this.aY)*n+this.aY}return new THREE.Vector2(r,a)},THREE.ArcCurve=function(e,t,i,r,a,n){THREE.EllipseCurve.call(this,e,t,i,i,r,a,n)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.ArcCurve.prototype.constructor=THREE.ArcCurve,THREE.LineCurve3=THREE.Curve.create((function(e,t){this.v1=e,this.v2=t}),(function(e){var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t})),THREE.QuadraticBezierCurve3=THREE.Curve.create((function(e,t,i){this.v0=e,this.v1=t,this.v2=i}),(function(e){var t=THREE.ShapeUtils.b2;return new THREE.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))})),THREE.CubicBezierCurve3=THREE.Curve.create((function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r}),(function(e){var t=THREE.ShapeUtils.b3;return new THREE.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),THREE.SplineCurve3=THREE.Curve.create((function(e){this.points=null==e?[]:e}),(function(e){var t=this.points,i=(t.length-1)*e,r=Math.floor(i),a=i-r,n=t[0==r?r:r-1],o=t[r],s=t[r>t.length-2?t.length-1:r+1],l=t[r>t.length-3?t.length-1:r+2],c=THREE.CurveUtils.interpolate;return new THREE.Vector3(c(n.x,o.x,s.x,l.x,a),c(n.y,o.y,s.y,l.y,a),c(n.z,o.z,s.z,l.z,a))})),THREE.CatmullRomCurve3=function(){var e=new THREE.Vector3,t=new a,i=new a,r=new a;function a(){}return a.prototype.init=function(e,t,i,r){this.c0=e,this.c1=i,this.c2=-3*e+3*t-2*i-r,this.c3=2*e-2*t+i+r},a.prototype.initNonuniformCatmullRom=function(e,t,i,r,a,n,o){var s=(t-e)/a-(i-e)/(a+n)+(i-t)/n,l=(i-t)/n-(r-t)/(n+o)+(r-i)/o;s*=n,l*=n,this.init(t,i,s,l)},a.prototype.initCatmullRom=function(e,t,i,r,a){this.init(t,i,a*(i-e),a*(r-t))},a.prototype.calc=function(e){var t=e*e,i=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*i},THREE.Curve.create((function(e){this.points=e||[],this.closed=!1}),(function(a){var n,o,s,l,c,h,u,d,p=this.points;if((l=p.length)<2&&console.log(""),s=(n=(l-(this.closed?0:1))*a)-(o=Math.floor(n)),this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/p.length)+1)*p.length:0===s&&o===l-1&&(o=l-2,s=1),this.closed||o>0?c=p[(o-1)%l]:(e.subVectors(p[0],p[1]).add(p[0]),c=e),h=p[o%l],u=p[(o+1)%l],this.closed||o+2<l?d=p[(o+2)%l]:(e.subVectors(p[l-1],p[l-2]).add(p[l-1]),d=e),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25,f=Math.pow(c.distanceToSquared(h),m),E=Math.pow(h.distanceToSquared(u),m),g=Math.pow(u.distanceToSquared(d),m);E<1e-4&&(E=1),f<1e-4&&(f=E),g<1e-4&&(g=E),t.initNonuniformCatmullRom(c.x,h.x,u.x,d.x,f,E,g),i.initNonuniformCatmullRom(c.y,h.y,u.y,d.y,f,E,g),r.initNonuniformCatmullRom(c.z,h.z,u.z,d.z,f,E,g)}else if("catmullrom"===this.type){var T=void 0!==this.tension?this.tension:.5;t.initCatmullRom(c.x,h.x,u.x,d.x,T),i.initCatmullRom(c.y,h.y,u.y,d.y,T),r.initCatmullRom(c.z,h.z,u.z,d.z,T)}return new THREE.Vector3(t.calc(s),i.calc(s),r.calc(s))}))}(),THREE.ClosedSplineCurve3=function(e){THREE.CatmullRomCurve3.call(this,e),this.type="catmullrom",this.closed=!0},THREE.ClosedSplineCurve3.prototype=Object.create(THREE.CatmullRomCurve3.prototype),THREE.BoxGeometry=function(e,t,i,r,a,n){THREE.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:n},this.fromBufferGeometry(new THREE.BoxBufferGeometry(e,t,i,r,a,n)),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry,THREE.CubeGeometry=THREE.BoxGeometry,THREE.BoxBufferGeometry=function(e,t,i,r,a,n){THREE.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:n};var o,s,l,c,h=this,u=function(e,t,i){var r=0;return r+=(e+1)*(t+1)*2,(r+=(e+1)*(i+1)*2)+(i+1)*(t+1)*2}(r=Math.floor(r)||1,a=Math.floor(a)||1,n=Math.floor(n)||1),d=(c=0,c+=(o=r)*(s=a)*2,c+=o*(l=n)*2,6*(c+=l*s*2)),p=new(d>65535?Uint32Array:Uint16Array)(d),m=new Float32Array(3*u),f=new Float32Array(3*u),E=new Float32Array(2*u),g=0,T=0,v=0,M=0,S=0;function y(e,t,i,r,a,n,o,s,l,c,u){for(var d=n/l,y=o/c,R=n/2,x=o/2,b=s/2,H=l+1,B=c+1,L=0,A=0,w=new THREE.Vector3,_=0;_<B;_++)for(var C=_*y-x,I=0;I<H;I++){var P=I*d-R;w[e]=P*r,w[t]=C*a,w[i]=b,m[g]=w.x,m[g+1]=w.y,m[g+2]=w.z,w[e]=0,w[t]=0,w[i]=s>0?1:-1,f[g]=w.x,f[g+1]=w.y,f[g+2]=w.z,E[T]=I/l,E[T+1]=1-_/c,g+=3,T+=2,L+=1}for(_=0;_<c;_++)for(I=0;I<l;I++){var F=M+I+H*_,N=M+I+H*(_+1),D=M+(I+1)+H*(_+1),G=M+(I+1)+H*_;p[v]=F,p[v+1]=N,p[v+2]=G,p[v+3]=N,p[v+4]=D,p[v+5]=G,v+=6,A+=6}h.addGroup(S,A,u),S+=A,M+=L}y("z","y","x",-1,-1,i,t,e,n,a,0),y("z","y","x",1,-1,i,t,-e,n,a,1),y("x","z","y",1,1,e,i,t,r,n,2),y("x","z","y",1,-1,e,i,-t,r,n,3),y("x","y","z",1,-1,e,t,i,r,a,4),y("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(new THREE.BufferAttribute(p,1)),this.addAttribute("position",new THREE.BufferAttribute(m,3)),this.addAttribute("normal",new THREE.BufferAttribute(f,3)),this.addAttribute("uv",new THREE.BufferAttribute(E,2))},THREE.BoxBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.BoxBufferGeometry.prototype.constructor=THREE.BoxBufferGeometry,THREE.CircleGeometry=function(e,t,i,r){THREE.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new THREE.CircleBufferGeometry(e,t,i,r))},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry,THREE.CircleBufferGeometry=function(e,t,i,r){THREE.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var a=t+2,n=new Float32Array(3*a),o=new Float32Array(3*a),s=new Float32Array(2*a);o[2]=1,s[0]=.5,s[1]=.5;for(var l=0,c=3,h=2;l<=t;l++,c+=3,h+=2){var u=i+l/t*r;n[c]=e*Math.cos(u),n[c+1]=e*Math.sin(u),o[c+2]=1,s[h]=(n[c]/e+1)/2,s[h+1]=(n[c+1]/e+1)/2}var d=[];for(c=1;c<=t;c++)d.push(c,c+1,0);this.setIndex(new THREE.BufferAttribute(new Uint16Array(d),1)),this.addAttribute("position",new THREE.BufferAttribute(n,3)),this.addAttribute("normal",new THREE.BufferAttribute(o,3)),this.addAttribute("uv",new THREE.BufferAttribute(s,2)),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry,THREE.CylinderBufferGeometry=function(e,t,i,r,a,n,o,s){THREE.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:n,thetaStart:o,thetaLength:s};var l=this;e=void 0!==e?e:20,t=void 0!==t?t:20,i=void 0!==i?i:100,r=Math.floor(r)||8,a=Math.floor(a)||1,n=void 0!==n&&n,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=0;!1===n&&(e>0&&c++,t>0&&c++);var h=function(){var e=(r+1)*(a+1);return!1===n&&(e+=(r+1)*c+r*c),e}(),u=function(){var e=r*a*2*3;return!1===n&&(e+=r*c*3),e}(),d=new THREE.BufferAttribute(new(u>65535?Uint32Array:Uint16Array)(u),1),p=new THREE.BufferAttribute(new Float32Array(3*h),3),m=new THREE.BufferAttribute(new Float32Array(3*h),3),f=new THREE.BufferAttribute(new Float32Array(2*h),2),E=0,g=0,T=[],v=i/2,M=0;function S(i){var a,n,c,h=new THREE.Vector2,u=new THREE.Vector3,T=0,S=!0===i?e:t,y=!0===i?1:-1;for(n=E,a=1;a<=r;a++)p.setXYZ(E,0,v*y,0),m.setXYZ(E,0,y,0),h.x=.5,h.y=.5,f.setXY(E,h.x,h.y),E++;for(c=E,a=0;a<=r;a++){var R=a/r*s+o,x=Math.cos(R),b=Math.sin(R);u.x=S*b,u.y=v*y,u.z=S*x,p.setXYZ(E,u.x,u.y,u.z),m.setXYZ(E,0,y,0),h.x=.5*x+.5,h.y=.5*b*y+.5,f.setXY(E,h.x,h.y),E++}for(a=0;a<r;a++){var H=n+a,B=c+a;!0===i?(d.setX(g,B),g++,d.setX(g,B+1),g++,d.setX(g,H),g++):(d.setX(g,B+1),g++,d.setX(g,B),g++,d.setX(g,H),g++),T+=3}l.addGroup(M,T,!0===i?1:2),M+=T}!function(){var n,c,h=new THREE.Vector3,u=new THREE.Vector3,S=0,y=(t-e)/i;for(c=0;c<=a;c++){var R=[],x=c/a,b=x*(t-e)+e;for(n=0;n<=r;n++){var H=n/r;u.x=b*Math.sin(H*s+o),u.y=-x*i+v,u.z=b*Math.cos(H*s+o),p.setXYZ(E,u.x,u.y,u.z),h.copy(u),(0===e&&0===c||0===t&&c===a)&&(h.x=Math.sin(H*s+o),h.z=Math.cos(H*s+o)),h.setY(Math.sqrt(h.x*h.x+h.z*h.z)*y).normalize(),m.setXYZ(E,h.x,h.y,h.z),f.setXY(E,H,1-x),R.push(E),E++}T.push(R)}for(n=0;n<r;n++)for(c=0;c<a;c++){var B=T[c][n],L=T[c+1][n],A=T[c+1][n+1],w=T[c][n+1];d.setX(g,B),g++,d.setX(g,L),g++,d.setX(g,w),g++,d.setX(g,L),g++,d.setX(g,A),g++,d.setX(g,w),g++,S+=6}l.addGroup(M,S,0),M+=S}(),!1===n&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",m),this.addAttribute("uv",f)},THREE.CylinderBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.CylinderBufferGeometry.prototype.constructor=THREE.CylinderBufferGeometry,THREE.CylinderGeometry=function(e,t,i,r,a,n,o,s){THREE.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:n,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new THREE.CylinderBufferGeometry(e,t,i,r,a,n,o,s)),this.mergeVertices()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry,THREE.ConeBufferGeometry=function(e,t,i,r,a,n,o){THREE.CylinderBufferGeometry.call(this,0,e,t,i,r,a,n,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,thetaStart:n,thetaLength:o}},THREE.ConeBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.ConeBufferGeometry.prototype.constructor=THREE.ConeBufferGeometry,THREE.ConeGeometry=function(e,t,i,r,a,n,o){THREE.CylinderGeometry.call(this,0,e,t,i,r,a,n,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:n,thetaLength:o}},THREE.ConeGeometry.prototype=Object.create(THREE.CylinderGeometry.prototype),THREE.ConeGeometry.prototype.constructor=THREE.ConeGeometry,THREE.EdgesGeometry=function(e,t){THREE.BufferGeometry.call(this),t=void 0!==t?t:1;var i=Math.cos(THREE.Math.DEG2RAD*t),r=[0,0],a={};function n(e,t){return e-t}var o,s=["a","b","c"];e instanceof THREE.BufferGeometry?(o=new THREE.Geometry).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var l=o.vertices,c=o.faces,h=0,u=c.length;h<u;h++)for(var d=c[h],p=0;p<3;p++)r[0]=d[s[p]],r[1]=d[s[(p+1)%3]],r.sort(n),void 0===a[f=r.toString()]?a[f]={vert1:r[0],vert2:r[1],face1:h,face2:void 0}:a[f].face2=h;var m=[];for(var f in a){var E=a[f];if(void 0===E.face2||c[E.face1].normal.dot(c[E.face2].normal)<=i){var g=l[E.vert1];m.push(g.x),m.push(g.y),m.push(g.z),g=l[E.vert2],m.push(g.x),m.push(g.y),m.push(g.z)}}this.addAttribute("position",new THREE.BufferAttribute(new Float32Array(m),3))},THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry,THREE.ExtrudeGeometry=function(e,t){void 0!==e?(THREE.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeFaceNormals()):e=[]},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry,THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var i=e.length,r=0;r<i;r++){var a=e[r];this.addShape(a,t)}},THREE.ExtrudeGeometry.prototype.addShape=function(e,t){var i,r,a,n,o,s,l,c,h=void 0!==t.amount?t.amount:100,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,p=void 0!==t.bevelSegments?t.bevelSegments:3,m=void 0===t.bevelEnabled||t.bevelEnabled,f=void 0!==t.curveSegments?t.curveSegments:12,E=void 0!==t.steps?t.steps:1,g=t.extrudePath,T=!1,v=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;g&&(i=g.getSpacedPoints(E),T=!0,m=!1,r=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(g,E,!1),a=new THREE.Vector3,n=new THREE.Vector3,o=new THREE.Vector3),m||(p=0,u=0,d=0);var M=this,S=this.vertices.length,y=e.extractPoints(f),R=y.shape,x=y.holes,b=!THREE.ShapeUtils.isClockWise(R);if(b){for(R=R.reverse(),l=0,c=x.length;l<c;l++)s=x[l],THREE.ShapeUtils.isClockWise(s)&&(x[l]=s.reverse());b=!1}var H=THREE.ShapeUtils.triangulateShape(R,x),B=R;for(l=0,c=x.length;l<c;l++)s=x[l],R=R.concat(s);function L(e,t,i){return t||console.error(""),t.clone().multiplyScalar(i).add(e)}var A,w,_,C,I,P,F=R.length,N=H.length;function D(e,t,i){var r,a,n=1,o=e.x-t.x,s=e.y-t.y,l=i.x-e.x,c=i.y-e.y,h=o*o+s*s,u=o*c-s*l;if(Math.abs(u)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(l*l+c*c),m=t.x-s/d,f=t.y+o/d,E=((i.x-c/p-m)*c-(i.y+l/p-f)*l)/(o*c-s*l),g=(r=m+o*E-e.x)*r+(a=f+s*E-e.y)*a;if(g<=2)return new THREE.Vector2(r,a);n=Math.sqrt(g/2)}else{var T=!1;o>Number.EPSILON?l>Number.EPSILON&&(T=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(T=!0):Math.sign(s)===Math.sign(c)&&(T=!0),T?(r=-s,a=o,n=Math.sqrt(h)):(r=o,a=s,n=Math.sqrt(h/2))}return new THREE.Vector2(r/n,a/n)}for(var G=[],k=0,U=B.length,O=U-1,V=k+1;k<U;k++,O++,V++)O===U&&(O=0),V===U&&(V=0),G[k]=D(B[k],B[O],B[V]);var z,W,j=[],X=G.concat();for(l=0,c=x.length;l<c;l++){for(s=x[l],z=[],k=0,O=(U=s.length)-1,V=k+1;k<U;k++,O++,V++)O===U&&(O=0),V===U&&(V=0),z[k]=D(s[k],s[O],s[V]);j.push(z),X=X.concat(z)}for(A=0;A<p;A++){for(C=u*(1-(_=A/p)),w=d*Math.sin(_*Math.PI/2),k=0,U=B.length;k<U;k++)Y((I=L(B[k],G[k],w)).x,I.y,-C);for(l=0,c=x.length;l<c;l++)for(s=x[l],z=j[l],k=0,U=s.length;k<U;k++)Y((I=L(s[k],z[k],w)).x,I.y,-C)}for(w=d,k=0;k<F;k++)I=m?L(R[k],X[k],w):R[k],T?(n.copy(r.normals[0]).multiplyScalar(I.x),a.copy(r.binormals[0]).multiplyScalar(I.y),o.copy(i[0]).add(n).add(a),Y(o.x,o.y,o.z)):Y(I.x,I.y,0);for(W=1;W<=E;W++)for(k=0;k<F;k++)I=m?L(R[k],X[k],w):R[k],T?(n.copy(r.normals[W]).multiplyScalar(I.x),a.copy(r.binormals[W]).multiplyScalar(I.y),o.copy(i[W]).add(n).add(a),Y(o.x,o.y,o.z)):Y(I.x,I.y,h/E*W);for(A=p-1;A>=0;A--){for(C=u*(1-(_=A/p)),w=d*Math.sin(_*Math.PI/2),k=0,U=B.length;k<U;k++)Y((I=L(B[k],G[k],w)).x,I.y,h+C);for(l=0,c=x.length;l<c;l++)for(s=x[l],z=j[l],k=0,U=s.length;k<U;k++)I=L(s[k],z[k],w),T?Y(I.x,I.y+i[E-1].y,i[E-1].x+C):Y(I.x,I.y,h+C)}function K(e,t){var i,r;for(k=e.length;--k>=0;){i=k,(r=k-1)<0&&(r=e.length-1);var a=0,n=E+2*p;for(a=0;a<n;a++){var o=F*a,s=F*(a+1);J(t+i+o,t+r+o,t+r+s,t+i+s,e,a,n,i,r)}}}function Y(e,t,i){M.vertices.push(new THREE.Vector3(e,t,i))}function q(e,t,i){e+=S,t+=S,i+=S,M.faces.push(new THREE.Face3(e,t,i,null,null,0));var r=v.generateTopUV(M,e,t,i);M.faceVertexUvs[0].push(r)}function J(e,t,i,r,a,n,o,s,l){e+=S,t+=S,i+=S,r+=S,M.faces.push(new THREE.Face3(e,t,r,null,null,1)),M.faces.push(new THREE.Face3(t,i,r,null,null,1));var c=v.generateSideWallUV(M,e,t,i,r);M.faceVertexUvs[0].push([c[0],c[1],c[3]]),M.faceVertexUvs[0].push([c[1],c[2],c[3]])}!function(){if(m){var e=0,t=F*e;for(k=0;k<N;k++)q((P=H[k])[2]+t,P[1]+t,P[0]+t);for(t=F*(e=E+2*p),k=0;k<N;k++)q((P=H[k])[0]+t,P[1]+t,P[2]+t)}else{for(k=0;k<N;k++)q((P=H[k])[2],P[1],P[0]);for(k=0;k<N;k++)q((P=H[k])[0]+F*E,P[1]+F*E,P[2]+F*E)}}(),function(){var e=0;for(K(B,e),e+=B.length,l=0,c=x.length;l<c;l++)K(s=x[l],e),e+=s.length}()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,r){var a=e.vertices,n=a[t],o=a[i],s=a[r];return[new THREE.Vector2(n.x,n.y),new THREE.Vector2(o.x,o.y),new THREE.Vector2(s.x,s.y)]},generateSideWallUV:function(e,t,i,r,a){var n=e.vertices,o=n[t],s=n[i],l=n[r],c=n[a];return Math.abs(o.y-s.y)<.01?[new THREE.Vector2(o.x,1-o.z),new THREE.Vector2(s.x,1-s.z),new THREE.Vector2(l.x,1-l.z),new THREE.Vector2(c.x,1-c.z)]:[new THREE.Vector2(o.y,1-o.z),new THREE.Vector2(s.y,1-s.z),new THREE.Vector2(l.y,1-l.z),new THREE.Vector2(c.y,1-c.z)]}},THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(e)&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry,THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,r=e.length;i<r;i++)this.addShape(e[i],t);return this},THREE.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var i,r,a,n=void 0!==t.curveSegments?t.curveSegments:12,o=t.material,s=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=this.vertices.length,c=e.extractPoints(n),h=c.shape,u=c.holes,d=!THREE.ShapeUtils.isClockWise(h);if(d){for(h=h.reverse(),i=0,r=u.length;i<r;i++)a=u[i],THREE.ShapeUtils.isClockWise(a)&&(u[i]=a.reverse());d=!1}var p=THREE.ShapeUtils.triangulateShape(h,u);for(i=0,r=u.length;i<r;i++)a=u[i],h=h.concat(a);var m,f,E=h.length,g=p.length;for(i=0;i<E;i++)m=h[i],this.vertices.push(new THREE.Vector3(m.x,m.y,0));for(i=0;i<g;i++){var T=(f=p[i])[0]+l,v=f[1]+l,M=f[2]+l;this.faces.push(new THREE.Face3(T,v,M,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,T,v,M))}},THREE.LatheBufferGeometry=function(e,t,i,r){THREE.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t)||12,i=i||0,r=r||2*Math.PI,r=THREE.Math.clamp(r,0,2*Math.PI);var a,n,o,s=(t+1)*e.length,l=t*e.length*2*3,c=new THREE.BufferAttribute(new(l>65535?Uint32Array:Uint16Array)(l),1),h=new THREE.BufferAttribute(new Float32Array(3*s),3),u=new THREE.BufferAttribute(new Float32Array(2*s),2),d=0,p=0,m=(e.length,1/t),f=new THREE.Vector3,E=new THREE.Vector2;for(n=0;n<=t;n++){var g=i+n*m*r,T=Math.sin(g),v=Math.cos(g);for(o=0;o<=e.length-1;o++)f.x=e[o].x*T,f.y=e[o].y,f.z=e[o].x*v,h.setXYZ(d,f.x,f.y,f.z),E.x=n/t,E.y=o/(e.length-1),u.setXY(d,E.x,E.y),d++}for(n=0;n<t;n++)for(o=0;o<e.length-1;o++){var M=a=o+n*e.length,S=a+e.length,y=a+e.length+1,R=a+1;c.setX(p,M),p++,c.setX(p,S),p++,c.setX(p,R),p++,c.setX(p,S),p++,c.setX(p,y),p++,c.setX(p,R),p++}if(this.setIndex(c),this.addAttribute("position",h),this.addAttribute("uv",u),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,b=new THREE.Vector3,H=new THREE.Vector3,B=new THREE.Vector3;for(a=t*e.length*3,n=0,o=0;n<e.length;n++,o+=3)b.x=x[o+0],b.y=x[o+1],b.z=x[o+2],H.x=x[a+o+0],H.y=x[a+o+1],H.z=x[a+o+2],B.addVectors(b,H).normalize(),x[o+0]=x[a+o+0]=B.x,x[o+1]=x[a+o+1]=B.y,x[o+2]=x[a+o+2]=B.z}},THREE.LatheBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.LatheBufferGeometry.prototype.constructor=THREE.LatheBufferGeometry,THREE.LatheGeometry=function(e,t,i,r){THREE.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},this.fromBufferGeometry(new THREE.LatheBufferGeometry(e,t,i,r)),this.mergeVertices()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry,THREE.PlaneGeometry=function(e,t,i,r){THREE.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new THREE.PlaneBufferGeometry(e,t,i,r))},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry,THREE.PlaneBufferGeometry=function(e,t,i,r){THREE.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};for(var a=e/2,n=t/2,o=Math.floor(i)||1,s=Math.floor(r)||1,l=o+1,c=s+1,h=e/o,u=t/s,d=new Float32Array(l*c*3),p=new Float32Array(l*c*3),m=new Float32Array(l*c*2),f=0,E=0,g=0;g<c;g++)for(var T=g*u-n,v=0;v<l;v++){var M=v*h-a;d[f]=M,d[f+1]=-T,p[f+2]=1,m[E]=v/o,m[E+1]=1-g/s,f+=3,E+=2}f=0;var S=new(d.length/3>65535?Uint32Array:Uint16Array)(o*s*6);for(g=0;g<s;g++)for(v=0;v<o;v++){var y=v+l*g,R=v+l*(g+1),x=v+1+l*(g+1),b=v+1+l*g;S[f]=y,S[f+1]=R,S[f+2]=b,S[f+3]=R,S[f+4]=x,S[f+5]=b,f+=6}this.setIndex(new THREE.BufferAttribute(S,1)),this.addAttribute("position",new THREE.BufferAttribute(d,3)),this.addAttribute("normal",new THREE.BufferAttribute(p,3)),this.addAttribute("uv",new THREE.BufferAttribute(m,2))},THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry,THREE.RingBufferGeometry=function(e,t,i,r,a,n){THREE.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:n},e=e||20,t=t||50,a=void 0!==a?a:0,n=void 0!==n?n:2*Math.PI;var o,s,l,c=((i=void 0!==i?Math.max(3,i):8)+1)*((r=void 0!==r?Math.max(1,r):1)+1),h=i*r*2*3,u=new THREE.BufferAttribute(new(h>65535?Uint32Array:Uint16Array)(h),1),d=new THREE.BufferAttribute(new Float32Array(3*c),3),p=new THREE.BufferAttribute(new Float32Array(3*c),3),m=new THREE.BufferAttribute(new Float32Array(2*c),2),f=0,E=0,g=e,T=(t-e)/r,v=new THREE.Vector3,M=new THREE.Vector2;for(s=0;s<=r;s++){for(l=0;l<=i;l++)o=a+l/i*n,v.x=g*Math.cos(o),v.y=g*Math.sin(o),d.setXYZ(f,v.x,v.y,v.z),p.setXYZ(f,0,0,1),M.x=(v.x/t+1)/2,M.y=(v.y/t+1)/2,m.setXY(f,M.x,M.y),f++;g+=T}for(s=0;s<r;s++){var S=s*(i+1);for(l=0;l<i;l++){var y=o=l+S,R=o+i+1,x=o+i+2,b=o+1;u.setX(E,y),E++,u.setX(E,R),E++,u.setX(E,x),E++,u.setX(E,y),E++,u.setX(E,x),E++,u.setX(E,b),E++}}this.setIndex(u),this.addAttribute("position",d),this.addAttribute("normal",p),this.addAttribute("uv",m)},THREE.RingBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.RingBufferGeometry.prototype.constructor=THREE.RingBufferGeometry,THREE.RingGeometry=function(e,t,i,r,a,n){THREE.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:n},this.fromBufferGeometry(new THREE.RingBufferGeometry(e,t,i,r,a,n))},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry.prototype.constructor=THREE.RingGeometry,THREE.SphereGeometry=function(e,t,i,r,a,n,o){THREE.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:n,thetaLength:o},this.fromBufferGeometry(new THREE.SphereBufferGeometry(e,t,i,r,a,n,o))},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry,THREE.SphereBufferGeometry=function(e,t,i,r,a,n,o){THREE.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:n,thetaLength:o},e=e||50,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI;for(var s=(n=void 0!==n?n:0)+(o=void 0!==o?o:Math.PI),l=(t+1)*(i+1),c=new THREE.BufferAttribute(new Float32Array(3*l),3),h=new THREE.BufferAttribute(new Float32Array(3*l),3),u=new THREE.BufferAttribute(new Float32Array(2*l),2),d=0,p=[],m=new THREE.Vector3,f=0;f<=i;f++){for(var E=[],g=f/i,T=0;T<=t;T++){var v=T/t,M=-e*Math.cos(r+v*a)*Math.sin(n+g*o),S=e*Math.cos(n+g*o),y=e*Math.sin(r+v*a)*Math.sin(n+g*o);m.set(M,S,y).normalize(),c.setXYZ(d,M,S,y),h.setXYZ(d,m.x,m.y,m.z),u.setXY(d,v,1-g),E.push(d),d++}p.push(E)}var R=[];for(f=0;f<i;f++)for(T=0;T<t;T++){var x=p[f][T+1],b=p[f][T],H=p[f+1][T],B=p[f+1][T+1];(0!==f||n>0)&&R.push(x,b,B),(f!==i-1||s<Math.PI)&&R.push(b,H,B)}this.setIndex(new(c.count>65535?THREE.Uint32Attribute:THREE.Uint16Attribute)(R,1)),this.addAttribute("position",c),this.addAttribute("normal",h),this.addAttribute("uv",u),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry,THREE.TextGeometry=function(e,t){var i=(t=t||{}).font;if(i instanceof THREE.Font==0)return new THREE.Geometry;var r=i.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,r,t),this.type="TextGeometry"},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TextGeometry.prototype.constructor=THREE.TextGeometry,THREE.TorusBufferGeometry=function(e,t,i,r,a){THREE.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},e=e||100,t=t||40,i=Math.floor(i)||8,r=Math.floor(r)||6,a=a||2*Math.PI;var n,o,s=(i+1)*(r+1),l=i*r*2*3,c=new(l>65535?Uint32Array:Uint16Array)(l),h=new Float32Array(3*s),u=new Float32Array(3*s),d=new Float32Array(2*s),p=0,m=0,f=0,E=new THREE.Vector3,g=new THREE.Vector3,T=new THREE.Vector3;for(n=0;n<=i;n++)for(o=0;o<=r;o++){var v=o/r*a,M=n/i*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(v),g.y=(e+t*Math.cos(M))*Math.sin(v),g.z=t*Math.sin(M),h[p]=g.x,h[p+1]=g.y,h[p+2]=g.z,E.x=e*Math.cos(v),E.y=e*Math.sin(v),T.subVectors(g,E).normalize(),u[p]=T.x,u[p+1]=T.y,u[p+2]=T.z,d[m]=o/r,d[m+1]=n/i,p+=3,m+=2}for(n=1;n<=i;n++)for(o=1;o<=r;o++){var S=(r+1)*n+o-1,y=(r+1)*(n-1)+o-1,R=(r+1)*(n-1)+o,x=(r+1)*n+o;c[f]=S,c[f+1]=y,c[f+2]=x,c[f+3]=y,c[f+4]=R,c[f+5]=x,f+=6}this.setIndex(new THREE.BufferAttribute(c,1)),this.addAttribute("position",new THREE.BufferAttribute(h,3)),this.addAttribute("normal",new THREE.BufferAttribute(u,3)),this.addAttribute("uv",new THREE.BufferAttribute(d,2))},THREE.TorusBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.TorusBufferGeometry.prototype.constructor=THREE.TorusBufferGeometry,THREE.TorusGeometry=function(e,t,i,r,a){THREE.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},this.fromBufferGeometry(new THREE.TorusBufferGeometry(e,t,i,r,a))},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry,THREE.TorusKnotBufferGeometry=function(e,t,i,r,a,n){THREE.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:n},e=e||100,t=t||40,i=Math.floor(i)||64,a=a||2,n=n||3;var o,s,l=((r=Math.floor(r)||8)+1)*(i+1),c=r*i*2*3,h=new THREE.BufferAttribute(new(c>65535?Uint32Array:Uint16Array)(c),1),u=new THREE.BufferAttribute(new Float32Array(3*l),3),d=new THREE.BufferAttribute(new Float32Array(3*l),3),p=new THREE.BufferAttribute(new Float32Array(2*l),2),m=0,f=0,E=new THREE.Vector3,g=new THREE.Vector3,T=new THREE.Vector2,v=new THREE.Vector3,M=new THREE.Vector3,S=new THREE.Vector3,y=new THREE.Vector3,R=new THREE.Vector3;for(o=0;o<=i;++o){var x=o/i*a*Math.PI*2;for(C(x,a,n,e,v),C(x+.01,a,n,e,M),y.subVectors(M,v),R.addVectors(M,v),S.crossVectors(y,R),R.crossVectors(S,y),S.normalize(),R.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,H=-t*Math.cos(b),B=t*Math.sin(b);E.x=v.x+(H*R.x+B*S.x),E.y=v.y+(H*R.y+B*S.y),E.z=v.z+(H*R.z+B*S.z),u.setXYZ(m,E.x,E.y,E.z),g.subVectors(E,v).normalize(),d.setXYZ(m,g.x,g.y,g.z),T.x=o/i,T.y=s/r,p.setXY(m,T.x,T.y),m++}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var L=(r+1)*(s-1)+(o-1),A=(r+1)*s+(o-1),w=(r+1)*s+o,_=(r+1)*(s-1)+o;h.setX(f,L),f++,h.setX(f,A),f++,h.setX(f,_),f++,h.setX(f,A),f++,h.setX(f,w),f++,h.setX(f,_),f++}function C(e,t,i,r,a){var n=Math.cos(e),o=Math.sin(e),s=i/t*e,l=Math.cos(s);a.x=r*(2+l)*.5*n,a.y=r*(2+l)*o*.5,a.z=r*Math.sin(s)*.5}this.setIndex(h),this.addAttribute("position",u),this.addAttribute("normal",d),this.addAttribute("uv",p)},THREE.TorusKnotBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.TorusKnotBufferGeometry.prototype.constructor=THREE.TorusKnotBufferGeometry,THREE.TorusKnotGeometry=function(e,t,i,r,a,n,o){THREE.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:n},this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(e,t,i,r,a,n)),this.mergeVertices()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry,THREE.TubeGeometry=function(e,t,i,r,a,n){THREE.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:i,radialSegments:r,closed:a,taper:n},t=t||64,i=i||1,r=r||8,a=a||!1,n=n||THREE.TubeGeometry.NoTaper;var o,s,l,c,h,u,d,p,m,f,E,g,T,v,M,S,y,R,x,b,H,B,L,A=[],w=t+1,_=new THREE.Vector3,C=new THREE.TubeGeometry.FrenetFrames(e,t,a),I=C.tangents,P=C.normals,F=C.binormals;for(this.tangents=I,this.normals=P,this.binormals=F,m=0;m<w;m++)for(A[m]=[],l=m/(w-1),p=e.getPointAt(l),I[m],o=P[m],s=F[m],h=i*n(l),f=0;f<r;f++)c=f/r*2*Math.PI,u=-h*Math.cos(c),d=h*Math.sin(c),_.copy(p),_.x+=u*o.x+d*s.x,_.y+=u*o.y+d*s.y,_.z+=u*o.z+d*s.z,A[m][f]=(H=_.x,B=_.y,L=_.z,this.vertices.push(new THREE.Vector3(H,B,L))-1);for(m=0;m<t;m++)for(f=0;f<r;f++)E=a?(m+1)%t:m+1,g=(f+1)%r,T=A[m][f],v=A[E][f],M=A[E][g],S=A[m][g],y=new THREE.Vector2(m/t,f/r),R=new THREE.Vector2((m+1)/t,f/r),x=new THREE.Vector2((m+1)/t,(f+1)/r),b=new THREE.Vector2(m/t,(f+1)/r),this.faces.push(new THREE.Face3(T,v,S)),this.faceVertexUvs[0].push([y,R,b]),this.faces.push(new THREE.Face3(v,M,S)),this.faceVertexUvs[0].push([R.clone(),x,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry,THREE.TubeGeometry.NoTaper=function(e){return 1},THREE.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},THREE.TubeGeometry.FrenetFrames=function(e,t,i){var r,a,n,o,s,l,c,h=new THREE.Vector3,u=[],d=[],p=[],m=new THREE.Vector3,f=new THREE.Matrix4,E=t+1;for(this.tangents=u,this.normals=d,this.binormals=p,l=0;l<E;l++)c=l/(E-1),u[l]=e.getTangentAt(c),u[l].normalize();for(d[0]=new THREE.Vector3,p[0]=new THREE.Vector3,a=Number.MAX_VALUE,n=Math.abs(u[0].x),o=Math.abs(u[0].y),s=Math.abs(u[0].z),n<=a&&(a=n,h.set(1,0,0)),o<=a&&(a=o,h.set(0,1,0)),s<=a&&h.set(0,0,1),m.crossVectors(u[0],h).normalize(),d[0].crossVectors(u[0],m),p[0].crossVectors(u[0],d[0]),l=1;l<E;l++)d[l]=d[l-1].clone(),p[l]=p[l-1].clone(),m.crossVectors(u[l-1],u[l]),m.length()>Number.EPSILON&&(m.normalize(),r=Math.acos(THREE.Math.clamp(u[l-1].dot(u[l]),-1,1)),d[l].applyMatrix4(f.makeRotationAxis(m,r))),p[l].crossVectors(u[l],d[l]);if(i)for(r=Math.acos(THREE.Math.clamp(d[0].dot(d[E-1]),-1,1)),r/=E-1,u[0].dot(m.crossVectors(d[0],d[E-1]))>0&&(r=-r),l=1;l<E;l++)d[l].applyMatrix4(f.makeRotationAxis(u[l],r*l)),p[l].crossVectors(u[l],d[l])},THREE.PolyhedronGeometry=function(e,t,i,r){THREE.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},i=i||1,r=r||0;for(var a=this,n=0,o=e.length;n<o;n+=3)M(new THREE.Vector3(e[n],e[n+1],e[n+2]));var s=this.vertices,l=[],c=(n=0,0);for(o=t.length;n<o;n+=3,c++){var h=s[t[n]],u=s[t[n+1]],d=s[t[n+2]];l[c]=new THREE.Face3(h.index,u.index,d.index,[h.clone(),u.clone(),d.clone()])}var p=new THREE.Vector3;for(n=0,o=l.length;n<o;n++)y(l[n],r);for(n=0,o=this.faceVertexUvs[0].length;n<o;n++){var m=this.faceVertexUvs[0][n],f=m[0].x,E=m[1].x,g=m[2].x,T=Math.max(f,E,g),v=Math.min(f,E,g);T>.9&&v<.1&&(f<.2&&(m[0].x+=1),E<.2&&(m[1].x+=1),g<.2&&(m[2].x+=1))}for(n=0,o=this.vertices.length;n<o;n++)this.vertices[n].multiplyScalar(i);function M(e){var t=e.normalize().clone();t.index=a.vertices.push(t)-1;var i=R(e)/2/Math.PI+.5,r=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;return t.uv=new THREE.Vector2(i,1-r),t}function S(e,t,i){var r=new THREE.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()]);a.faces.push(r),p.copy(e).add(t).add(i).divideScalar(3);var n=R(p);a.faceVertexUvs[0].push([x(e.uv,e,n),x(t.uv,t,n),x(i.uv,i,n)])}function y(e,t){for(var i=Math.pow(2,t),r=M(a.vertices[e.a]),n=M(a.vertices[e.b]),o=M(a.vertices[e.c]),s=[],l=0;l<=i;l++){s[l]=[];for(var c=M(r.clone().lerp(o,l/i)),h=M(n.clone().lerp(o,l/i)),u=i-l,d=0;d<=u;d++)s[l][d]=0===d&&l===i?c:M(c.clone().lerp(h,d/u))}for(l=0;l<i;l++)for(d=0;d<2*(i-l)-1;d++){var p=Math.floor(d/2);d%2==0?S(s[l][p+1],s[l+1][p],s[l][p]):S(s[l][p+1],s[l+1][p+1],s[l+1][p])}}function R(e){return Math.atan2(e.z,-e.x)}function x(e,t,i){return i<0&&1===e.x&&(e=new THREE.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new THREE.Vector2(i/2/Math.PI+.5,e.y)),e.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry,THREE.DodecahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];THREE.PolyhedronGeometry.call(this,a,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}},THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry,THREE.IcosahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];THREE.PolyhedronGeometry.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry,THREE.OctahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry,THREE.TetrahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry,THREE.ParametricGeometry=function(e,t,i){THREE.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i};var r,a,n,o,s,l,c,h,u,d,p,m,f=this.vertices,E=this.faces,g=this.faceVertexUvs[0],T=t+1;for(r=0;r<=i;r++)for(o=r/i,a=0;a<=t;a++)n=e(a/t,o),f.push(n);for(r=0;r<i;r++)for(a=0;a<t;a++)s=r*T+a,l=r*T+a+1,c=(r+1)*T+a+1,h=(r+1)*T+a,u=new THREE.Vector2(a/t,r/i),d=new THREE.Vector2((a+1)/t,r/i),p=new THREE.Vector2((a+1)/t,(r+1)/i),m=new THREE.Vector2(a/t,(r+1)/i),E.push(new THREE.Face3(s,l,h)),g.push([u,d,m]),E.push(new THREE.Face3(l,c,h)),g.push([d.clone(),p,m.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry,THREE.WireframeGeometry=function(e){THREE.BufferGeometry.call(this);var t=[0,0],i={};function r(e,t){return e-t}var a=["a","b","c"];if(e instanceof THREE.Geometry){for(var n=e.vertices,o=e.faces,s=0,l=new Uint32Array(6*o.length),c=0,h=o.length;c<h;c++)for(var u=o[c],d=0;d<3;d++)t[0]=u[a[d]],t[1]=u[a[(d+1)%3]],t.sort(r),void 0===i[y=t.toString()]&&(l[2*s]=t[0],l[2*s+1]=t[1],i[y]=!0,s++);var p=new Float32Array(2*s*3);for(c=0,h=s;c<h;c++)for(d=0;d<2;d++){var m=n[l[2*c+d]];p[0+(R=6*c+3*d)]=m.x,p[R+1]=m.y,p[R+2]=m.z}this.addAttribute("position",new THREE.BufferAttribute(p,3))}else if(e instanceof THREE.BufferGeometry)if(null!==e.index){var f=e.index.array,E=(n=e.attributes.position,e.groups);s=0,0===E.length&&e.addGroup(0,f.length),l=new Uint32Array(2*f.length);for(var g=0,T=E.length;g<T;++g)for(var v=E[g],M=v.start,S=(c=M,M+v.count);c<S;c+=3)for(d=0;d<3;d++){var y;t[0]=f[c+d],t[1]=f[c+(d+1)%3],t.sort(r),void 0===i[y=t.toString()]&&(l[2*s]=t[0],l[2*s+1]=t[1],i[y]=!0,s++)}for(p=new Float32Array(2*s*3),c=0,h=s;c<h;c++)for(d=0;d<2;d++){var R=6*c+3*d,x=l[2*c+d];p[R+0]=n.getX(x),p[R+1]=n.getY(x),p[R+2]=n.getZ(x)}this.addAttribute("position",new THREE.BufferAttribute(p,3))}else{var b=(s=(n=e.attributes.position.array).length/3)/3;for(p=new Float32Array(2*s*3),c=0,h=b;c<h;c++)for(d=0;d<3;d++){var H=9*c+3*d;p[0+(R=18*c+6*d)]=n[H],p[R+1]=n[H+1],p[R+2]=n[H+2],x=9*c+(d+1)%3*3,p[R+3]=n[x],p[R+4]=n[x+1],p[R+5]=n[x+2]}this.addAttribute("position",new THREE.BufferAttribute(p,3))}},THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry,THREE.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new THREE.BufferGeometry;r.addAttribute("position",new THREE.BufferAttribute(t,3)),r.addAttribute("color",new THREE.BufferAttribute(i,3));var a=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,r,a)},THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.AxisHelper.prototype.constructor=THREE.AxisHelper,THREE.ArrowHelper=function(){var e=new THREE.BufferGeometry;e.addAttribute("position",new THREE.Float32Attribute([0,0,0,0,1,0],3));var t=new THREE.CylinderBufferGeometry(0,.5,1,5,1);return t.translate(0,-.5,0),function(i,r,a,n,o,s){THREE.Object3D.call(this),void 0===n&&(n=16776960),void 0===a&&(a=1),void 0===o&&(o=.2*a),void 0===s&&(s=.2*o),this.position.copy(r),this.line=new THREE.Line(e,new THREE.LineBasicMaterial({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new THREE.Mesh(t,new THREE.MeshBasicMaterial({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(a,o,s)}}(),THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper,THREE.ArrowHelper.prototype.setDirection=function(){var e,t=new THREE.Vector3;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(i.z,0,-i.x).normalize(),e=Math.acos(i.y),this.quaternion.setFromAxisAngle(t,e))}}(),THREE.ArrowHelper.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},THREE.BoxHelper=function(e,t){void 0===t&&(t=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new THREE.BufferGeometry;a.setIndex(new THREE.BufferAttribute(i,1)),a.addAttribute("position",new THREE.BufferAttribute(r,3)),THREE.LineSegments.call(this,a,new THREE.LineBasicMaterial({color:t})),void 0!==e&&this.update(e)},THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.BoxHelper.prototype.constructor=THREE.BoxHelper,THREE.BoxHelper.prototype.update=function(){var e=new THREE.Box3;return function(t){if(t instanceof THREE.Box3?e.copy(t):e.setFromObject(t),!e.isEmpty()){var i=e.min,r=e.max,a=this.geometry.attributes.position,n=a.array;n[0]=r.x,n[1]=r.y,n[2]=r.z,n[3]=i.x,n[4]=r.y,n[5]=r.z,n[6]=i.x,n[7]=i.y,n[8]=r.z,n[9]=r.x,n[10]=i.y,n[11]=r.z,n[12]=r.x,n[13]=r.y,n[14]=i.z,n[15]=i.x,n[16]=r.y,n[17]=i.z,n[18]=i.x,n[19]=i.y,n[20]=i.z,n[21]=r.x,n[22]=i.y,n[23]=i.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),THREE.BoundingBoxHelper=function(e,t){var i=void 0!==t?t:8947848;this.object=e,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:i,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper,THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(e){var t=new THREE.Geometry,i=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),r={};function a(e,t,i){n(e,i),n(t,i)}function n(e,i){t.vertices.push(new THREE.Vector3),t.colors.push(new THREE.Color(i)),void 0===r[e]&&(r[e]=[]),r[e].push(t.vertices.length-1)}a("n1","n2",16755200),a("n2","n4",16755200),a("n4","n3",16755200),a("n3","n1",16755200),a("f1","f2",16755200),a("f2","f4",16755200),a("f4","f3",16755200),a("f3","f1",16755200),a("n1","f1",16755200),a("n2","f2",16755200),a("n3","f3",16755200),a("n4","f4",16755200),a("p","n1",16711680),a("p","n2",16711680),a("p","n3",16711680),a("p","n4",16711680),a("u1","u2",43775),a("u2","u3",43775),a("u3","u1",43775),a("c","t",16777215),a("p","c",3355443),a("cn1","cn2",3355443),a("cn3","cn4",3355443),a("cf1","cf2",3355443),a("cf3","cf4",3355443),THREE.LineSegments.call(this,t,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=r,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.CameraHelper.prototype.constructor=THREE.CameraHelper,THREE.CameraHelper.prototype.update=function(){var e,t,i=new THREE.Vector3,r=new THREE.Camera;function a(a,n,o,s){i.set(n,o,s).unproject(r);var l=t[a];if(void 0!==l)for(var c=0,h=l.length;c<h;c++)e.vertices[l[c]].copy(i)}return function(){e=this.geometry,t=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),a("c",0,0,-1),a("t",0,0,1),a("n1",-1,-1,-1),a("n2",1,-1,-1),a("n3",-1,1,-1),a("n4",1,1,-1),a("f1",-1,-1,1),a("f2",1,-1,1),a("f3",-1,1,1),a("f4",1,1,1),a("u1",.7,1.1,-1),a("u2",-.7,1.1,-1),a("u3",0,2,-1),a("cf1",-1,0,1),a("cf2",1,0,1),a("cf3",0,-1,1),a("cf4",0,1,1),a("cn1",-1,0,-1),a("cn2",1,0,-1),a("cn3",0,-1,-1),a("cn4",0,1,-1),e.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,void 0===t&&(t=1);var i=new THREE.BufferGeometry;i.addAttribute("position",new THREE.Float32Attribute([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new THREE.LineBasicMaterial({fog:!1});this.add(new THREE.Line(i,r)),(i=new THREE.BufferGeometry).addAttribute("position",new THREE.Float32Attribute([0,0,0,0,0,1],3)),this.add(new THREE.Line(i,r)),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper,THREE.DirectionalLightHelper.prototype.dispose=function(){var e=this.children[0],t=this.children[1];e.geometry.dispose(),e.material.dispose(),t.geometry.dispose(),t.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e);var r=this.children[0],a=this.children[1];r.lookAt(i),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),a.lookAt(i),a.scale.z=i.length()}}(),THREE.EdgesHelper=function(e,t,i){var r=void 0!==t?t:16777215;THREE.LineSegments.call(this,new THREE.EdgesGeometry(e.geometry,i),new THREE.LineBasicMaterial({color:r})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper,THREE.FaceNormalsHelper=function(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var a=void 0!==i?i:16776960,n=void 0!==r?r:1,o=0,s=this.object.geometry;s instanceof THREE.Geometry&&(o=s.faces.length);var l=new THREE.BufferGeometry,c=new THREE.Float32Attribute(2*o*3,3);l.addAttribute("position",c),THREE.LineSegments.call(this,l,new THREE.LineBasicMaterial({color:a,linewidth:n})),this.matrixAutoUpdate=!1,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper,THREE.FaceNormalsHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Matrix3;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,a=this.geometry.attributes.position,n=this.object.geometry,o=n.vertices,s=n.faces,l=0,c=0,h=s.length;c<h;c++){var u=s[c],d=u.normal;e.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(r),t.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}return a.needsUpdate=!0,this}}(),THREE.GridHelper=function(e,t,i,r){i=new THREE.Color(void 0!==i?i:4473924),r=new THREE.Color(void 0!==r?r:8947848);for(var a=[],n=[],o=-e,s=0;o<=e;o+=t){a.push(-e,0,o,e,0,o),a.push(o,0,-e,o,0,e);var l=0===o?i:r;l.toArray(n,s),s+=3,l.toArray(n,s),s+=3,l.toArray(n,s),s+=3,l.toArray(n,s),s+=3}var c=new THREE.BufferGeometry;c.addAttribute("position",new THREE.Float32Attribute(a,3)),c.addAttribute("color",new THREE.Float32Attribute(n,3));var h=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,c,h)},THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.GridHelper.prototype.constructor=THREE.GridHelper,THREE.GridHelper.prototype.setColors=function(){},THREE.HemisphereLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var i=new THREE.SphereGeometry(t,4,2);i.rotateX(-Math.PI/2);for(var r=0;r<8;r++)i.faces[r].color=this.colors[r<4?0:1];var a=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(i,a),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper,THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var i=new THREE.SphereBufferGeometry(t,4,2),r=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper,THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new THREE.Geometry,i=0;i<this.bones.length;i++)this.bones[i].parent instanceof THREE.Bone&&(t.vertices.push(new THREE.Vector3),t.vertices.push(new THREE.Vector3),t.colors.push(new THREE.Color(0,0,1)),t.colors.push(new THREE.Color(0,1,0)));t.dynamic=!0;var r=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.LineSegments.call(this,t,r),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper,THREE.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof THREE.Bone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,this.getBoneList(e.children[i]));return t},THREE.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new THREE.Matrix4).getInverse(this.root.matrixWorld),i=new THREE.Matrix4,r=0,a=0;a<this.bones.length;a++){var n=this.bones[a];n.parent instanceof THREE.Bone&&(i.multiplyMatrices(t,n.matrixWorld),e.vertices[r].setFromMatrixPosition(i),i.multiplyMatrices(t,n.parent.matrixWorld),e.vertices[r+1].setFromMatrixPosition(i),r+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},THREE.SpotLightHelper=function(e){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;for(var t=new THREE.BufferGeometry,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var n=r/32*Math.PI*2,o=a/32*Math.PI*2;i.push(Math.cos(n),Math.sin(n),1,Math.cos(o),Math.sin(o),1)}t.addAttribute("position",new THREE.Float32Attribute(i,3));var s=new THREE.LineBasicMaterial({fog:!1});this.cone=new THREE.LineSegments(t,s),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper,THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){var i=this.light.distance?this.light.distance:1e3,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var a=void 0!==i?i:16711680,n=void 0!==r?r:1,o=0,s=this.object.geometry;s instanceof THREE.Geometry?o=3*s.faces.length:s instanceof THREE.BufferGeometry&&(o=s.attributes.normal.count);var l=new THREE.BufferGeometry,c=new THREE.Float32Attribute(2*o*3,3);l.addAttribute("position",c),THREE.LineSegments.call(this,l,new THREE.LineBasicMaterial({color:a,linewidth:n})),this.matrixAutoUpdate=!1,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper,THREE.VertexNormalsHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Matrix3;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var a=this.object.matrixWorld,n=this.geometry.attributes.position,o=this.object.geometry;if(o instanceof THREE.Geometry)for(var s=o.vertices,l=o.faces,c=0,h=0,u=l.length;h<u;h++)for(var d=l[h],p=0,m=d.vertexNormals.length;p<m;p++){var f=s[d[r[p]]],E=d.vertexNormals[p];e.copy(f).applyMatrix4(a),t.copy(E).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),n.setXYZ(c,e.x,e.y,e.z),c+=1,n.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o instanceof THREE.BufferGeometry){var g=o.attributes.position,T=o.attributes.normal;for(c=0,p=0,m=g.count;p<m;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(a),t.set(T.getX(p),T.getY(p),T.getZ(p)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),n.setXYZ(c,e.x,e.y,e.z),c+=1,n.setXYZ(c,t.x,t.y,t.z),c+=1}return n.needsUpdate=!0,this}}(),THREE.WireframeHelper=function(e,t){var i=void 0!==t?t:16777215;THREE.LineSegments.call(this,new THREE.WireframeGeometry(e.geometry),new THREE.LineBasicMaterial({color:i})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper,THREE.ImmediateRenderObject=function(e){THREE.Object3D.call(this),this.material=e,this.render=function(e){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject,THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,r=i-1,a=i/1;this.createAnimation("__default",0,r,a),this.setAnimationWeight("__default",1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh,THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,i,r){var a={start:t,end:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=a,this.animationsList.push(a)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,i=/([a-z]+)_?(\d+)/i,r={},a=this.geometry,n=0,o=a.morphTargets.length;n<o;n++){var s=a.morphTargets[n].name.match(i);s&&s.length>1&&(r[l=s[1]]||(r[l]={start:1/0,end:-1/0}),n<(c=r[l]).start&&(c.start=n),n>c.end&&(c.end=n),t||(t=l))}for(var l in r){var c=r[l];this.createAnimation(l,c.start,c.end,e)}this.firstAnimation=t},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];i&&(i.weight=t)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];i&&(i.time=t)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,i=this.animationsMap[e];return i&&(t=i.time),t},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,i=this.animationsMap[e];return i&&(t=i.duration),t},THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t&&(t.time=0,t.active=!0)},THREE.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var r=this.animationsList[t];if(r.active){var a=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var n=r.start+THREE.Math.clamp(Math.floor(r.time/a),0,r.length-1),o=r.weight;n!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*o,this.morphTargetInfluences[n]=0,r.lastFrame=r.currentFrame,r.currentFrame=n);var s=r.time%a/a;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*o,this.morphTargetInfluences[r.lastFrame]=(1-s)*o):this.morphTargetInfluences[r.currentFrame]=o}}};var TransparentTest=function(e,t,i,r,a){this.vertices=e,this.indices=t,this.texCoords=i,this.texture=a,this.normals=r,this.canvas=null,this.cb=null,this.level=null,this.numChildren=8,this.children=[],this.IDs=sender.getIDs(this.numChildren),this.numChildrenRun=0,this.childComplete=function(){if(++this.numChildrenRun==this.numChildren)this.cb(this.level);else{var e=this.numChildrenRun;this.children[e].begin(this.canvas)}},this.numChildrenLoaded=0,this.childLoaded=function(){if(++this.numChildrenLoaded==this.numChildren){var e=this.numChildrenRun;this.children[e].begin(this.canvas)}};var n=function(e,t,i,r,a){this.begin=function(n){var o;10==r?(n=getCanvas("can_aa"),o=getGLAA(n)):o=getGL(n),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.frontFace(o.CCW),o.cullFace(o.BACK);var s=o.createShader(o.VERTEX_SHADER),l=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(s,e),o.shaderSource(l,t),o.compileShader(s),o.getShaderParameter(s,o.COMPILE_STATUS)&&(o.compileShader(l),o.getShaderParameter(l,o.COMPILE_STATUS))){var c=o.createProgram();if(o.attachShader(c,s),o.attachShader(c,l),o.linkProgram(c),o.getProgramParameter(c,o.LINK_STATUS)&&(o.validateProgram(c),o.getProgramParameter(c,o.VALIDATE_STATUS))){var h=a.vertices,u=a.indices,d=a.texCoords,p=a.normals,m=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,m),o.bufferData(o.ARRAY_BUFFER,new Float32Array(h),o.STATIC_DRAW);var f=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,f),o.bufferData(o.ARRAY_BUFFER,new Float32Array(d),o.STATIC_DRAW);var E=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,E),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array(u),o.STATIC_DRAW);var g=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,g),o.bufferData(o.ARRAY_BUFFER,new Float32Array(p),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,m);var T=o.getAttribLocation(c,"vertPosition");o.vertexAttribPointer(T,3,o.FLOAT,o.FALSE,3*Float32Array.BYTES_PER_ELEMENT,0),o.enableVertexAttribArray(T),o.bindBuffer(o.ARRAY_BUFFER,f);var v=o.getAttribLocation(c,"vertTexCoord");o.vertexAttribPointer(v,2,o.FLOAT,o.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0),o.enableVertexAttribArray(v),o.bindBuffer(o.ARRAY_BUFFER,g);var M=o.getAttribLocation(c,"vertNormal");o.vertexAttribPointer(M,3,o.FLOAT,o.TRUE,3*Float32Array.BYTES_PER_ELEMENT,0),o.enableVertexAttribArray(M);var S=o.createTexture();o.bindTexture(o.TEXTURE_2D,S),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,a.texture),o.bindTexture(o.TEXTURE_2D,null),o.useProgram(c);var y=o.getUniformLocation(c,"mWorld"),R=o.getUniformLocation(c,"mView"),x=o.getUniformLocation(c,"mProj"),b=new Float32Array(16),H=new Float32Array(16),B=new Float32Array(16);mat4.identity(b),mat4.lookAt(H,[0,0,-7],[0,0,0],[0,1,0]),mat4.perspective(B,glMatrix.toRadian(45),n.width/n.height,.1,1e3),o.uniformMatrix4fv(y,o.FALSE,b),o.uniformMatrix4fv(R,o.FALSE,H),o.uniformMatrix4fv(x,o.FALSE,B);var L=new Float32Array(16),A=new Float32Array(16);o.useProgram(c);var w=o.getUniformLocation(c,"ambientLightIntensity"),_=o.getUniformLocation(c,"sun.direction"),C=o.getUniformLocation(c,"sun.diffuse"),I=o.getUniformLocation(c,"sun.specular"),P=o.getUniformLocation(c,"uAlpha");o.uniform3f(w,.3,.3,.3),o.uniform3f(_,.8,-.8,-.8),o.uniform3f(C,.75,.75,1),o.uniform3f(I,.8,.8,.8),o.uniform1f(P,i/100);var F=new Float32Array(16);mat4.identity(F);var N=0,D=45;F=new Float32Array(16),mat4.identity(F),o.blendFunc(o.SRC_ALPHA,o.ONE),o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.clearColor(0,0,0,1),o.clear(o.DEPTH_BUFFER_BIT|o.COLOR_BUFFER_BIT);var G=function(){var e=requestAnimationFrame(G);N=D++/20,mat4.rotate(A,F,N,[0,1,0]),mat4.rotate(L,F,-1.5,[1,0,0]),mat4.mul(b,A,L),o.uniformMatrix4fv(y,o.FALSE,b),o.clear(o.DEPTH_BUFFER_BIT|o.COLOR_BUFFER_BIT),o.bindTexture(o.TEXTURE_2D,S),o.activeTexture(o.TEXTURE0),o.drawElements(o.TRIANGLES,u.length,o.UNSIGNED_SHORT,0),50==D&&(cancelAnimationFrame(e),sender.getData(o,a.IDs[r]),a.childComplete())};requestAnimationFrame(G)}}}};this.begin=function(e,t,i){this.canvas=e,this.cb=t,this.level=i;var r="static/assets/";loadTextResource(r+"shader_trans.vs.glsl",(function(e,t,i){e||loadTextResource(r+"shader_trans.fs.glsl",(function(e,i,r){e||(r.children.push(new n(t,i,100,0,r)),r.childLoaded(),r.children.push(new n(t,i,9,1,r)),r.childLoaded(),r.children.push(new n(t,i,10,2,r)),r.childLoaded(),r.children.push(new n(t,i,11,3,r)),r.childLoaded(),r.children.push(new n(t,i,50,4,r)),r.childLoaded(),r.children.push(new n(t,i,79,5,r)),r.childLoaded(),r.children.push(new n(t,i,80,6,r)),r.childLoaded(),r.children.push(new n(t,i,81,7,r)),r.childLoaded())}),i)}),this)}},TwoTexturesMoreLightTest=function(e,t,i,r,a,n){this.vertices=e,this.indices=t,this.texCoords=i,this.texture1=a,this.texture2=n,this.normals=r,this.canvas=null,this.cb=null,this.level=null,this.numChildren=1,this.children=[],this.IDs=sender.getIDs(this.numChildren),this.numChildrenRun=0,this.childComplete=function(){if(++this.numChildrenRun==this.numChildren)this.cb();else{var e=this.numChildrenRun;this.children[e].begin(this.canvas)}},this.numChildrenLoaded=0,this.childLoaded=function(){if(++this.numChildrenLoaded==this.numChildren){var e=this.numChildrenRun;this.children[e].begin(this.canvas)}};var o=function(e,t,i,r){this.begin=function(a){var n=getGL(a);n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(n.BACK);var o=n.createShader(n.VERTEX_SHADER),s=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(o,e),n.shaderSource(s,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)&&(n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS))){var l=n.createProgram();if(n.attachShader(l,o),n.attachShader(l,s),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)&&(n.validateProgram(l),n.getProgramParameter(l,n.VALIDATE_STATUS))){var c=r.vertices,h=r.indices,u=r.texCoords,d=r.normals,p=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,new Float32Array(c),n.STATIC_DRAW);var m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,new Float32Array(u),n.STATIC_DRAW);var f=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,f),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),n.STATIC_DRAW);var E=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,E),n.bufferData(n.ARRAY_BUFFER,new Float32Array(d),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,p);var g=n.getAttribLocation(l,"vertPosition");n.vertexAttribPointer(g,3,n.FLOAT,n.FALSE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(g),n.bindBuffer(n.ARRAY_BUFFER,m);var T=n.getAttribLocation(l,"vertTexCoord");n.vertexAttribPointer(T,2,n.FLOAT,n.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(T),n.bindBuffer(n.ARRAY_BUFFER,E);var v=n.getAttribLocation(l,"vertNormal");n.vertexAttribPointer(v,3,n.FLOAT,n.TRUE,3*Float32Array.BYTES_PER_ELEMENT,0),n.enableVertexAttribArray(v);var M=[],S=n.createTexture();n.bindTexture(n.TEXTURE_2D,S),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r.texture1),M.push(S);var y=n.createTexture();n.bindTexture(n.TEXTURE_2D,y),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r.texture2),M.push(y),n.useProgram(l);var R=n.getUniformLocation(l,"mWorld"),x=n.getUniformLocation(l,"mView"),b=n.getUniformLocation(l,"mProj"),H=new Float32Array(16),B=new Float32Array(16),L=new Float32Array(16);mat4.identity(H),mat4.lookAt(B,[0,0,-7],[0,0,0],[0,1,0]),mat4.perspective(L,glMatrix.toRadian(45),a.width/a.height,.1,1e3),n.uniformMatrix4fv(R,n.FALSE,H),n.uniformMatrix4fv(x,n.FALSE,B),n.uniformMatrix4fv(b,n.FALSE,L);var A=new Float32Array(16),w=new Float32Array(16);n.useProgram(l);var _=n.getUniformLocation(l,"ambientLightIntensity"),C=n.getUniformLocation(l,"sun.direction"),I=n.getUniformLocation(l,"sun.diffuse"),P=n.getUniformLocation(l,"sun.specular"),F=n.getUniformLocation(l,"image0"),N=n.getUniformLocation(l,"image1");n.uniform3f(_,.3,.3,.3),n.uniform3f(C,.8,-.8,-.8),n.uniform3f(I,.75,.75,1),n.uniform3f(P,.8,.8,.8),n.uniform1i(F,0),n.uniform1i(N,1);var D=new Float32Array(16);mat4.identity(D);var G=0,k=45;D=new Float32Array(16),mat4.identity(D),n.enable(n.DEPTH_TEST);var U=function(){var e=requestAnimationFrame(U);G=k++/20,mat4.rotate(w,D,G,[0,1,0]),mat4.rotate(A,D,G/4,[1,0,0]),mat4.mul(H,w,A),n.uniformMatrix4fv(R,n.FALSE,H),n.clearColor(0,0,0,1),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT),n.bindTexture(n.TEXTURE_2D,M[0]),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,M[1]),n.activeTexture(n.TEXTURE1),n.drawElements(n.TRIANGLES,h.length,n.UNSIGNED_SHORT,0),55==k&&(cancelAnimationFrame(e),sender.getData(n,r.IDs[i]),r.childComplete())};requestAnimationFrame(U)}}}};this.begin=function(e,t){this.canvas=e,this.cb=t;var i="static/assets/";loadTextResource(i+"shader_2_tex.vs.glsl",(function(e,t,r){e||loadTextResource(i+"shader_2_tex.fs.glsl",(function(e,i,r){e||(r.children.push(new o(t,i,0,r)),r.childLoaded())}),r)}),this)}},VideoCollector=function(e,t,i){this.IDs=sender.getIDs(4),this.ctxID=0,this.glID=1,this.ctxHashes=new Set,this.glHashes=new Set,this.ctxMode=!0,this.cb=null,this.ctx=null,this.gl=null,this.vx_ptr=null,this.vx=null,this.tex=null,this.ix=null,this.startGL=function(){var e=$('<canvas width="256" height="256"></canvas>').appendTo($("#test_canvases"))[0];this.gl=getGL(e),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);var t=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(t,"attribute vec2 vx;varying vec2 tx;void main(){gl_Position=vec4(vx.x*2.0-1.0,1.0-vx.y*2.0,0,1);tx=vx;}"),this.gl.compileShader(t);var i=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(i,"precision mediump float;uniform sampler2D sm;varying vec2 tx;void main(){gl_FragColor=texture2D(sm,tx);}"),this.gl.compileShader(i);var r=this.gl.createProgram();this.gl.attachShader(r,t),this.gl.attachShader(r,i),this.gl.linkProgram(r),this.gl.useProgram(r),this.vx_ptr=this.gl.getAttribLocation(r,"vx"),this.gl.enableVertexAttribArray(this.vx_ptr),this.gl.uniform1i(this.gl.getUniformLocation(r,"sm"),0),this.vx=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vx),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),this.gl.STATIC_DRAW),this.ix=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.ix),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),this.gl.STATIC_DRAW),this.tex=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.tex),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)};var r=$('<canvas width="256" height="256"></canvas>').appendTo($("#test_canvases"))[0];this.ctx=r.getContext("2d"),this.startGL(),this.collector=function(){var e;++this.count%3==2&&(this.collected[0]<2&&((e=sender.getDataFromCanvas(this.ctx,this.IDs[this.ctxID]))&&(this.ctxHashes.add(e),this.ctxHashes.length>this.collected[0]&&(++this.collected[0],this.ctxID+=2)),this.count>24&&(++this.collected[0],this.ctxID+=2)),this.collected[1]<2&&((e=sender.getData(this.gl,this.IDs[this.glID]))&&(this.glHashes.add(e),this.glHashes.length>this.collected[1]&&(++this.collected[1],this.glID+=2)),this.count>24&&(++this.collected[1],this.glID+=2)),2==this.collected[1]&&2==this.collected[0]&&(this.video[0].pause(),cancelAnimationFrame(this.frame),this.cb(),++this.collected[1]))},this.begin=function(i){this.cb=i,this.video=$("<video/>").appendTo($("body")),this.video.addClass("hidden-vid"),$('<source src="'+e+'" type="video/webm"/>').appendTo(this.video),$('<source src="'+t+'" type="video/mp4"/>').appendTo(this.video),$('<source src="./video/backup.mp4" type="video/mp4"/>').appendTo(this.video),this.video.prop("loop",!0),this.video.prop("autoplay",!0),this.video.on("play",{self:this},(function(e){!function e(t,i,r,a){a.frame=requestAnimationFrame((function(){e(t,i,r,a)}));var n=9/16*t,o=(i-n)/2;a.ctx.drawImage(r,0,o,t,n),a.gl.viewport(0,o,t,n),a.gl.clear(a.gl.COLOR_BUFFER_BIT),a.gl.activeTexture(a.gl.TEXTURE0),a.gl.bindTexture(a.gl.TEXTURE_2D,a.tex),a.gl.texImage2D(a.gl.TEXTURE_2D,0,a.gl.RGB,a.gl.RGB,a.gl.UNSIGNED_BYTE,r),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,a.vx),a.gl.vertexAttribPointer(a.vx_ptr,2,a.gl.FLOAT,!1,0,0),a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,a.ix),a.gl.drawElements(a.gl.TRIANGLES,6,a.gl.UNSIGNED_SHORT,0),a.collector()}(256,256,this,e.data.self)})),this.video.prop("muted",!0),this.count=0,this.collected=[0,0],this.video.on("timeupdate",{self:this},(function(e){e.data.self}))}},VideoTest=function(){var e=new VideoCollector("./video/rainbow.webm","./video/rainbow.mp4",0);this.begin=function(t){e.begin(t)}},Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,i,r;t=void 0!==(e=e||{}).parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",(r=Detector.getWebGLErrorMessage()).id=i,t.appendChild(r)}};"object"==typeof module&&(module.exports=Detector),THREE.DDSLoader=function(){this._parser=THREE.DDSLoader.parse},THREE.DDSLoader.prototype=Object.create(THREE.CompressedTextureLoader.prototype),THREE.DDSLoader.prototype.constructor=THREE.DDSLoader,THREE.DDSLoader.parse=function(e,t){var i={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function r(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function a(e,t,i,r){for(var a=i*r*4,n=new Uint8Array(e,t,a),o=new Uint8Array(a),s=0,l=0,c=0;c<r;c++)for(var h=0;h<i;h++){var u=n[l],d=n[++l],p=n[++l],m=n[++l];l++,o[s]=p,o[++s]=d,o[++s]=u,o[++s]=m,s++}return o}var n,o=r("DXT1"),s=r("DXT3"),l=r("DXT5"),c=r("ETC1"),h=new Int32Array(e,0,31);if(542327876!==h[0])return i;if(4&!h[20])return i;var u=!1;switch(h[21]){case o:n=8,i.format=THREE.RGB_S3TC_DXT1_Format;break;case s:n=16,i.format=THREE.RGBA_S3TC_DXT3_Format;break;case l:n=16,i.format=THREE.RGBA_S3TC_DXT5_Format;break;case c:n=8,i.format=THREE.RGB_ETC1_Format;break;default:if(!(32===h[22]&&16711680&h[23]&&65280&h[24]&&255&h[25]&&4278190080&h[26]))return i;u=!0,n=64,i.format=THREE.RGBAFormat}i.mipmapCount=1,131072&h[2]&&!1!==t&&(i.mipmapCount=Math.max(1,h[7]));var d=h[28];if(i.isCubemap=!!(512&d),i.isCubemap&&(!(1024&d)||!(2048&d)||!(4096&d)||!(8192&d)||!(16384&d)||!(32768&d)))return i;i.width=h[4],i.height=h[3];for(var p=h[1]+4,m=i.isCubemap?6:1,f=0;f<m;f++)for(var E=i.width,g=i.height,T=0;T<i.mipmapCount;T++){if(u)var v=(M=a(e,p,E,g)).length;else{v=Math.max(4,E)/4*Math.max(4,g)/4*n;var M=new Uint8Array(e,p,v)}var S={data:M,width:E,height:g};i.mipmaps.push(S),p+=v,E=Math.max(E>>1,1),g=Math.max(g>>1,1)}return i},THREE.PVRLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this._parser=THREE.PVRLoader.parse},THREE.PVRLoader.prototype=Object.create(THREE.CompressedTextureLoader.prototype),THREE.PVRLoader.prototype.constructor=THREE.PVRLoader,THREE.PVRLoader.parse=function(e,t){var i=new Uint32Array(e,0,13),r={buffer:e,header:i,loadMipmaps:t};if(55727696===i[0])return THREE.PVRLoader._parseV3(r);if(559044176===i[11])return THREE.PVRLoader._parseV2(r);throw new Error("[THREE.PVRLoader] Unknown PVR format")},THREE.PVRLoader._parseV3=function(e){var t,i,r=e.header,a=r[12],n=r[2],o=r[6],s=r[7],l=(r[9],r[10]),c=r[11];switch(n){case 0:t=2,i=THREE.RGB_PVRTC_2BPPV1_Format;break;case 1:t=2,i=THREE.RGBA_PVRTC_2BPPV1_Format;break;case 2:t=4,i=THREE.RGB_PVRTC_4BPPV1_Format;break;case 3:t=4,i=THREE.RGBA_PVRTC_4BPPV1_Format;break;default:throw new Error("pvrtc - unsupported PVR format "+n)}return e.dataPtr=52+a,e.bpp=t,e.format=i,e.width=s,e.height=o,e.numSurfaces=l,e.numMipmaps=c,e.isCubemap=6===l,THREE.PVRLoader._extract(e)},THREE.PVRLoader._parseV2=function(e){var t,i=e.header,r=i[0],a=i[1],n=i[2],o=i[3],s=i[4],l=(i[5],i[6]),c=(i[7],i[8],i[9],i[10]),h=(i[11],i[12]),u=255&s,d=c>0;if(25===u)t=d?THREE.RGBA_PVRTC_4BPPV1_Format:THREE.RGB_PVRTC_4BPPV1_Format,l=4;else{if(24!==u)throw new Error("pvrtc - unknown format "+u);t=d?THREE.RGBA_PVRTC_2BPPV1_Format:THREE.RGB_PVRTC_2BPPV1_Format,l=2}return e.dataPtr=r,e.bpp=l,e.format=t,e.width=n,e.height=a,e.numSurfaces=h,e.numMipmaps=o+1,e.isCubemap=6===h,THREE.PVRLoader._extract(e)},THREE.PVRLoader._extract=function(e){var t,i={mipmaps:[],width:e.width,height:e.height,format:e.format,mipmapCount:e.numMipmaps,isCubemap:e.isCubemap},r=e.buffer,a=e.dataPtr,n=e.bpp,o=e.numSurfaces,s=0,l=0,c=0,h=0,u=0;2===n?(l=8,c=4):(l=4,c=4),t=l*c*n/8,i.mipmaps.length=e.numMipmaps*o;for(var d=0;d<e.numMipmaps;){var p=e.width>>d,m=e.height>>d;(h=p/l)<2&&(h=2),(u=m/c)<2&&(u=2),s=h*u*t;for(var f=0;f<o;f++){var E={data:new Uint8Array(r,a,s),width:p,height:m};i.mipmaps[f*e.numMipmaps+d]=E,a+=s}d++}return i},THREE.FresnelShader={uniforms:{mRefractionRatio:{value:1.02},mFresnelBias:{value:.1},mFresnelPower:{value:2},mFresnelScale:{value:1},tCube:{value:null}},vertexShader:["uniform float mRefractionRatio;","uniform float mFresnelBias;","uniform float mFresnelScale;","uniform float mFresnelPower;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );","vec3 I = worldPosition.xyz - cameraPosition;","vReflect = reflect( I, worldNormal );","vRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );","vRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );","vRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );","vReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","vec4 refractedColor = vec4( 1.0 );","refractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;","refractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;","refractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;","gl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );","}"].join("\n")};